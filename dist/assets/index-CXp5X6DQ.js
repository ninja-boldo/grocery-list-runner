function FV(V,m){for(var g=0;g<m.length;g++){const p=m[g];if(typeof p!="string"&&!Array.isArray(p)){for(const b in p)if(b!=="default"&&!(b in V)){const A=Object.getOwnPropertyDescriptor(p,b);A&&Object.defineProperty(V,b,A.get?A:{enumerable:!0,get:()=>p[b]})}}}return Object.freeze(Object.defineProperty(V,Symbol.toStringTag,{value:"Module"}))}(function(){const m=document.createElement("link").relList;if(m&&m.supports&&m.supports("modulepreload"))return;for(const b of document.querySelectorAll('link[rel="modulepreload"]'))p(b);new MutationObserver(b=>{for(const A of b)if(A.type==="childList")for(const S of A.addedNodes)S.tagName==="LINK"&&S.rel==="modulepreload"&&p(S)}).observe(document,{childList:!0,subtree:!0});function g(b){const A={};return b.integrity&&(A.integrity=b.integrity),b.referrerPolicy&&(A.referrerPolicy=b.referrerPolicy),b.crossOrigin==="use-credentials"?A.credentials="include":b.crossOrigin==="anonymous"?A.credentials="omit":A.credentials="same-origin",A}function p(b){if(b.ep)return;b.ep=!0;const A=g(b);fetch(b.href,A)}})();var Uo=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function qh(V){return V&&V.__esModule&&Object.prototype.hasOwnProperty.call(V,"default")?V.default:V}var Zc={exports:{}},cs={};var mh;function zV(){if(mh)return cs;mh=1;var V=Symbol.for("react.transitional.element"),m=Symbol.for("react.fragment");function g(p,b,A){var S=null;if(A!==void 0&&(S=""+A),b.key!==void 0&&(S=""+b.key),"key"in b){A={};for(var O in b)O!=="key"&&(A[O]=b[O])}else A=b;return b=A.ref,{$$typeof:V,type:p,key:S,ref:b!==void 0?b:null,props:A}}return cs.Fragment=m,cs.jsx=g,cs.jsxs=g,cs}var ph;function jV(){return ph||(ph=1,Zc.exports=zV()),Zc.exports}var D=jV(),qc={exports:{}},et={};var Ah;function HV(){if(Ah)return et;Ah=1;var V=Symbol.for("react.transitional.element"),m=Symbol.for("react.portal"),g=Symbol.for("react.fragment"),p=Symbol.for("react.strict_mode"),b=Symbol.for("react.profiler"),A=Symbol.for("react.consumer"),S=Symbol.for("react.context"),O=Symbol.for("react.forward_ref"),N=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),J=Symbol.iterator;function ne(L){return L===null||typeof L!="object"?null:(L=J&&L[J]||L["@@iterator"],typeof L=="function"?L:null)}var ue={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},te=Object.assign,z={};function Z(L,U,Y){this.props=L,this.context=U,this.refs=z,this.updater=Y||ue}Z.prototype.isReactComponent={},Z.prototype.setState=function(L,U){if(typeof L!="object"&&typeof L!="function"&&L!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,L,U,"setState")},Z.prototype.forceUpdate=function(L){this.updater.enqueueForceUpdate(this,L,"forceUpdate")};function G(){}G.prototype=Z.prototype;function X(L,U,Y){this.props=L,this.context=U,this.refs=z,this.updater=Y||ue}var se=X.prototype=new G;se.constructor=X,te(se,Z.prototype),se.isPureReactComponent=!0;var Ee=Array.isArray;function me(){}var Q={H:null,A:null,T:null,S:null},Se=Object.prototype.hasOwnProperty;function ce(L,U,Y){var ae=Y.ref;return{$$typeof:V,type:L,key:U,ref:ae!==void 0?ae:null,props:Y}}function Ze(L,U){return ce(L.type,U,L.props)}function qe(L){return typeof L=="object"&&L!==null&&L.$$typeof===V}function de(L){var U={"=":"=0",":":"=2"};return"$"+L.replace(/[=:]/g,function(Y){return U[Y]})}var Re=/\/+/g;function _e(L,U){return typeof L=="object"&&L!==null&&L.key!=null?de(""+L.key):U.toString(36)}function W(L){switch(L.status){case"fulfilled":return L.value;case"rejected":throw L.reason;default:switch(typeof L.status=="string"?L.then(me,me):(L.status="pending",L.then(function(U){L.status==="pending"&&(L.status="fulfilled",L.value=U)},function(U){L.status==="pending"&&(L.status="rejected",L.reason=U)})),L.status){case"fulfilled":return L.value;case"rejected":throw L.reason}}throw L}function $(L,U,Y,ae,Ce){var ie=typeof L;(ie==="undefined"||ie==="boolean")&&(L=null);var ze=!1;if(L===null)ze=!0;else switch(ie){case"bigint":case"string":case"number":ze=!0;break;case"object":switch(L.$$typeof){case V:case m:ze=!0;break;case _:return ze=L._init,$(ze(L._payload),U,Y,ae,Ce)}}if(ze)return Ce=Ce(L),ze=ae===""?"."+_e(L,0):ae,Ee(Ce)?(Y="",ze!=null&&(Y=ze.replace(Re,"$&/")+"/"),$(Ce,U,Y,"",function(pt){return pt})):Ce!=null&&(qe(Ce)&&(Ce=Ze(Ce,Y+(Ce.key==null||L&&L.key===Ce.key?"":(""+Ce.key).replace(Re,"$&/")+"/")+ze)),U.push(Ce)),1;ze=0;var je=ae===""?".":ae+":";if(Ee(L))for(var Je=0;Je<L.length;Je++)ae=L[Je],ie=je+_e(ae,Je),ze+=$(ae,U,Y,ie,Ce);else if(Je=ne(L),typeof Je=="function")for(L=Je.call(L),Je=0;!(ae=L.next()).done;)ae=ae.value,ie=je+_e(ae,Je++),ze+=$(ae,U,Y,ie,Ce);else if(ie==="object"){if(typeof L.then=="function")return $(W(L),U,Y,ae,Ce);throw U=String(L),Error("Objects are not valid as a React child (found: "+(U==="[object Object]"?"object with keys {"+Object.keys(L).join(", ")+"}":U)+"). If you meant to render a collection of children, use an array instead.")}return ze}function Ve(L,U,Y){if(L==null)return L;var ae=[],Ce=0;return $(L,ae,"","",function(ie){return U.call(Y,ie,Ce++)}),ae}function we(L){if(L._status===-1){var U=L._result;U=U(),U.then(function(Y){(L._status===0||L._status===-1)&&(L._status=1,L._result=Y)},function(Y){(L._status===0||L._status===-1)&&(L._status=2,L._result=Y)}),L._status===-1&&(L._status=0,L._result=U)}if(L._status===1)return L._result.default;throw L._result}var Oe=typeof reportError=="function"?reportError:function(L){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var U=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof L=="object"&&L!==null&&typeof L.message=="string"?String(L.message):String(L),error:L});if(!window.dispatchEvent(U))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",L);return}console.error(L)},Ie={map:Ve,forEach:function(L,U,Y){Ve(L,function(){U.apply(this,arguments)},Y)},count:function(L){var U=0;return Ve(L,function(){U++}),U},toArray:function(L){return Ve(L,function(U){return U})||[]},only:function(L){if(!qe(L))throw Error("React.Children.only expected to receive a single React element child.");return L}};return et.Activity=I,et.Children=Ie,et.Component=Z,et.Fragment=g,et.Profiler=b,et.PureComponent=X,et.StrictMode=p,et.Suspense=N,et.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Q,et.__COMPILER_RUNTIME={__proto__:null,c:function(L){return Q.H.useMemoCache(L)}},et.cache=function(L){return function(){return L.apply(null,arguments)}},et.cacheSignal=function(){return null},et.cloneElement=function(L,U,Y){if(L==null)throw Error("The argument must be a React element, but you passed "+L+".");var ae=te({},L.props),Ce=L.key;if(U!=null)for(ie in U.key!==void 0&&(Ce=""+U.key),U)!Se.call(U,ie)||ie==="key"||ie==="__self"||ie==="__source"||ie==="ref"&&U.ref===void 0||(ae[ie]=U[ie]);var ie=arguments.length-2;if(ie===1)ae.children=Y;else if(1<ie){for(var ze=Array(ie),je=0;je<ie;je++)ze[je]=arguments[je+2];ae.children=ze}return ce(L.type,Ce,ae)},et.createContext=function(L){return L={$$typeof:S,_currentValue:L,_currentValue2:L,_threadCount:0,Provider:null,Consumer:null},L.Provider=L,L.Consumer={$$typeof:A,_context:L},L},et.createElement=function(L,U,Y){var ae,Ce={},ie=null;if(U!=null)for(ae in U.key!==void 0&&(ie=""+U.key),U)Se.call(U,ae)&&ae!=="key"&&ae!=="__self"&&ae!=="__source"&&(Ce[ae]=U[ae]);var ze=arguments.length-2;if(ze===1)Ce.children=Y;else if(1<ze){for(var je=Array(ze),Je=0;Je<ze;Je++)je[Je]=arguments[Je+2];Ce.children=je}if(L&&L.defaultProps)for(ae in ze=L.defaultProps,ze)Ce[ae]===void 0&&(Ce[ae]=ze[ae]);return ce(L,ie,Ce)},et.createRef=function(){return{current:null}},et.forwardRef=function(L){return{$$typeof:O,render:L}},et.isValidElement=qe,et.lazy=function(L){return{$$typeof:_,_payload:{_status:-1,_result:L},_init:we}},et.memo=function(L,U){return{$$typeof:y,type:L,compare:U===void 0?null:U}},et.startTransition=function(L){var U=Q.T,Y={};Q.T=Y;try{var ae=L(),Ce=Q.S;Ce!==null&&Ce(Y,ae),typeof ae=="object"&&ae!==null&&typeof ae.then=="function"&&ae.then(me,Oe)}catch(ie){Oe(ie)}finally{U!==null&&Y.types!==null&&(U.types=Y.types),Q.T=U}},et.unstable_useCacheRefresh=function(){return Q.H.useCacheRefresh()},et.use=function(L){return Q.H.use(L)},et.useActionState=function(L,U,Y){return Q.H.useActionState(L,U,Y)},et.useCallback=function(L,U){return Q.H.useCallback(L,U)},et.useContext=function(L){return Q.H.useContext(L)},et.useDebugValue=function(){},et.useDeferredValue=function(L,U){return Q.H.useDeferredValue(L,U)},et.useEffect=function(L,U){return Q.H.useEffect(L,U)},et.useEffectEvent=function(L){return Q.H.useEffectEvent(L)},et.useId=function(){return Q.H.useId()},et.useImperativeHandle=function(L,U,Y){return Q.H.useImperativeHandle(L,U,Y)},et.useInsertionEffect=function(L,U){return Q.H.useInsertionEffect(L,U)},et.useLayoutEffect=function(L,U){return Q.H.useLayoutEffect(L,U)},et.useMemo=function(L,U){return Q.H.useMemo(L,U)},et.useOptimistic=function(L,U){return Q.H.useOptimistic(L,U)},et.useReducer=function(L,U,Y){return Q.H.useReducer(L,U,Y)},et.useRef=function(L){return Q.H.useRef(L)},et.useState=function(L){return Q.H.useState(L)},et.useSyncExternalStore=function(L,U,Y){return Q.H.useSyncExternalStore(L,U,Y)},et.useTransition=function(){return Q.H.useTransition()},et.version="19.2.3",et}var yh;function Qo(){return yh||(yh=1,qc.exports=HV()),qc.exports}var k=Qo();var wh="popstate";function PV(V={}){function m(p,b){let{pathname:A,search:S,hash:O}=p.location;return r0("",{pathname:A,search:S,hash:O},b.state&&b.state.usr||null,b.state&&b.state.key||"default")}function g(p,b){return typeof b=="string"?b:Vs(b)}return XV(m,g,null,V)}function $t(V,m){if(V===!1||V===null||typeof V>"u")throw new Error(m)}function Br(V,m){if(!V){typeof console<"u"&&console.warn(m);try{throw new Error(m)}catch{}}}function GV(){return Math.random().toString(36).substring(2,10)}function bh(V,m){return{usr:V.state,key:V.key,idx:m}}function r0(V,m,g=null,p){return{pathname:typeof V=="string"?V:V.pathname,search:"",hash:"",...typeof m=="string"?gl(m):m,state:g,key:m&&m.key||p||GV()}}function Vs({pathname:V="/",search:m="",hash:g=""}){return m&&m!=="?"&&(V+=m.charAt(0)==="?"?m:"?"+m),g&&g!=="#"&&(V+=g.charAt(0)==="#"?g:"#"+g),V}function gl(V){let m={};if(V){let g=V.indexOf("#");g>=0&&(m.hash=V.substring(g),V=V.substring(0,g));let p=V.indexOf("?");p>=0&&(m.search=V.substring(p),V=V.substring(0,p)),V&&(m.pathname=V)}return m}function XV(V,m,g,p={}){let{window:b=document.defaultView,v5Compat:A=!1}=p,S=b.history,O="POP",N=null,y=_();y==null&&(y=0,S.replaceState({...S.state,idx:y},""));function _(){return(S.state||{idx:null}).idx}function I(){O="POP";let z=_(),Z=z==null?null:z-y;y=z,N&&N({action:O,location:te.location,delta:Z})}function J(z,Z){O="PUSH";let G=r0(te.location,z,Z);y=_()+1;let X=bh(G,y),se=te.createHref(G);try{S.pushState(X,"",se)}catch(Ee){if(Ee instanceof DOMException&&Ee.name==="DataCloneError")throw Ee;b.location.assign(se)}A&&N&&N({action:O,location:te.location,delta:1})}function ne(z,Z){O="REPLACE";let G=r0(te.location,z,Z);y=_();let X=bh(G,y),se=te.createHref(G);S.replaceState(X,"",se),A&&N&&N({action:O,location:te.location,delta:0})}function ue(z){return YV(z)}let te={get action(){return O},get location(){return V(b,S)},listen(z){if(N)throw new Error("A history only accepts one active listener");return b.addEventListener(wh,I),N=z,()=>{b.removeEventListener(wh,I),N=null}},createHref(z){return m(b,z)},createURL:ue,encodeLocation(z){let Z=ue(z);return{pathname:Z.pathname,search:Z.search,hash:Z.hash}},push:J,replace:ne,go(z){return S.go(z)}};return te}function YV(V,m=!1){let g="http://localhost";typeof window<"u"&&(g=window.location.origin!=="null"?window.location.origin:window.location.href),$t(g,"No window.location.(origin|href) available to create URL");let p=typeof V=="string"?V:Vs(V);return p=p.replace(/ $/,"%20"),!m&&p.startsWith("//")&&(p=g+p),new URL(p,g)}function Qh(V,m,g="/"){return ZV(V,m,g,!1)}function ZV(V,m,g,p){let b=typeof m=="string"?gl(m):m,A=pa(b.pathname||"/",g);if(A==null)return null;let S=Wh(V);qV(S);let O=null;for(let N=0;O==null&&N<S.length;++N){let y=i2(A);O=r2(S[N],y,p)}return O}function Wh(V,m=[],g=[],p="",b=!1){let A=(S,O,N=b,y)=>{let _={relativePath:y===void 0?S.path||"":y,caseSensitive:S.caseSensitive===!0,childrenIndex:O,route:S};if(_.relativePath.startsWith("/")){if(!_.relativePath.startsWith(p)&&N)return;$t(_.relativePath.startsWith(p),`Absolute route path "${_.relativePath}" nested under path "${p}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),_.relativePath=_.relativePath.slice(p.length)}let I=ma([p,_.relativePath]),J=g.concat(_);S.children&&S.children.length>0&&($t(S.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${I}".`),Wh(S.children,m,J,I,N)),!(S.path==null&&!S.index)&&m.push({path:I,score:t2(I,S.index),routesMeta:J})};return V.forEach((S,O)=>{if(S.path===""||!S.path?.includes("?"))A(S,O);else for(let N of Kh(S.path))A(S,O,!0,N)}),m}function Kh(V){let m=V.split("/");if(m.length===0)return[];let[g,...p]=m,b=g.endsWith("?"),A=g.replace(/\?$/,"");if(p.length===0)return b?[A,""]:[A];let S=Kh(p.join("/")),O=[];return O.push(...S.map(N=>N===""?A:[A,N].join("/"))),b&&O.push(...S),O.map(N=>V.startsWith("/")&&N===""?"/":N)}function qV(V){V.sort((m,g)=>m.score!==g.score?g.score-m.score:n2(m.routesMeta.map(p=>p.childrenIndex),g.routesMeta.map(p=>p.childrenIndex)))}var QV=/^:[\w-]+$/,WV=3,KV=2,JV=1,$V=10,e2=-2,Eh=V=>V==="*";function t2(V,m){let g=V.split("/"),p=g.length;return g.some(Eh)&&(p+=e2),m&&(p+=KV),g.filter(b=>!Eh(b)).reduce((b,A)=>b+(QV.test(A)?WV:A===""?JV:$V),p)}function n2(V,m){return V.length===m.length&&V.slice(0,-1).every((p,b)=>p===m[b])?V[V.length-1]-m[m.length-1]:0}function r2(V,m,g=!1){let{routesMeta:p}=V,b={},A="/",S=[];for(let O=0;O<p.length;++O){let N=p[O],y=O===p.length-1,_=A==="/"?m:m.slice(A.length)||"/",I=Xo({path:N.relativePath,caseSensitive:N.caseSensitive,end:y},_),J=N.route;if(!I&&y&&g&&!p[p.length-1].route.index&&(I=Xo({path:N.relativePath,caseSensitive:N.caseSensitive,end:!1},_)),!I)return null;Object.assign(b,I.params),S.push({params:b,pathname:ma([A,I.pathname]),pathnameBase:u2(ma([A,I.pathnameBase])),route:J}),I.pathnameBase!=="/"&&(A=ma([A,I.pathnameBase]))}return S}function Xo(V,m){typeof V=="string"&&(V={path:V,caseSensitive:!1,end:!0});let[g,p]=a2(V.path,V.caseSensitive,V.end),b=m.match(g);if(!b)return null;let A=b[0],S=A.replace(/(.)\/+$/,"$1"),O=b.slice(1);return{params:p.reduce((y,{paramName:_,isOptional:I},J)=>{if(_==="*"){let ue=O[J]||"";S=A.slice(0,A.length-ue.length).replace(/(.)\/+$/,"$1")}const ne=O[J];return I&&!ne?y[_]=void 0:y[_]=(ne||"").replace(/%2F/g,"/"),y},{}),pathname:A,pathnameBase:S,pattern:V}}function a2(V,m=!1,g=!0){Br(V==="*"||!V.endsWith("*")||V.endsWith("/*"),`Route path "${V}" will be treated as if it were "${V.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${V.replace(/\*$/,"/*")}".`);let p=[],b="^"+V.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(S,O,N)=>(p.push({paramName:O,isOptional:N!=null}),N?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return V.endsWith("*")?(p.push({paramName:"*"}),b+=V==="*"||V==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):g?b+="\\/*$":V!==""&&V!=="/"&&(b+="(?:(?=\\/|$))"),[new RegExp(b,m?void 0:"i"),p]}function i2(V){try{return V.split("/").map(m=>decodeURIComponent(m).replace(/\//g,"%2F")).join("/")}catch(m){return Br(!1,`The URL path "${V}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${m}).`),V}}function pa(V,m){if(m==="/")return V;if(!V.toLowerCase().startsWith(m.toLowerCase()))return null;let g=m.endsWith("/")?m.length-1:m.length,p=V.charAt(g);return p&&p!=="/"?null:V.slice(g)||"/"}var Jh=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,l2=V=>Jh.test(V);function s2(V,m="/"){let{pathname:g,search:p="",hash:b=""}=typeof V=="string"?gl(V):V,A;if(g)if(l2(g))A=g;else{if(g.includes("//")){let S=g;g=g.replace(/\/\/+/g,"/"),Br(!1,`Pathnames cannot have embedded double slashes - normalizing ${S} -> ${g}`)}g.startsWith("/")?A=Ch(g.substring(1),"/"):A=Ch(g,m)}else A=m;return{pathname:A,search:c2(p),hash:f2(b)}}function Ch(V,m){let g=m.replace(/\/+$/,"").split("/");return V.split("/").forEach(b=>{b===".."?g.length>1&&g.pop():b!=="."&&g.push(b)}),g.length>1?g.join("/"):"/"}function Qc(V,m,g,p){return`Cannot include a '${V}' character in a manually specified \`to.${m}\` field [${JSON.stringify(p)}].  Please separate it out to the \`to.${g}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function o2(V){return V.filter((m,g)=>g===0||m.route.path&&m.route.path.length>0)}function $h(V){let m=o2(V);return m.map((g,p)=>p===m.length-1?g.pathname:g.pathnameBase)}function ed(V,m,g,p=!1){let b;typeof V=="string"?b=gl(V):(b={...V},$t(!b.pathname||!b.pathname.includes("?"),Qc("?","pathname","search",b)),$t(!b.pathname||!b.pathname.includes("#"),Qc("#","pathname","hash",b)),$t(!b.search||!b.search.includes("#"),Qc("#","search","hash",b)));let A=V===""||b.pathname==="",S=A?"/":b.pathname,O;if(S==null)O=g;else{let I=m.length-1;if(!p&&S.startsWith("..")){let J=S.split("/");for(;J[0]==="..";)J.shift(),I-=1;b.pathname=J.join("/")}O=I>=0?m[I]:"/"}let N=s2(b,O),y=S&&S!=="/"&&S.endsWith("/"),_=(A||S===".")&&g.endsWith("/");return!N.pathname.endsWith("/")&&(y||_)&&(N.pathname+="/"),N}var ma=V=>V.join("/").replace(/\/\/+/g,"/"),u2=V=>V.replace(/\/+$/,"").replace(/^\/*/,"/"),c2=V=>!V||V==="?"?"":V.startsWith("?")?V:"?"+V,f2=V=>!V||V==="#"?"":V.startsWith("#")?V:"#"+V,h2=class{constructor(V,m,g,p=!1){this.status=V,this.statusText=m||"",this.internal=p,g instanceof Error?(this.data=g.toString(),this.error=g):this.data=g}};function d2(V){return V!=null&&typeof V.status=="number"&&typeof V.statusText=="string"&&typeof V.internal=="boolean"&&"data"in V}function V2(V){return V.map(m=>m.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var td=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function nd(V,m){let g=V;if(typeof g!="string"||!Jh.test(g))return{absoluteURL:void 0,isExternal:!1,to:g};let p=g,b=!1;if(td)try{let A=new URL(window.location.href),S=g.startsWith("//")?new URL(A.protocol+g):new URL(g),O=pa(S.pathname,m);S.origin===A.origin&&O!=null?g=O+S.search+S.hash:b=!0}catch{Br(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:p,isExternal:b,to:g}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var rd=["POST","PUT","PATCH","DELETE"];new Set(rd);var g2=["GET",...rd];new Set(g2);var xl=k.createContext(null);xl.displayName="DataRouter";var Wo=k.createContext(null);Wo.displayName="DataRouterState";var x2=k.createContext(!1),ad=k.createContext({isTransitioning:!1});ad.displayName="ViewTransition";var m2=k.createContext(new Map);m2.displayName="Fetchers";var p2=k.createContext(null);p2.displayName="Await";var vr=k.createContext(null);vr.displayName="Navigation";var gs=k.createContext(null);gs.displayName="Location";var Aa=k.createContext({outlet:null,matches:[],isDataRoute:!1});Aa.displayName="Route";var s0=k.createContext(null);s0.displayName="RouteError";var id="REACT_ROUTER_ERROR",A2="REDIRECT",y2="ROUTE_ERROR_RESPONSE";function w2(V){if(V.startsWith(`${id}:${A2}:{`))try{let m=JSON.parse(V.slice(28));if(typeof m=="object"&&m&&typeof m.status=="number"&&typeof m.statusText=="string"&&typeof m.location=="string"&&typeof m.reloadDocument=="boolean"&&typeof m.replace=="boolean")return m}catch{}}function b2(V){if(V.startsWith(`${id}:${y2}:{`))try{let m=JSON.parse(V.slice(40));if(typeof m=="object"&&m&&typeof m.status=="number"&&typeof m.statusText=="string")return new h2(m.status,m.statusText,m.data)}catch{}}function E2(V,{relative:m}={}){$t(xs(),"useHref() may be used only in the context of a <Router> component.");let{basename:g,navigator:p}=k.useContext(vr),{hash:b,pathname:A,search:S}=ps(V,{relative:m}),O=A;return g!=="/"&&(O=A==="/"?g:ma([g,A])),p.createHref({pathname:O,search:S,hash:b})}function xs(){return k.useContext(gs)!=null}function ya(){return $t(xs(),"useLocation() may be used only in the context of a <Router> component."),k.useContext(gs).location}var ld="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function sd(V){k.useContext(vr).static||k.useLayoutEffect(V)}function ms(){let{isDataRoute:V}=k.useContext(Aa);return V?L2():C2()}function C2(){$t(xs(),"useNavigate() may be used only in the context of a <Router> component.");let V=k.useContext(xl),{basename:m,navigator:g}=k.useContext(vr),{matches:p}=k.useContext(Aa),{pathname:b}=ya(),A=JSON.stringify($h(p)),S=k.useRef(!1);return sd(()=>{S.current=!0}),k.useCallback((N,y={})=>{if(Br(S.current,ld),!S.current)return;if(typeof N=="number"){g.go(N);return}let _=ed(N,JSON.parse(A),b,y.relative==="path");V==null&&m!=="/"&&(_.pathname=_.pathname==="/"?m:ma([m,_.pathname])),(y.replace?g.replace:g.push)(_,y.state,y)},[m,g,A,b,V])}k.createContext(null);function ps(V,{relative:m}={}){let{matches:g}=k.useContext(Aa),{pathname:p}=ya(),b=JSON.stringify($h(g));return k.useMemo(()=>ed(V,JSON.parse(b),p,m==="path"),[V,b,p,m])}function v2(V,m){return od(V,m)}function od(V,m,g,p,b){$t(xs(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:A}=k.useContext(vr),{matches:S}=k.useContext(Aa),O=S[S.length-1],N=O?O.params:{},y=O?O.pathname:"/",_=O?O.pathnameBase:"/",I=O&&O.route;{let G=I&&I.path||"";cd(y,!I||G.endsWith("*")||G.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${y}" (under <Route path="${G}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${G}"> to <Route path="${G==="/"?"*":`${G}/*`}">.`)}let J=ya(),ne;if(m){let G=typeof m=="string"?gl(m):m;$t(_==="/"||G.pathname?.startsWith(_),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${_}" but pathname "${G.pathname}" was given in the \`location\` prop.`),ne=G}else ne=J;let ue=ne.pathname||"/",te=ue;if(_!=="/"){let G=_.replace(/^\//,"").split("/");te="/"+ue.replace(/^\//,"").split("/").slice(G.length).join("/")}let z=Qh(V,{pathname:te});Br(I||z!=null,`No routes matched location "${ne.pathname}${ne.search}${ne.hash}" `),Br(z==null||z[z.length-1].route.element!==void 0||z[z.length-1].route.Component!==void 0||z[z.length-1].route.lazy!==void 0,`Matched leaf route at location "${ne.pathname}${ne.search}${ne.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let Z=O2(z&&z.map(G=>Object.assign({},G,{params:Object.assign({},N,G.params),pathname:ma([_,A.encodeLocation?A.encodeLocation(G.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:G.pathname]),pathnameBase:G.pathnameBase==="/"?_:ma([_,A.encodeLocation?A.encodeLocation(G.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:G.pathnameBase])})),S,g,p,b);return m&&Z?k.createElement(gs.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...ne},navigationType:"POP"}},Z):Z}function S2(){let V=B2(),m=d2(V)?`${V.status} ${V.statusText}`:V instanceof Error?V.message:JSON.stringify(V),g=V instanceof Error?V.stack:null,p="rgba(200,200,200, 0.5)",b={padding:"0.5rem",backgroundColor:p},A={padding:"2px 4px",backgroundColor:p},S=null;return console.error("Error handled by React Router default ErrorBoundary:",V),S=k.createElement(k.Fragment,null,k.createElement("p",null,"ðŸ’¿ Hey developer ðŸ‘‹"),k.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",k.createElement("code",{style:A},"ErrorBoundary")," or"," ",k.createElement("code",{style:A},"errorElement")," prop on your route.")),k.createElement(k.Fragment,null,k.createElement("h2",null,"Unexpected Application Error!"),k.createElement("h3",{style:{fontStyle:"italic"}},m),g?k.createElement("pre",{style:b},g):null,S)}var T2=k.createElement(S2,null),ud=class extends k.Component{constructor(V){super(V),this.state={location:V.location,revalidation:V.revalidation,error:V.error}}static getDerivedStateFromError(V){return{error:V}}static getDerivedStateFromProps(V,m){return m.location!==V.location||m.revalidation!=="idle"&&V.revalidation==="idle"?{error:V.error,location:V.location,revalidation:V.revalidation}:{error:V.error!==void 0?V.error:m.error,location:m.location,revalidation:V.revalidation||m.revalidation}}componentDidCatch(V,m){this.props.onError?this.props.onError(V,m):console.error("React Router caught the following error during render",V)}render(){let V=this.state.error;if(this.context&&typeof V=="object"&&V&&"digest"in V&&typeof V.digest=="string"){const g=b2(V.digest);g&&(V=g)}let m=V!==void 0?k.createElement(Aa.Provider,{value:this.props.routeContext},k.createElement(s0.Provider,{value:V,children:this.props.component})):this.props.children;return this.context?k.createElement(N2,{error:V},m):m}};ud.contextType=x2;var Wc=new WeakMap;function N2({children:V,error:m}){let{basename:g}=k.useContext(vr);if(typeof m=="object"&&m&&"digest"in m&&typeof m.digest=="string"){let p=w2(m.digest);if(p){let b=Wc.get(m);if(b)throw b;let A=nd(p.location,g);if(td&&!Wc.get(m))if(A.isExternal||p.reloadDocument)window.location.href=A.absoluteURL||A.to;else{const S=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(A.to,{replace:p.replace}));throw Wc.set(m,S),S}return k.createElement("meta",{httpEquiv:"refresh",content:`0;url=${A.absoluteURL||A.to}`})}}return V}function R2({routeContext:V,match:m,children:g}){let p=k.useContext(xl);return p&&p.static&&p.staticContext&&(m.route.errorElement||m.route.ErrorBoundary)&&(p.staticContext._deepestRenderedBoundaryId=m.route.id),k.createElement(Aa.Provider,{value:V},g)}function O2(V,m=[],g=null,p=null,b=null){if(V==null){if(!g)return null;if(g.errors)V=g.matches;else if(m.length===0&&!g.initialized&&g.matches.length>0)V=g.matches;else return null}let A=V,S=g?.errors;if(S!=null){let _=A.findIndex(I=>I.route.id&&S?.[I.route.id]!==void 0);$t(_>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(S).join(",")}`),A=A.slice(0,Math.min(A.length,_+1))}let O=!1,N=-1;if(g)for(let _=0;_<A.length;_++){let I=A[_];if((I.route.HydrateFallback||I.route.hydrateFallbackElement)&&(N=_),I.route.id){let{loaderData:J,errors:ne}=g,ue=I.route.loader&&!J.hasOwnProperty(I.route.id)&&(!ne||ne[I.route.id]===void 0);if(I.route.lazy||ue){O=!0,N>=0?A=A.slice(0,N+1):A=[A[0]];break}}}let y=g&&p?(_,I)=>{p(_,{location:g.location,params:g.matches?.[0]?.params??{},unstable_pattern:V2(g.matches),errorInfo:I})}:void 0;return A.reduceRight((_,I,J)=>{let ne,ue=!1,te=null,z=null;g&&(ne=S&&I.route.id?S[I.route.id]:void 0,te=I.route.errorElement||T2,O&&(N<0&&J===0?(cd("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),ue=!0,z=null):N===J&&(ue=!0,z=I.route.hydrateFallbackElement||null)));let Z=m.concat(A.slice(0,J+1)),G=()=>{let X;return ne?X=te:ue?X=z:I.route.Component?X=k.createElement(I.route.Component,null):I.route.element?X=I.route.element:X=_,k.createElement(R2,{match:I,routeContext:{outlet:_,matches:Z,isDataRoute:g!=null},children:X})};return g&&(I.route.ErrorBoundary||I.route.errorElement||J===0)?k.createElement(ud,{location:g.location,revalidation:g.revalidation,component:te,error:ne,children:G(),routeContext:{outlet:null,matches:Z,isDataRoute:!0},onError:y}):G()},null)}function o0(V){return`${V} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function _2(V){let m=k.useContext(xl);return $t(m,o0(V)),m}function I2(V){let m=k.useContext(Wo);return $t(m,o0(V)),m}function D2(V){let m=k.useContext(Aa);return $t(m,o0(V)),m}function u0(V){let m=D2(V),g=m.matches[m.matches.length-1];return $t(g.route.id,`${V} can only be used on routes that contain a unique "id"`),g.route.id}function M2(){return u0("useRouteId")}function B2(){let V=k.useContext(s0),m=I2("useRouteError"),g=u0("useRouteError");return V!==void 0?V:m.errors?.[g]}function L2(){let{router:V}=_2("useNavigate"),m=u0("useNavigate"),g=k.useRef(!1);return sd(()=>{g.current=!0}),k.useCallback(async(b,A={})=>{Br(g.current,ld),g.current&&(typeof b=="number"?await V.navigate(b):await V.navigate(b,{fromRouteId:m,...A}))},[V,m])}var vh={};function cd(V,m,g){!m&&!vh[V]&&(vh[V]=!0,Br(!1,g))}k.memo(k2);function k2({routes:V,future:m,state:g,onError:p}){return od(V,void 0,g,p,m)}function Ni(V){$t(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function U2({basename:V="/",children:m=null,location:g,navigationType:p="POP",navigator:b,static:A=!1,unstable_useTransitions:S}){$t(!xs(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let O=V.replace(/^\/*/,"/"),N=k.useMemo(()=>({basename:O,navigator:b,static:A,unstable_useTransitions:S,future:{}}),[O,b,A,S]);typeof g=="string"&&(g=gl(g));let{pathname:y="/",search:_="",hash:I="",state:J=null,key:ne="default"}=g,ue=k.useMemo(()=>{let te=pa(y,O);return te==null?null:{location:{pathname:te,search:_,hash:I,state:J,key:ne},navigationType:p}},[O,y,_,I,J,ne,p]);return Br(ue!=null,`<Router basename="${O}"> is not able to match the URL "${y}${_}${I}" because it does not start with the basename, so the <Router> won't render anything.`),ue==null?null:k.createElement(vr.Provider,{value:N},k.createElement(gs.Provider,{children:m,value:ue}))}function F2({children:V,location:m}){return v2(a0(V),m)}function a0(V,m=[]){let g=[];return k.Children.forEach(V,(p,b)=>{if(!k.isValidElement(p))return;let A=[...m,b];if(p.type===k.Fragment){g.push.apply(g,a0(p.props.children,A));return}$t(p.type===Ni,`[${typeof p.type=="string"?p.type:p.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),$t(!p.props.index||!p.props.children,"An index route cannot have child routes.");let S={id:p.props.id||A.join("-"),caseSensitive:p.props.caseSensitive,element:p.props.element,Component:p.props.Component,index:p.props.index,path:p.props.path,middleware:p.props.middleware,loader:p.props.loader,action:p.props.action,hydrateFallbackElement:p.props.hydrateFallbackElement,HydrateFallback:p.props.HydrateFallback,errorElement:p.props.errorElement,ErrorBoundary:p.props.ErrorBoundary,hasErrorBoundary:p.props.hasErrorBoundary===!0||p.props.ErrorBoundary!=null||p.props.errorElement!=null,shouldRevalidate:p.props.shouldRevalidate,handle:p.props.handle,lazy:p.props.lazy};p.props.children&&(S.children=a0(p.props.children,A)),g.push(S)}),g}var Ho="get",Po="application/x-www-form-urlencoded";function Ko(V){return typeof HTMLElement<"u"&&V instanceof HTMLElement}function z2(V){return Ko(V)&&V.tagName.toLowerCase()==="button"}function j2(V){return Ko(V)&&V.tagName.toLowerCase()==="form"}function H2(V){return Ko(V)&&V.tagName.toLowerCase()==="input"}function P2(V){return!!(V.metaKey||V.altKey||V.ctrlKey||V.shiftKey)}function G2(V,m){return V.button===0&&(!m||m==="_self")&&!P2(V)}var Fo=null;function X2(){if(Fo===null)try{new FormData(document.createElement("form"),0),Fo=!1}catch{Fo=!0}return Fo}var Y2=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Kc(V){return V!=null&&!Y2.has(V)?(Br(!1,`"${V}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Po}"`),null):V}function Z2(V,m){let g,p,b,A,S;if(j2(V)){let O=V.getAttribute("action");p=O?pa(O,m):null,g=V.getAttribute("method")||Ho,b=Kc(V.getAttribute("enctype"))||Po,A=new FormData(V)}else if(z2(V)||H2(V)&&(V.type==="submit"||V.type==="image")){let O=V.form;if(O==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let N=V.getAttribute("formaction")||O.getAttribute("action");if(p=N?pa(N,m):null,g=V.getAttribute("formmethod")||O.getAttribute("method")||Ho,b=Kc(V.getAttribute("formenctype"))||Kc(O.getAttribute("enctype"))||Po,A=new FormData(O,V),!X2()){let{name:y,type:_,value:I}=V;if(_==="image"){let J=y?`${y}.`:"";A.append(`${J}x`,"0"),A.append(`${J}y`,"0")}else y&&A.append(y,I)}}else{if(Ko(V))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');g=Ho,p=null,b=Po,S=V}return A&&b==="text/plain"&&(S=A,A=void 0),{action:p,method:g.toLowerCase(),encType:b,formData:A,body:S}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function c0(V,m){if(V===!1||V===null||typeof V>"u")throw new Error(m)}function q2(V,m,g){let p=typeof V=="string"?new URL(V,typeof window>"u"?"server://singlefetch/":window.location.origin):V;return p.pathname==="/"?p.pathname=`_root.${g}`:m&&pa(p.pathname,m)==="/"?p.pathname=`${m.replace(/\/$/,"")}/_root.${g}`:p.pathname=`${p.pathname.replace(/\/$/,"")}.${g}`,p}async function Q2(V,m){if(V.id in m)return m[V.id];try{let g=await import(V.module);return m[V.id]=g,g}catch(g){return console.error(`Error loading route module \`${V.module}\`, reloading page...`),console.error(g),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function W2(V){return V==null?!1:V.href==null?V.rel==="preload"&&typeof V.imageSrcSet=="string"&&typeof V.imageSizes=="string":typeof V.rel=="string"&&typeof V.href=="string"}async function K2(V,m,g){let p=await Promise.all(V.map(async b=>{let A=m.routes[b.route.id];if(A){let S=await Q2(A,g);return S.links?S.links():[]}return[]}));return tg(p.flat(1).filter(W2).filter(b=>b.rel==="stylesheet"||b.rel==="preload").map(b=>b.rel==="stylesheet"?{...b,rel:"prefetch",as:"style"}:{...b,rel:"prefetch"}))}function Sh(V,m,g,p,b,A){let S=(N,y)=>g[y]?N.route.id!==g[y].route.id:!0,O=(N,y)=>g[y].pathname!==N.pathname||g[y].route.path?.endsWith("*")&&g[y].params["*"]!==N.params["*"];return A==="assets"?m.filter((N,y)=>S(N,y)||O(N,y)):A==="data"?m.filter((N,y)=>{let _=p.routes[N.route.id];if(!_||!_.hasLoader)return!1;if(S(N,y)||O(N,y))return!0;if(N.route.shouldRevalidate){let I=N.route.shouldRevalidate({currentUrl:new URL(b.pathname+b.search+b.hash,window.origin),currentParams:g[0]?.params||{},nextUrl:new URL(V,window.origin),nextParams:N.params,defaultShouldRevalidate:!0});if(typeof I=="boolean")return I}return!0}):[]}function J2(V,m,{includeHydrateFallback:g}={}){return $2(V.map(p=>{let b=m.routes[p.route.id];if(!b)return[];let A=[b.module];return b.clientActionModule&&(A=A.concat(b.clientActionModule)),b.clientLoaderModule&&(A=A.concat(b.clientLoaderModule)),g&&b.hydrateFallbackModule&&(A=A.concat(b.hydrateFallbackModule)),b.imports&&(A=A.concat(b.imports)),A}).flat(1))}function $2(V){return[...new Set(V)]}function eg(V){let m={},g=Object.keys(V).sort();for(let p of g)m[p]=V[p];return m}function tg(V,m){let g=new Set;return new Set(m),V.reduce((p,b)=>{let A=JSON.stringify(eg(b));return g.has(A)||(g.add(A),p.push({key:A,link:b})),p},[])}function fd(){let V=k.useContext(xl);return c0(V,"You must render this element inside a <DataRouterContext.Provider> element"),V}function ng(){let V=k.useContext(Wo);return c0(V,"You must render this element inside a <DataRouterStateContext.Provider> element"),V}var f0=k.createContext(void 0);f0.displayName="FrameworkContext";function hd(){let V=k.useContext(f0);return c0(V,"You must render this element inside a <HydratedRouter> element"),V}function rg(V,m){let g=k.useContext(f0),[p,b]=k.useState(!1),[A,S]=k.useState(!1),{onFocus:O,onBlur:N,onMouseEnter:y,onMouseLeave:_,onTouchStart:I}=m,J=k.useRef(null);k.useEffect(()=>{if(V==="render"&&S(!0),V==="viewport"){let te=Z=>{Z.forEach(G=>{S(G.isIntersecting)})},z=new IntersectionObserver(te,{threshold:.5});return J.current&&z.observe(J.current),()=>{z.disconnect()}}},[V]),k.useEffect(()=>{if(p){let te=setTimeout(()=>{S(!0)},100);return()=>{clearTimeout(te)}}},[p]);let ne=()=>{b(!0)},ue=()=>{b(!1),S(!1)};return g?V!=="intent"?[A,J,{}]:[A,J,{onFocus:fs(O,ne),onBlur:fs(N,ue),onMouseEnter:fs(y,ne),onMouseLeave:fs(_,ue),onTouchStart:fs(I,ne)}]:[!1,J,{}]}function fs(V,m){return g=>{V&&V(g),g.defaultPrevented||m(g)}}function ag({page:V,...m}){let{router:g}=fd(),p=k.useMemo(()=>Qh(g.routes,V,g.basename),[g.routes,V,g.basename]);return p?k.createElement(lg,{page:V,matches:p,...m}):null}function ig(V){let{manifest:m,routeModules:g}=hd(),[p,b]=k.useState([]);return k.useEffect(()=>{let A=!1;return K2(V,m,g).then(S=>{A||b(S)}),()=>{A=!0}},[V,m,g]),p}function lg({page:V,matches:m,...g}){let p=ya(),{manifest:b,routeModules:A}=hd(),{basename:S}=fd(),{loaderData:O,matches:N}=ng(),y=k.useMemo(()=>Sh(V,m,N,b,p,"data"),[V,m,N,b,p]),_=k.useMemo(()=>Sh(V,m,N,b,p,"assets"),[V,m,N,b,p]),I=k.useMemo(()=>{if(V===p.pathname+p.search+p.hash)return[];let ue=new Set,te=!1;if(m.forEach(Z=>{let G=b.routes[Z.route.id];!G||!G.hasLoader||(!y.some(X=>X.route.id===Z.route.id)&&Z.route.id in O&&A[Z.route.id]?.shouldRevalidate||G.hasClientLoader?te=!0:ue.add(Z.route.id))}),ue.size===0)return[];let z=q2(V,S,"data");return te&&ue.size>0&&z.searchParams.set("_routes",m.filter(Z=>ue.has(Z.route.id)).map(Z=>Z.route.id).join(",")),[z.pathname+z.search]},[S,O,p,b,y,m,V,A]),J=k.useMemo(()=>J2(_,b),[_,b]),ne=ig(_);return k.createElement(k.Fragment,null,I.map(ue=>k.createElement("link",{key:ue,rel:"prefetch",as:"fetch",href:ue,...g})),J.map(ue=>k.createElement("link",{key:ue,rel:"modulepreload",href:ue,...g})),ne.map(({key:ue,link:te})=>k.createElement("link",{key:ue,nonce:g.nonce,...te})))}function sg(...V){return m=>{V.forEach(g=>{typeof g=="function"?g(m):g!=null&&(g.current=m)})}}var og=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{og&&(window.__reactRouterVersion="7.11.0")}catch{}function ug({basename:V,children:m,unstable_useTransitions:g,window:p}){let b=k.useRef();b.current==null&&(b.current=PV({window:p,v5Compat:!0}));let A=b.current,[S,O]=k.useState({action:A.action,location:A.location}),N=k.useCallback(y=>{g===!1?O(y):k.startTransition(()=>O(y))},[g]);return k.useLayoutEffect(()=>A.listen(N),[A,N]),k.createElement(U2,{basename:V,children:m,location:S.location,navigationType:S.action,navigator:A,unstable_useTransitions:g})}var dd=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Vd=k.forwardRef(function({onClick:m,discover:g="render",prefetch:p="none",relative:b,reloadDocument:A,replace:S,state:O,target:N,to:y,preventScrollReset:_,viewTransition:I,unstable_defaultShouldRevalidate:J,...ne},ue){let{basename:te,unstable_useTransitions:z}=k.useContext(vr),Z=typeof y=="string"&&dd.test(y),G=nd(y,te);y=G.to;let X=E2(y,{relative:b}),[se,Ee,me]=rg(p,ne),Q=dg(y,{replace:S,state:O,target:N,preventScrollReset:_,relative:b,viewTransition:I,unstable_defaultShouldRevalidate:J,unstable_useTransitions:z});function Se(Ze){m&&m(Ze),Ze.defaultPrevented||Q(Ze)}let ce=k.createElement("a",{...ne,...me,href:G.absoluteURL||X,onClick:G.isExternal||A?m:Se,ref:sg(ue,Ee),target:N,"data-discover":!Z&&g==="render"?"true":void 0});return se&&!Z?k.createElement(k.Fragment,null,ce,k.createElement(ag,{page:X})):ce});Vd.displayName="Link";var cg=k.forwardRef(function({"aria-current":m="page",caseSensitive:g=!1,className:p="",end:b=!1,style:A,to:S,viewTransition:O,children:N,...y},_){let I=ps(S,{relative:y.relative}),J=ya(),ne=k.useContext(Wo),{navigator:ue,basename:te}=k.useContext(vr),z=ne!=null&&pg(I)&&O===!0,Z=ue.encodeLocation?ue.encodeLocation(I).pathname:I.pathname,G=J.pathname,X=ne&&ne.navigation&&ne.navigation.location?ne.navigation.location.pathname:null;g||(G=G.toLowerCase(),X=X?X.toLowerCase():null,Z=Z.toLowerCase()),X&&te&&(X=pa(X,te)||X);const se=Z!=="/"&&Z.endsWith("/")?Z.length-1:Z.length;let Ee=G===Z||!b&&G.startsWith(Z)&&G.charAt(se)==="/",me=X!=null&&(X===Z||!b&&X.startsWith(Z)&&X.charAt(Z.length)==="/"),Q={isActive:Ee,isPending:me,isTransitioning:z},Se=Ee?m:void 0,ce;typeof p=="function"?ce=p(Q):ce=[p,Ee?"active":null,me?"pending":null,z?"transitioning":null].filter(Boolean).join(" ");let Ze=typeof A=="function"?A(Q):A;return k.createElement(Vd,{...y,"aria-current":Se,className:ce,ref:_,style:Ze,to:S,viewTransition:O},typeof N=="function"?N(Q):N)});cg.displayName="NavLink";var fg=k.forwardRef(({discover:V="render",fetcherKey:m,navigate:g,reloadDocument:p,replace:b,state:A,method:S=Ho,action:O,onSubmit:N,relative:y,preventScrollReset:_,viewTransition:I,unstable_defaultShouldRevalidate:J,...ne},ue)=>{let{unstable_useTransitions:te}=k.useContext(vr),z=xg(),Z=mg(O,{relative:y}),G=S.toLowerCase()==="get"?"get":"post",X=typeof O=="string"&&dd.test(O),se=Ee=>{if(N&&N(Ee),Ee.defaultPrevented)return;Ee.preventDefault();let me=Ee.nativeEvent.submitter,Q=me?.getAttribute("formmethod")||S,Se=()=>z(me||Ee.currentTarget,{fetcherKey:m,method:Q,navigate:g,replace:b,state:A,relative:y,preventScrollReset:_,viewTransition:I,unstable_defaultShouldRevalidate:J});te&&g!==!1?k.startTransition(()=>Se()):Se()};return k.createElement("form",{ref:ue,method:G,action:Z,onSubmit:p?N:se,...ne,"data-discover":!X&&V==="render"?"true":void 0})});fg.displayName="Form";function hg(V){return`${V} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function gd(V){let m=k.useContext(xl);return $t(m,hg(V)),m}function dg(V,{target:m,replace:g,state:p,preventScrollReset:b,relative:A,viewTransition:S,unstable_defaultShouldRevalidate:O,unstable_useTransitions:N}={}){let y=ms(),_=ya(),I=ps(V,{relative:A});return k.useCallback(J=>{if(G2(J,m)){J.preventDefault();let ne=g!==void 0?g:Vs(_)===Vs(I),ue=()=>y(V,{replace:ne,state:p,preventScrollReset:b,relative:A,viewTransition:S,unstable_defaultShouldRevalidate:O});N?k.startTransition(()=>ue()):ue()}},[_,y,I,g,p,m,V,b,A,S,O,N])}var Vg=0,gg=()=>`__${String(++Vg)}__`;function xg(){let{router:V}=gd("useSubmit"),{basename:m}=k.useContext(vr),g=M2(),p=V.fetch,b=V.navigate;return k.useCallback(async(A,S={})=>{let{action:O,method:N,encType:y,formData:_,body:I}=Z2(A,m);if(S.navigate===!1){let J=S.fetcherKey||gg();await p(J,g,S.action||O,{unstable_defaultShouldRevalidate:S.unstable_defaultShouldRevalidate,preventScrollReset:S.preventScrollReset,formData:_,body:I,formMethod:S.method||N,formEncType:S.encType||y,flushSync:S.flushSync})}else await b(S.action||O,{unstable_defaultShouldRevalidate:S.unstable_defaultShouldRevalidate,preventScrollReset:S.preventScrollReset,formData:_,body:I,formMethod:S.method||N,formEncType:S.encType||y,replace:S.replace,state:S.state,fromRouteId:g,flushSync:S.flushSync,viewTransition:S.viewTransition})},[p,b,m,g])}function mg(V,{relative:m}={}){let{basename:g}=k.useContext(vr),p=k.useContext(Aa);$t(p,"useFormAction must be used inside a RouteContext");let[b]=p.matches.slice(-1),A={...ps(V||".",{relative:m})},S=ya();if(V==null){A.search=S.search;let O=new URLSearchParams(A.search),N=O.getAll("index");if(N.some(_=>_==="")){O.delete("index"),N.filter(I=>I).forEach(I=>O.append("index",I));let _=O.toString();A.search=_?`?${_}`:""}}return(!V||V===".")&&b.route.index&&(A.search=A.search?A.search.replace(/^\?/,"?index&"):"?index"),g!=="/"&&(A.pathname=A.pathname==="/"?g:ma([g,A.pathname])),Vs(A)}function pg(V,{relative:m}={}){let g=k.useContext(ad);$t(g!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:p}=gd("useViewTransitionState"),b=ps(V,{relative:m});if(!g.isTransitioning)return!1;let A=pa(g.currentLocation.pathname,p)||g.currentLocation.pathname,S=pa(g.nextLocation.pathname,p)||g.nextLocation.pathname;return Xo(b.pathname,S)!=null||Xo(b.pathname,A)!=null}var Jc={exports:{}},Dn={};var Th;function Ag(){if(Th)return Dn;Th=1;var V=Qo();function m(N){var y="https://react.dev/errors/"+N;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var _=2;_<arguments.length;_++)y+="&args[]="+encodeURIComponent(arguments[_])}return"Minified React error #"+N+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function g(){}var p={d:{f:g,r:function(){throw Error(m(522))},D:g,C:g,L:g,m:g,X:g,S:g,M:g},p:0,findDOMNode:null},b=Symbol.for("react.portal");function A(N,y,_){var I=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:b,key:I==null?null:""+I,children:N,containerInfo:y,implementation:_}}var S=V.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function O(N,y){if(N==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return Dn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=p,Dn.createPortal=function(N,y){var _=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(m(299));return A(N,y,null,_)},Dn.flushSync=function(N){var y=S.T,_=p.p;try{if(S.T=null,p.p=2,N)return N()}finally{S.T=y,p.p=_,p.d.f()}},Dn.preconnect=function(N,y){typeof N=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,p.d.C(N,y))},Dn.prefetchDNS=function(N){typeof N=="string"&&p.d.D(N)},Dn.preinit=function(N,y){if(typeof N=="string"&&y&&typeof y.as=="string"){var _=y.as,I=O(_,y.crossOrigin),J=typeof y.integrity=="string"?y.integrity:void 0,ne=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;_==="style"?p.d.S(N,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:I,integrity:J,fetchPriority:ne}):_==="script"&&p.d.X(N,{crossOrigin:I,integrity:J,fetchPriority:ne,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},Dn.preinitModule=function(N,y){if(typeof N=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var _=O(y.as,y.crossOrigin);p.d.M(N,{crossOrigin:_,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&p.d.M(N)},Dn.preload=function(N,y){if(typeof N=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var _=y.as,I=O(_,y.crossOrigin);p.d.L(N,_,{crossOrigin:I,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},Dn.preloadModule=function(N,y){if(typeof N=="string")if(y){var _=O(y.as,y.crossOrigin);p.d.m(N,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:_,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else p.d.m(N)},Dn.requestFormReset=function(N){p.d.r(N)},Dn.unstable_batchedUpdates=function(N,y){return N(y)},Dn.useFormState=function(N,y,_){return S.H.useFormState(N,y,_)},Dn.useFormStatus=function(){return S.H.useHostTransitionStatus()},Dn.version="19.2.3",Dn}var Nh;function yg(){if(Nh)return Jc.exports;Nh=1;function V(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(V)}catch(m){console.error(m)}}return V(),Jc.exports=Ag(),Jc.exports}var $c={exports:{}},hs={},e0={exports:{}},t0={};var Rh;function wg(){return Rh||(Rh=1,(function(V){function m($,Ve){var we=$.length;$.push(Ve);e:for(;0<we;){var Oe=we-1>>>1,Ie=$[Oe];if(0<b(Ie,Ve))$[Oe]=Ve,$[we]=Ie,we=Oe;else break e}}function g($){return $.length===0?null:$[0]}function p($){if($.length===0)return null;var Ve=$[0],we=$.pop();if(we!==Ve){$[0]=we;e:for(var Oe=0,Ie=$.length,L=Ie>>>1;Oe<L;){var U=2*(Oe+1)-1,Y=$[U],ae=U+1,Ce=$[ae];if(0>b(Y,we))ae<Ie&&0>b(Ce,Y)?($[Oe]=Ce,$[ae]=we,Oe=ae):($[Oe]=Y,$[U]=we,Oe=U);else if(ae<Ie&&0>b(Ce,we))$[Oe]=Ce,$[ae]=we,Oe=ae;else break e}}return Ve}function b($,Ve){var we=$.sortIndex-Ve.sortIndex;return we!==0?we:$.id-Ve.id}if(V.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var A=performance;V.unstable_now=function(){return A.now()}}else{var S=Date,O=S.now();V.unstable_now=function(){return S.now()-O}}var N=[],y=[],_=1,I=null,J=3,ne=!1,ue=!1,te=!1,z=!1,Z=typeof setTimeout=="function"?setTimeout:null,G=typeof clearTimeout=="function"?clearTimeout:null,X=typeof setImmediate<"u"?setImmediate:null;function se($){for(var Ve=g(y);Ve!==null;){if(Ve.callback===null)p(y);else if(Ve.startTime<=$)p(y),Ve.sortIndex=Ve.expirationTime,m(N,Ve);else break;Ve=g(y)}}function Ee($){if(te=!1,se($),!ue)if(g(N)!==null)ue=!0,me||(me=!0,de());else{var Ve=g(y);Ve!==null&&W(Ee,Ve.startTime-$)}}var me=!1,Q=-1,Se=5,ce=-1;function Ze(){return z?!0:!(V.unstable_now()-ce<Se)}function qe(){if(z=!1,me){var $=V.unstable_now();ce=$;var Ve=!0;try{e:{ue=!1,te&&(te=!1,G(Q),Q=-1),ne=!0;var we=J;try{t:{for(se($),I=g(N);I!==null&&!(I.expirationTime>$&&Ze());){var Oe=I.callback;if(typeof Oe=="function"){I.callback=null,J=I.priorityLevel;var Ie=Oe(I.expirationTime<=$);if($=V.unstable_now(),typeof Ie=="function"){I.callback=Ie,se($),Ve=!0;break t}I===g(N)&&p(N),se($)}else p(N);I=g(N)}if(I!==null)Ve=!0;else{var L=g(y);L!==null&&W(Ee,L.startTime-$),Ve=!1}}break e}finally{I=null,J=we,ne=!1}Ve=void 0}}finally{Ve?de():me=!1}}}var de;if(typeof X=="function")de=function(){X(qe)};else if(typeof MessageChannel<"u"){var Re=new MessageChannel,_e=Re.port2;Re.port1.onmessage=qe,de=function(){_e.postMessage(null)}}else de=function(){Z(qe,0)};function W($,Ve){Q=Z(function(){$(V.unstable_now())},Ve)}V.unstable_IdlePriority=5,V.unstable_ImmediatePriority=1,V.unstable_LowPriority=4,V.unstable_NormalPriority=3,V.unstable_Profiling=null,V.unstable_UserBlockingPriority=2,V.unstable_cancelCallback=function($){$.callback=null},V.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Se=0<$?Math.floor(1e3/$):5},V.unstable_getCurrentPriorityLevel=function(){return J},V.unstable_next=function($){switch(J){case 1:case 2:case 3:var Ve=3;break;default:Ve=J}var we=J;J=Ve;try{return $()}finally{J=we}},V.unstable_requestPaint=function(){z=!0},V.unstable_runWithPriority=function($,Ve){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var we=J;J=$;try{return Ve()}finally{J=we}},V.unstable_scheduleCallback=function($,Ve,we){var Oe=V.unstable_now();switch(typeof we=="object"&&we!==null?(we=we.delay,we=typeof we=="number"&&0<we?Oe+we:Oe):we=Oe,$){case 1:var Ie=-1;break;case 2:Ie=250;break;case 5:Ie=1073741823;break;case 4:Ie=1e4;break;default:Ie=5e3}return Ie=we+Ie,$={id:_++,callback:Ve,priorityLevel:$,startTime:we,expirationTime:Ie,sortIndex:-1},we>Oe?($.sortIndex=we,m(y,$),g(N)===null&&$===g(y)&&(te?(G(Q),Q=-1):te=!0,W(Ee,we-Oe))):($.sortIndex=Ie,m(N,$),ue||ne||(ue=!0,me||(me=!0,de()))),$},V.unstable_shouldYield=Ze,V.unstable_wrapCallback=function($){var Ve=J;return function(){var we=J;J=Ve;try{return $.apply(this,arguments)}finally{J=we}}}})(t0)),t0}var Oh;function bg(){return Oh||(Oh=1,e0.exports=wg()),e0.exports}var _h;function Eg(){if(_h)return hs;_h=1;var V=bg(),m=Qo(),g=yg();function p(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var i=2;i<arguments.length;i++)n+="&args[]="+encodeURIComponent(arguments[i])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function b(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function A(e){var n=e,i=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(i=n.return),e=n.return;while(e)}return n.tag===3?i:null}function S(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function O(e){if(e.tag===31){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function N(e){if(A(e)!==e)throw Error(p(188))}function y(e){var n=e.alternate;if(!n){if(n=A(e),n===null)throw Error(p(188));return n!==e?null:e}for(var i=e,o=n;;){var f=i.return;if(f===null)break;var d=f.alternate;if(d===null){if(o=f.return,o!==null){i=o;continue}break}if(f.child===d.child){for(d=f.child;d;){if(d===i)return N(f),e;if(d===o)return N(f),n;d=d.sibling}throw Error(p(188))}if(i.return!==o.return)i=f,o=d;else{for(var E=!1,R=f.child;R;){if(R===i){E=!0,i=f,o=d;break}if(R===o){E=!0,o=f,i=d;break}R=R.sibling}if(!E){for(R=d.child;R;){if(R===i){E=!0,i=d,o=f;break}if(R===o){E=!0,o=d,i=f;break}R=R.sibling}if(!E)throw Error(p(189))}}if(i.alternate!==o)throw Error(p(190))}if(i.tag!==3)throw Error(p(188));return i.stateNode.current===i?e:n}function _(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=_(e),n!==null)return n;e=e.sibling}return null}var I=Object.assign,J=Symbol.for("react.element"),ne=Symbol.for("react.transitional.element"),ue=Symbol.for("react.portal"),te=Symbol.for("react.fragment"),z=Symbol.for("react.strict_mode"),Z=Symbol.for("react.profiler"),G=Symbol.for("react.consumer"),X=Symbol.for("react.context"),se=Symbol.for("react.forward_ref"),Ee=Symbol.for("react.suspense"),me=Symbol.for("react.suspense_list"),Q=Symbol.for("react.memo"),Se=Symbol.for("react.lazy"),ce=Symbol.for("react.activity"),Ze=Symbol.for("react.memo_cache_sentinel"),qe=Symbol.iterator;function de(e){return e===null||typeof e!="object"?null:(e=qe&&e[qe]||e["@@iterator"],typeof e=="function"?e:null)}var Re=Symbol.for("react.client.reference");function _e(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===Re?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case te:return"Fragment";case Z:return"Profiler";case z:return"StrictMode";case Ee:return"Suspense";case me:return"SuspenseList";case ce:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case ue:return"Portal";case X:return e.displayName||"Context";case G:return(e._context.displayName||"Context")+".Consumer";case se:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Q:return n=e.displayName||null,n!==null?n:_e(e.type)||"Memo";case Se:n=e._payload,e=e._init;try{return _e(e(n))}catch{}}return null}var W=Array.isArray,$=m.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Ve=g.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,we={pending:!1,data:null,method:null,action:null},Oe=[],Ie=-1;function L(e){return{current:e}}function U(e){0>Ie||(e.current=Oe[Ie],Oe[Ie]=null,Ie--)}function Y(e,n){Ie++,Oe[Ie]=e.current,e.current=n}var ae=L(null),Ce=L(null),ie=L(null),ze=L(null);function je(e,n){switch(Y(ie,n),Y(Ce,e),Y(ae,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?z1(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=z1(n),e=j1(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}U(ae),Y(ae,e)}function Je(){U(ae),U(Ce),U(ie)}function pt(e){e.memoizedState!==null&&Y(ze,e);var n=ae.current,i=j1(n,e.type);n!==i&&(Y(Ce,e),Y(ae,i))}function At(e){Ce.current===e&&(U(ae),U(Ce)),ze.current===e&&(U(ze),ls._currentValue=we)}var We,Ue;function It(e){if(We===void 0)try{throw Error()}catch(i){var n=i.stack.trim().match(/\n( *(at )?)/);We=n&&n[1]||"",Ue=-1<i.stack.indexOf(`
    at`)?" (<anonymous>)":-1<i.stack.indexOf("@")?"@unknown:0:0":""}return`
`+We+e+Ue}var Dt=!1;function jn(e,n){if(!e||Dt)return"";Dt=!0;var i=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(n){var Ae=function(){throw Error()};if(Object.defineProperty(Ae.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Ae,[])}catch(ge){var oe=ge}Reflect.construct(e,[],Ae)}else{try{Ae.call()}catch(ge){oe=ge}e.call(Ae.prototype)}}else{try{throw Error()}catch(ge){oe=ge}(Ae=e())&&typeof Ae.catch=="function"&&Ae.catch(function(){})}}catch(ge){if(ge&&oe&&typeof ge.stack=="string")return[ge.stack,oe.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=o.DetermineComponentFrameRoot(),E=d[0],R=d[1];if(E&&R){var F=E.split(`
`),le=R.split(`
`);for(f=o=0;o<F.length&&!F[o].includes("DetermineComponentFrameRoot");)o++;for(;f<le.length&&!le[f].includes("DetermineComponentFrameRoot");)f++;if(o===F.length||f===le.length)for(o=F.length-1,f=le.length-1;1<=o&&0<=f&&F[o]!==le[f];)f--;for(;1<=o&&0<=f;o--,f--)if(F[o]!==le[f]){if(o!==1||f!==1)do if(o--,f--,0>f||F[o]!==le[f]){var xe=`
`+F[o].replace(" at new "," at ");return e.displayName&&xe.includes("<anonymous>")&&(xe=xe.replace("<anonymous>",e.displayName)),xe}while(1<=o&&0<=f);break}}}finally{Dt=!1,Error.prepareStackTrace=i}return(i=e?e.displayName||e.name:"")?It(i):""}function Mt(e,n){switch(e.tag){case 26:case 27:case 5:return It(e.type);case 16:return It("Lazy");case 13:return e.child!==n&&n!==null?It("Suspense Fallback"):It("Suspense");case 19:return It("SuspenseList");case 0:case 15:return jn(e.type,!1);case 11:return jn(e.type.render,!1);case 1:return jn(e.type,!0);case 31:return It("Activity");default:return""}}function ct(e){try{var n="",i=null;do n+=Mt(e,i),i=e,e=e.return;while(e);return n}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}var Qe=Object.prototype.hasOwnProperty,In=V.unstable_scheduleCallback,Be=V.unstable_cancelCallback,Ri=V.unstable_shouldYield,As=V.unstable_requestPaint,Jt=V.unstable_now,ml=V.unstable_getCurrentPriorityLevel,Hn=V.unstable_ImmediatePriority,pl=V.unstable_UserBlockingPriority,Jn=V.unstable_NormalPriority,vn=V.unstable_LowPriority,Al=V.unstable_IdlePriority,Oi=V.log,Jo=V.unstable_setDisableYieldValue,Pt=null,Ne=null;function Bt(e){if(typeof Oi=="function"&&Jo(e),Ne&&typeof Ne.setStrictMode=="function")try{Ne.setStrictMode(Pt,e)}catch{}}var nt=Math.clz32?Math.clz32:yl,Qt=Math.log,ri=Math.LN2;function yl(e){return e>>>=0,e===0?32:31-(Qt(e)/ri|0)|0}var ai=256,ft=262144,hr=4194304;function Lr(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function ii(e,n,i){var o=e.pendingLanes;if(o===0)return 0;var f=0,d=e.suspendedLanes,E=e.pingedLanes;e=e.warmLanes;var R=o&134217727;return R!==0?(o=R&~d,o!==0?f=Lr(o):(E&=R,E!==0?f=Lr(E):i||(i=R&~e,i!==0&&(f=Lr(i))))):(R=o&~d,R!==0?f=Lr(R):E!==0?f=Lr(E):i||(i=o&~e,i!==0&&(f=Lr(i)))),f===0?0:n!==0&&n!==f&&(n&d)===0&&(d=f&-f,i=n&-n,d>=i||d===32&&(i&4194048)!==0)?n:f}function Sn(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function wl(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function pn(){var e=hr;return hr<<=1,(hr&62914560)===0&&(hr=4194304),e}function kr(e){for(var n=[],i=0;31>i;i++)n.push(e);return n}function Ur(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function dr(e,n,i,o,f,d){var E=e.pendingLanes;e.pendingLanes=i,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=i,e.entangledLanes&=i,e.errorRecoveryDisabledLanes&=i,e.shellSuspendCounter=0;var R=e.entanglements,F=e.expirationTimes,le=e.hiddenUpdates;for(i=E&~i;0<i;){var xe=31-nt(i),Ae=1<<xe;R[xe]=0,F[xe]=-1;var oe=le[xe];if(oe!==null)for(le[xe]=null,xe=0;xe<oe.length;xe++){var ge=oe[xe];ge!==null&&(ge.lane&=-536870913)}i&=~Ae}o!==0&&ys(e,o,0),d!==0&&f===0&&e.tag!==0&&(e.suspendedLanes|=d&~(E&~n))}function ys(e,n,i){e.pendingLanes|=n,e.suspendedLanes&=~n;var o=31-nt(n);e.entangledLanes|=n,e.entanglements[o]=e.entanglements[o]|1073741824|i&261930}function Fr(e,n){var i=e.entangledLanes|=n;for(e=e.entanglements;i;){var o=31-nt(i),f=1<<o;f&n|e[o]&n&&(e[o]|=n),i&=~f}}function _i(e,n){var i=n&-n;return i=(i&42)!==0?1:En(i),(i&(e.suspendedLanes|n))!==0?0:i}function En(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Sr(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Mn(){var e=Ve.p;return e!==0?e:(e=window.event,e===void 0?32:ch(e.type))}function De(e,n){var i=Ve.p;try{return Ve.p=e,n()}finally{Ve.p=i}}var Bn=Math.random().toString(36).slice(2),sn="__reactFiber$"+Bn,Rt="__reactProps$"+Bn,$n="__reactContainer$"+Bn,wa="__reactEvents$"+Bn,Ii="__reactListeners$"+Bn,Vr="__reactHandles$"+Bn,ws="__reactResources$"+Bn,li="__reactMarker$"+Bn;function Pn(e){delete e[sn],delete e[Rt],delete e[wa],delete e[Ii],delete e[Vr]}function en(e){var n=e[sn];if(n)return n;for(var i=e.parentNode;i;){if(n=i[$n]||i[sn]){if(i=n.alternate,n.child!==null||i!==null&&i.child!==null)for(e=q1(e);e!==null;){if(i=e[sn])return i;e=q1(e)}return n}e=i,i=e.parentNode}return null}function Et(e){if(e=e[sn]||e[$n]){var n=e.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return e}return null}function ba(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(p(33))}function Ln(e){var n=e[ws];return n||(n=e[ws]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function tn(e){e[li]=!0}var ye=new Set,bs={};function St(e,n){er(e,n),er(e+"Capture",n)}function er(e,n){for(bs[e]=n,e=0;e<n.length;e++)ye.add(n[e])}var $o=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),mt={},xt={};function st(e){return Qe.call(xt,e)?!0:Qe.call(mt,e)?!1:$o.test(e)?xt[e]=!0:(mt[e]=!0,!1)}function Ea(e,n,i){if(st(n))if(i===null)e.removeAttribute(n);else{switch(typeof i){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var o=n.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+i)}}function Ca(e,n,i){if(i===null)e.removeAttribute(n);else{switch(typeof i){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+i)}}function tr(e,n,i,o){if(o===null)e.removeAttribute(i);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(i);return}e.setAttributeNS(n,i,""+o)}}function yt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Tr(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function eu(e,n,i){var o=Object.getOwnPropertyDescriptor(e.constructor.prototype,n);if(!e.hasOwnProperty(n)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var f=o.get,d=o.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return f.call(this)},set:function(E){i=""+E,d.call(this,E)}}),Object.defineProperty(e,n,{enumerable:o.enumerable}),{getValue:function(){return i},setValue:function(E){i=""+E},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function Gt(e){if(!e._valueTracker){var n=Tr(e)?"checked":"value";e._valueTracker=eu(e,n,""+e[n])}}function Nr(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var i=n.getValue(),o="";return e&&(o=Tr(e)?e.checked?"true":"false":e.value),e=o,e!==i?(n.setValue(e),!0):!1}function Di(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var va=/[\n"\\]/g;function lt(e){return e.replace(va,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function hn(e,n,i,o,f,d,E,R){e.name="",E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?e.type=E:e.removeAttribute("type"),n!=null?E==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+yt(n)):e.value!==""+yt(n)&&(e.value=""+yt(n)):E!=="submit"&&E!=="reset"||e.removeAttribute("value"),n!=null?M(e,E,yt(n)):i!=null?M(e,E,yt(i)):o!=null&&e.removeAttribute("value"),f==null&&d!=null&&(e.defaultChecked=!!d),f!=null&&(e.checked=f&&typeof f!="function"&&typeof f!="symbol"),R!=null&&typeof R!="function"&&typeof R!="symbol"&&typeof R!="boolean"?e.name=""+yt(R):e.removeAttribute("name")}function ee(e,n,i,o,f,d,E,R){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(e.type=d),n!=null||i!=null){if(!(d!=="submit"&&d!=="reset"||n!=null)){Gt(e);return}i=i!=null?""+yt(i):"",n=n!=null?""+yt(n):i,R||n===e.value||(e.value=n),e.defaultValue=n}o=o??f,o=typeof o!="function"&&typeof o!="symbol"&&!!o,e.checked=R?e.checked:!!o,e.defaultChecked=!!o,E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"&&(e.name=E),Gt(e)}function M(e,n,i){n==="number"&&Di(e.ownerDocument)===e||e.defaultValue===""+i||(e.defaultValue=""+i)}function ke(e,n,i,o){if(e=e.options,n){n={};for(var f=0;f<i.length;f++)n["$"+i[f]]=!0;for(i=0;i<e.length;i++)f=n.hasOwnProperty("$"+e[i].value),e[i].selected!==f&&(e[i].selected=f),f&&o&&(e[i].defaultSelected=!0)}else{for(i=""+yt(i),n=null,f=0;f<e.length;f++){if(e[f].value===i){e[f].selected=!0,o&&(e[f].defaultSelected=!0);return}n!==null||e[f].disabled||(n=e[f])}n!==null&&(n.selected=!0)}}function on(e,n,i){if(n!=null&&(n=""+yt(n),n!==e.value&&(e.value=n),i==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=i!=null?""+yt(i):""}function kn(e,n,i,o){if(n==null){if(o!=null){if(i!=null)throw Error(p(92));if(W(o)){if(1<o.length)throw Error(p(93));o=o[0]}i=o}i==null&&(i=""),n=i}i=yt(n),e.defaultValue=i,o=e.textContent,o===i&&o!==""&&o!==null&&(e.value=o),Gt(e)}function Sa(e,n){if(n){var i=e.firstChild;if(i&&i===e.lastChild&&i.nodeType===3){i.nodeValue=n;return}}e.textContent=n}var bl=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Un(e,n,i){var o=n.indexOf("--")===0;i==null||typeof i=="boolean"||i===""?o?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":o?e.setProperty(n,i):typeof i!="number"||i===0||bl.has(n)?n==="float"?e.cssFloat=i:e[n]=(""+i).trim():e[n]=i+"px"}function He(e,n,i){if(n!=null&&typeof n!="object")throw Error(p(62));if(e=e.style,i!=null){for(var o in i)!i.hasOwnProperty(o)||n!=null&&n.hasOwnProperty(o)||(o.indexOf("--")===0?e.setProperty(o,""):o==="float"?e.cssFloat="":e[o]="");for(var f in n)o=n[f],n.hasOwnProperty(f)&&i[f]!==o&&Un(e,f,o)}else for(var d in n)n.hasOwnProperty(d)&&Un(e,d,n[d])}function Ft(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Es=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),tu=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ta(e){return tu.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Gn(){}var si=null;function El(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Xt=null,gr=null;function Rr(e){var n=Et(e);if(n&&(e=n.stateNode)){var i=e[Rt]||null;e:switch(e=n.stateNode,n.type){case"input":if(hn(e,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name),n=i.name,i.type==="radio"&&n!=null){for(i=e;i.parentNode;)i=i.parentNode;for(i=i.querySelectorAll('input[name="'+lt(""+n)+'"][type="radio"]'),n=0;n<i.length;n++){var o=i[n];if(o!==e&&o.form===e.form){var f=o[Rt]||null;if(!f)throw Error(p(90));hn(o,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(n=0;n<i.length;n++)o=i[n],o.form===e.form&&Nr(o)}break e;case"textarea":on(e,i.value,i.defaultValue);break e;case"select":n=i.value,n!=null&&ke(e,!!i.multiple,n,!1)}}}var Ge=!1;function Cs(e,n,i){if(Ge)return e(n,i);Ge=!0;try{var o=e(n);return o}finally{if(Ge=!1,(Xt!==null||gr!==null)&&(xo(),Xt&&(n=Xt,e=gr,gr=Xt=null,Rr(n),e)))for(n=0;n<e.length;n++)Rr(e[n])}}function Ke(e,n){var i=e.stateNode;if(i===null)return null;var o=i[Rt]||null;if(o===null)return null;i=o[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(e=e.type,o=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!o;break e;default:e=!1}if(e)return null;if(i&&typeof i!="function")throw Error(p(231,n,typeof i));return i}var zt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Cl=!1;if(zt)try{var qr={};Object.defineProperty(qr,"passive",{get:function(){Cl=!0}}),window.addEventListener("test",qr,qr),window.removeEventListener("test",qr,qr)}catch{Cl=!1}var Or=null,_r=null,Mi=null;function Na(){if(Mi)return Mi;var e,n=_r,i=n.length,o,f="value"in Or?Or.value:Or.textContent,d=f.length;for(e=0;e<i&&n[e]===f[e];e++);var E=i-e;for(o=1;o<=E&&n[i-o]===f[d-o];o++);return Mi=f.slice(e,1<o?1-o:void 0)}function zr(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function jr(){return!0}function vl(){return!1}function dn(e){function n(i,o,f,d,E){this._reactName=i,this._targetInst=f,this.type=o,this.nativeEvent=d,this.target=E,this.currentTarget=null;for(var R in e)e.hasOwnProperty(R)&&(i=e[R],this[R]=i?i(d):d[R]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?jr:vl,this.isPropagationStopped=vl,this}return I(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var i=this.nativeEvent;i&&(i.preventDefault?i.preventDefault():typeof i.returnValue!="unknown"&&(i.returnValue=!1),this.isDefaultPrevented=jr)},stopPropagation:function(){var i=this.nativeEvent;i&&(i.stopPropagation?i.stopPropagation():typeof i.cancelBubble!="unknown"&&(i.cancelBubble=!0),this.isPropagationStopped=jr)},persist:function(){},isPersistent:jr}),n}var nr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},An=dn(nr),Ra=I({},nr,{view:0,detail:0}),vs=dn(Ra),Bi,Sl,oi,Li=I({},Ra,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ui,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==oi&&(oi&&e.type==="mousemove"?(Bi=e.screenX-oi.screenX,Sl=e.screenY-oi.screenY):Sl=Bi=0,oi=e),Bi)},movementY:function(e){return"movementY"in e?e.movementY:Sl}}),Ct=dn(Li),Ss=I({},Li,{dataTransfer:0}),ki=dn(Ss),Hr=I({},Ra,{relatedTarget:0}),Tl=dn(Hr),he=I({},nr,{animationName:0,elapsedTime:0,pseudoElement:0}),rt=dn(he),yn=I({},nr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Ui=dn(yn),Ts=I({},nr,{data:0}),Ns=dn(Ts),nu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ru={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Nl={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function un(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=Nl[e])?!!n[e]:!1}function ui(){return un}var Wt=I({},Ra,{key:function(e){if(e.key){var n=nu[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=zr(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?ru[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ui,charCode:function(e){return e.type==="keypress"?zr(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?zr(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Fi=dn(Wt),Qr=I({},Li,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Tt=dn(Qr),Xe=I({},Ra,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ui}),au=dn(Xe),jt=I({},nr,{propertyName:0,elapsedTime:0,pseudoElement:0}),Wr=dn(jt),Oa=I({},Li,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),iu=dn(Oa),xr=I({},nr,{newState:0,oldState:0}),Rl=dn(xr),Rs=[9,13,27,32],ci=zt&&"CompositionEvent"in window,_a=null;zt&&"documentMode"in document&&(_a=document.documentMode);var Os=zt&&"TextEvent"in window&&!_a,_s=zt&&(!ci||_a&&8<_a&&11>=_a),Kr=" ",zi=!1;function Is(e,n){switch(e){case"keyup":return Rs.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ia(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Da=!1;function Pr(e,n){switch(e){case"compositionend":return Ia(n);case"keypress":return n.which!==32?null:(zi=!0,Kr);case"textInput":return e=n.data,e===Kr&&zi?null:e;default:return null}}function ji(e,n){if(Da)return e==="compositionend"||!ci&&Is(e,n)?(e=Na(),Mi=_r=Or=null,Da=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return _s&&n.locale!=="ko"?null:n.data;default:return null}}var Xn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ol(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!Xn[e.type]:n==="textarea"}function rr(e,n,i,o){Xt?gr?gr.push(o):gr=[o]:Xt=o,n=Eo(n,"onChange"),0<n.length&&(i=new An("onChange","change",null,i,o),e.push({event:i,listeners:n}))}var fi=null,Jr=null;function lu(e){M1(e,0)}function hi(e){var n=ba(e);if(Nr(n))return e}function ar(e,n){if(e==="change")return n}var Ds=!1;if(zt){var di;if(zt){var $r="oninput"in document;if(!$r){var ht=document.createElement("div");ht.setAttribute("oninput","return;"),$r=typeof ht.oninput=="function"}di=$r}else di=!1;Ds=di&&(!document.documentMode||9<document.documentMode)}function Vi(){fi&&(fi.detachEvent("onpropertychange",C),Jr=fi=null)}function C(e){if(e.propertyName==="value"&&hi(Jr)){var n=[];rr(n,Jr,e,El(e)),Cs(lu,n)}}function t(e,n,i){e==="focusin"?(Vi(),fi=n,Jr=i,fi.attachEvent("onpropertychange",C)):e==="focusout"&&Vi()}function r(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return hi(Jr)}function a(e,n){if(e==="click")return hi(n)}function l(e,n){if(e==="input"||e==="change")return hi(n)}function s(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var u=typeof Object.is=="function"?Object.is:s;function c(e,n){if(u(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var i=Object.keys(e),o=Object.keys(n);if(i.length!==o.length)return!1;for(o=0;o<i.length;o++){var f=i[o];if(!Qe.call(n,f)||!u(e[f],n[f]))return!1}return!0}function h(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function x(e,n){var i=h(e);e=0;for(var o;i;){if(i.nodeType===3){if(o=e+i.textContent.length,e<=n&&o>=n)return{node:i,offset:n-e};e=o}e:{for(;i;){if(i.nextSibling){i=i.nextSibling;break e}i=i.parentNode}i=void 0}i=h(i)}}function w(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?w(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function v(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=Di(e.document);n instanceof e.HTMLIFrameElement;){try{var i=typeof n.contentWindow.location.href=="string"}catch{i=!1}if(i)e=n.contentWindow;else break;n=Di(e.document)}return n}function T(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var B=zt&&"documentMode"in document&&11>=document.documentMode,j=null,H=null,K=null,fe=!1;function Te(e,n,i){var o=i.window===i?i.document:i.nodeType===9?i:i.ownerDocument;fe||j==null||j!==Di(o)||(o=j,"selectionStart"in o&&T(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),K&&c(K,o)||(K=o,o=Eo(H,"onSelect"),0<o.length&&(n=new An("onSelect","select",null,n,i),e.push({event:n,listeners:o}),n.target=j)))}function ve(e,n){var i={};return i[e.toLowerCase()]=n.toLowerCase(),i["Webkit"+e]="webkit"+n,i["Moz"+e]="moz"+n,i}var be={animationend:ve("Animation","AnimationEnd"),animationiteration:ve("Animation","AnimationIteration"),animationstart:ve("Animation","AnimationStart"),transitionrun:ve("Transition","TransitionRun"),transitionstart:ve("Transition","TransitionStart"),transitioncancel:ve("Transition","TransitionCancel"),transitionend:ve("Transition","TransitionEnd")},it={},$e={};zt&&($e=document.createElement("div").style,"AnimationEvent"in window||(delete be.animationend.animation,delete be.animationiteration.animation,delete be.animationstart.animation),"TransitionEvent"in window||delete be.transitionend.transition);function nn(e){if(it[e])return it[e];if(!be[e])return e;var n=be[e],i;for(i in n)if(n.hasOwnProperty(i)&&i in $e)return it[e]=n[i];return e}var Yn=nn("animationend"),Tn=nn("animationiteration"),Nt=nn("animationstart"),wn=nn("transitionrun"),Fn=nn("transitionstart"),Ma=nn("transitioncancel"),ea=nn("transitionend"),Ms=new Map,_l="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");_l.push("scrollEnd");function Ir(e,n){Ms.set(e,n),St(n,[e])}var Bs=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},mr=[],Hi=0,su=0;function Ls(){for(var e=Hi,n=su=Hi=0;n<e;){var i=mr[n];mr[n++]=null;var o=mr[n];mr[n++]=null;var f=mr[n];mr[n++]=null;var d=mr[n];if(mr[n++]=null,o!==null&&f!==null){var E=o.pending;E===null?f.next=f:(f.next=E.next,E.next=f),o.pending=f}d!==0&&V0(i,f,d)}}function ks(e,n,i,o){mr[Hi++]=e,mr[Hi++]=n,mr[Hi++]=i,mr[Hi++]=o,su|=o,e.lanes|=o,e=e.alternate,e!==null&&(e.lanes|=o)}function ou(e,n,i,o){return ks(e,n,i,o),Us(e)}function gi(e,n){return ks(e,null,null,n),Us(e)}function V0(e,n,i){e.lanes|=i;var o=e.alternate;o!==null&&(o.lanes|=i);for(var f=!1,d=e.return;d!==null;)d.childLanes|=i,o=d.alternate,o!==null&&(o.childLanes|=i),d.tag===22&&(e=d.stateNode,e===null||e._visibility&1||(f=!0)),e=d,d=d.return;return e.tag===3?(d=e.stateNode,f&&n!==null&&(f=31-nt(i),e=d.hiddenUpdates,o=e[f],o===null?e[f]=[n]:o.push(n),n.lane=i|536870912),d):null}function Us(e){if(50<$l)throw $l=0,mc=null,Error(p(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var Pi={};function bd(e,n,i,o){this.tag=e,this.key=i,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ir(e,n,i,o){return new bd(e,n,i,o)}function uu(e){return e=e.prototype,!(!e||!e.isReactComponent)}function ta(e,n){var i=e.alternate;return i===null?(i=ir(e.tag,n,e.key,e.mode),i.elementType=e.elementType,i.type=e.type,i.stateNode=e.stateNode,i.alternate=e,e.alternate=i):(i.pendingProps=n,i.type=e.type,i.flags=0,i.subtreeFlags=0,i.deletions=null),i.flags=e.flags&65011712,i.childLanes=e.childLanes,i.lanes=e.lanes,i.child=e.child,i.memoizedProps=e.memoizedProps,i.memoizedState=e.memoizedState,i.updateQueue=e.updateQueue,n=e.dependencies,i.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},i.sibling=e.sibling,i.index=e.index,i.ref=e.ref,i.refCleanup=e.refCleanup,i}function g0(e,n){e.flags&=65011714;var i=e.alternate;return i===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=i.childLanes,e.lanes=i.lanes,e.child=i.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=i.memoizedProps,e.memoizedState=i.memoizedState,e.updateQueue=i.updateQueue,e.type=i.type,n=i.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function Fs(e,n,i,o,f,d){var E=0;if(o=e,typeof e=="function")uu(e)&&(E=1);else if(typeof e=="string")E=TV(e,i,ae.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case ce:return e=ir(31,i,n,f),e.elementType=ce,e.lanes=d,e;case te:return xi(i.children,f,d,n);case z:E=8,f|=24;break;case Z:return e=ir(12,i,n,f|2),e.elementType=Z,e.lanes=d,e;case Ee:return e=ir(13,i,n,f),e.elementType=Ee,e.lanes=d,e;case me:return e=ir(19,i,n,f),e.elementType=me,e.lanes=d,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case X:E=10;break e;case G:E=9;break e;case se:E=11;break e;case Q:E=14;break e;case Se:E=16,o=null;break e}E=29,i=Error(p(130,e===null?"null":typeof e,"")),o=null}return n=ir(E,i,n,f),n.elementType=e,n.type=o,n.lanes=d,n}function xi(e,n,i,o){return e=ir(7,e,o,n),e.lanes=i,e}function cu(e,n,i){return e=ir(6,e,null,n),e.lanes=i,e}function x0(e){var n=ir(18,null,null,0);return n.stateNode=e,n}function fu(e,n,i){return n=ir(4,e.children!==null?e.children:[],e.key,n),n.lanes=i,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var m0=new WeakMap;function pr(e,n){if(typeof e=="object"&&e!==null){var i=m0.get(e);return i!==void 0?i:(n={value:e,source:n,stack:ct(n)},m0.set(e,n),n)}return{value:e,source:n,stack:ct(n)}}var Gi=[],Xi=0,zs=null,Il=0,Ar=[],yr=0,Ba=null,Gr=1,Xr="";function na(e,n){Gi[Xi++]=Il,Gi[Xi++]=zs,zs=e,Il=n}function p0(e,n,i){Ar[yr++]=Gr,Ar[yr++]=Xr,Ar[yr++]=Ba,Ba=e;var o=Gr;e=Xr;var f=32-nt(o)-1;o&=~(1<<f),i+=1;var d=32-nt(n)+f;if(30<d){var E=f-f%5;d=(o&(1<<E)-1).toString(32),o>>=E,f-=E,Gr=1<<32-nt(n)+f|i<<f|o,Xr=d+e}else Gr=1<<d|i<<f|o,Xr=e}function hu(e){e.return!==null&&(na(e,1),p0(e,1,0))}function du(e){for(;e===zs;)zs=Gi[--Xi],Gi[Xi]=null,Il=Gi[--Xi],Gi[Xi]=null;for(;e===Ba;)Ba=Ar[--yr],Ar[yr]=null,Xr=Ar[--yr],Ar[yr]=null,Gr=Ar[--yr],Ar[yr]=null}function A0(e,n){Ar[yr++]=Gr,Ar[yr++]=Xr,Ar[yr++]=Ba,Gr=n.id,Xr=n.overflow,Ba=e}var Nn=null,Yt=null,gt=!1,La=null,wr=!1,Vu=Error(p(519));function ka(e){var n=Error(p(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Dl(pr(n,e)),Vu}function y0(e){var n=e.stateNode,i=e.type,o=e.memoizedProps;switch(n[sn]=e,n[Rt]=o,i){case"dialog":ut("cancel",n),ut("close",n);break;case"iframe":case"object":case"embed":ut("load",n);break;case"video":case"audio":for(i=0;i<ts.length;i++)ut(ts[i],n);break;case"source":ut("error",n);break;case"img":case"image":case"link":ut("error",n),ut("load",n);break;case"details":ut("toggle",n);break;case"input":ut("invalid",n),ee(n,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0);break;case"select":ut("invalid",n);break;case"textarea":ut("invalid",n),kn(n,o.value,o.defaultValue,o.children)}i=o.children,typeof i!="string"&&typeof i!="number"&&typeof i!="bigint"||n.textContent===""+i||o.suppressHydrationWarning===!0||U1(n.textContent,i)?(o.popover!=null&&(ut("beforetoggle",n),ut("toggle",n)),o.onScroll!=null&&ut("scroll",n),o.onScrollEnd!=null&&ut("scrollend",n),o.onClick!=null&&(n.onclick=Gn),n=!0):n=!1,n||ka(e,!0)}function w0(e){for(Nn=e.return;Nn;)switch(Nn.tag){case 5:case 31:case 13:wr=!1;return;case 27:case 3:wr=!0;return;default:Nn=Nn.return}}function Yi(e){if(e!==Nn)return!1;if(!gt)return w0(e),gt=!0,!1;var n=e.tag,i;if((i=n!==3&&n!==27)&&((i=n===5)&&(i=e.type,i=!(i!=="form"&&i!=="button")||Ic(e.type,e.memoizedProps)),i=!i),i&&Yt&&ka(e),w0(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(p(317));Yt=Z1(e)}else if(n===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(p(317));Yt=Z1(e)}else n===27?(n=Yt,Ka(e.type)?(e=kc,kc=null,Yt=e):Yt=n):Yt=Nn?Er(e.stateNode.nextSibling):null;return!0}function mi(){Yt=Nn=null,gt=!1}function gu(){var e=La;return e!==null&&(Wn===null?Wn=e:Wn.push.apply(Wn,e),La=null),e}function Dl(e){La===null?La=[e]:La.push(e)}var xu=L(null),pi=null,ra=null;function Ua(e,n,i){Y(xu,n._currentValue),n._currentValue=i}function aa(e){e._currentValue=xu.current,U(xu)}function mu(e,n,i){for(;e!==null;){var o=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,o!==null&&(o.childLanes|=n)):o!==null&&(o.childLanes&n)!==n&&(o.childLanes|=n),e===i)break;e=e.return}}function pu(e,n,i,o){var f=e.child;for(f!==null&&(f.return=e);f!==null;){var d=f.dependencies;if(d!==null){var E=f.child;d=d.firstContext;e:for(;d!==null;){var R=d;d=f;for(var F=0;F<n.length;F++)if(R.context===n[F]){d.lanes|=i,R=d.alternate,R!==null&&(R.lanes|=i),mu(d.return,i,e),o||(E=null);break e}d=R.next}}else if(f.tag===18){if(E=f.return,E===null)throw Error(p(341));E.lanes|=i,d=E.alternate,d!==null&&(d.lanes|=i),mu(E,i,e),E=null}else E=f.child;if(E!==null)E.return=f;else for(E=f;E!==null;){if(E===e){E=null;break}if(f=E.sibling,f!==null){f.return=E.return,E=f;break}E=E.return}f=E}}function Zi(e,n,i,o){e=null;for(var f=n,d=!1;f!==null;){if(!d){if((f.flags&524288)!==0)d=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var E=f.alternate;if(E===null)throw Error(p(387));if(E=E.memoizedProps,E!==null){var R=f.type;u(f.pendingProps.value,E.value)||(e!==null?e.push(R):e=[R])}}else if(f===ze.current){if(E=f.alternate,E===null)throw Error(p(387));E.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(e!==null?e.push(ls):e=[ls])}f=f.return}e!==null&&pu(n,e,i,o),n.flags|=262144}function js(e){for(e=e.firstContext;e!==null;){if(!u(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Ai(e){pi=e,ra=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Rn(e){return b0(pi,e)}function Hs(e,n){return pi===null&&Ai(e),b0(e,n)}function b0(e,n){var i=n._currentValue;if(n={context:n,memoizedValue:i,next:null},ra===null){if(e===null)throw Error(p(308));ra=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else ra=ra.next=n;return i}var Ed=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(i,o){e.push(o)}};this.abort=function(){n.aborted=!0,e.forEach(function(i){return i()})}},Cd=V.unstable_scheduleCallback,vd=V.unstable_NormalPriority,Vn={$$typeof:X,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Au(){return{controller:new Ed,data:new Map,refCount:0}}function Ml(e){e.refCount--,e.refCount===0&&Cd(vd,function(){e.controller.abort()})}var Bl=null,yu=0,qi=0,Qi=null;function Sd(e,n){if(Bl===null){var i=Bl=[];yu=0,qi=Ec(),Qi={status:"pending",value:void 0,then:function(o){i.push(o)}}}return yu++,n.then(E0,E0),n}function E0(){if(--yu===0&&Bl!==null){Qi!==null&&(Qi.status="fulfilled");var e=Bl;Bl=null,qi=0,Qi=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function Td(e,n){var i=[],o={status:"pending",value:null,reason:null,then:function(f){i.push(f)}};return e.then(function(){o.status="fulfilled",o.value=n;for(var f=0;f<i.length;f++)(0,i[f])(n)},function(f){for(o.status="rejected",o.reason=f,f=0;f<i.length;f++)(0,i[f])(void 0)}),o}var C0=$.S;$.S=function(e,n){o1=Jt(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&Sd(e,n),C0!==null&&C0(e,n)};var yi=L(null);function wu(){var e=yi.current;return e!==null?e:Ht.pooledCache}function Ps(e,n){n===null?Y(yi,yi.current):Y(yi,n.pool)}function v0(){var e=wu();return e===null?null:{parent:Vn._currentValue,pool:e}}var Wi=Error(p(460)),bu=Error(p(474)),Gs=Error(p(542)),Xs={then:function(){}};function S0(e){return e=e.status,e==="fulfilled"||e==="rejected"}function T0(e,n,i){switch(i=e[i],i===void 0?e.push(n):i!==n&&(n.then(Gn,Gn),n=i),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,R0(e),e;default:if(typeof n.status=="string")n.then(Gn,Gn);else{if(e=Ht,e!==null&&100<e.shellSuspendCounter)throw Error(p(482));e=n,e.status="pending",e.then(function(o){if(n.status==="pending"){var f=n;f.status="fulfilled",f.value=o}},function(o){if(n.status==="pending"){var f=n;f.status="rejected",f.reason=o}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,R0(e),e}throw bi=n,Wi}}function wi(e){try{var n=e._init;return n(e._payload)}catch(i){throw i!==null&&typeof i=="object"&&typeof i.then=="function"?(bi=i,Wi):i}}var bi=null;function N0(){if(bi===null)throw Error(p(459));var e=bi;return bi=null,e}function R0(e){if(e===Wi||e===Gs)throw Error(p(483))}var Ki=null,Ll=0;function Ys(e){var n=Ll;return Ll+=1,Ki===null&&(Ki=[]),T0(Ki,e,n)}function kl(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function Zs(e,n){throw n.$$typeof===J?Error(p(525)):(e=Object.prototype.toString.call(n),Error(p(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function O0(e){function n(q,P){if(e){var re=q.deletions;re===null?(q.deletions=[P],q.flags|=16):re.push(P)}}function i(q,P){if(!e)return null;for(;P!==null;)n(q,P),P=P.sibling;return null}function o(q){for(var P=new Map;q!==null;)q.key!==null?P.set(q.key,q):P.set(q.index,q),q=q.sibling;return P}function f(q,P){return q=ta(q,P),q.index=0,q.sibling=null,q}function d(q,P,re){return q.index=re,e?(re=q.alternate,re!==null?(re=re.index,re<P?(q.flags|=67108866,P):re):(q.flags|=67108866,P)):(q.flags|=1048576,P)}function E(q){return e&&q.alternate===null&&(q.flags|=67108866),q}function R(q,P,re,pe){return P===null||P.tag!==6?(P=cu(re,q.mode,pe),P.return=q,P):(P=f(P,re),P.return=q,P)}function F(q,P,re,pe){var Pe=re.type;return Pe===te?xe(q,P,re.props.children,pe,re.key):P!==null&&(P.elementType===Pe||typeof Pe=="object"&&Pe!==null&&Pe.$$typeof===Se&&wi(Pe)===P.type)?(P=f(P,re.props),kl(P,re),P.return=q,P):(P=Fs(re.type,re.key,re.props,null,q.mode,pe),kl(P,re),P.return=q,P)}function le(q,P,re,pe){return P===null||P.tag!==4||P.stateNode.containerInfo!==re.containerInfo||P.stateNode.implementation!==re.implementation?(P=fu(re,q.mode,pe),P.return=q,P):(P=f(P,re.children||[]),P.return=q,P)}function xe(q,P,re,pe,Pe){return P===null||P.tag!==7?(P=xi(re,q.mode,pe,Pe),P.return=q,P):(P=f(P,re),P.return=q,P)}function Ae(q,P,re){if(typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint")return P=cu(""+P,q.mode,re),P.return=q,P;if(typeof P=="object"&&P!==null){switch(P.$$typeof){case ne:return re=Fs(P.type,P.key,P.props,null,q.mode,re),kl(re,P),re.return=q,re;case ue:return P=fu(P,q.mode,re),P.return=q,P;case Se:return P=wi(P),Ae(q,P,re)}if(W(P)||de(P))return P=xi(P,q.mode,re,null),P.return=q,P;if(typeof P.then=="function")return Ae(q,Ys(P),re);if(P.$$typeof===X)return Ae(q,Hs(q,P),re);Zs(q,P)}return null}function oe(q,P,re,pe){var Pe=P!==null?P.key:null;if(typeof re=="string"&&re!==""||typeof re=="number"||typeof re=="bigint")return Pe!==null?null:R(q,P,""+re,pe);if(typeof re=="object"&&re!==null){switch(re.$$typeof){case ne:return re.key===Pe?F(q,P,re,pe):null;case ue:return re.key===Pe?le(q,P,re,pe):null;case Se:return re=wi(re),oe(q,P,re,pe)}if(W(re)||de(re))return Pe!==null?null:xe(q,P,re,pe,null);if(typeof re.then=="function")return oe(q,P,Ys(re),pe);if(re.$$typeof===X)return oe(q,P,Hs(q,re),pe);Zs(q,re)}return null}function ge(q,P,re,pe,Pe){if(typeof pe=="string"&&pe!==""||typeof pe=="number"||typeof pe=="bigint")return q=q.get(re)||null,R(P,q,""+pe,Pe);if(typeof pe=="object"&&pe!==null){switch(pe.$$typeof){case ne:return q=q.get(pe.key===null?re:pe.key)||null,F(P,q,pe,Pe);case ue:return q=q.get(pe.key===null?re:pe.key)||null,le(P,q,pe,Pe);case Se:return pe=wi(pe),ge(q,P,re,pe,Pe)}if(W(pe)||de(pe))return q=q.get(re)||null,xe(P,q,pe,Pe,null);if(typeof pe.then=="function")return ge(q,P,re,Ys(pe),Pe);if(pe.$$typeof===X)return ge(q,P,re,Hs(P,pe),Pe);Zs(P,pe)}return null}function Le(q,P,re,pe){for(var Pe=null,wt=null,Fe=P,at=P=0,Vt=null;Fe!==null&&at<re.length;at++){Fe.index>at?(Vt=Fe,Fe=null):Vt=Fe.sibling;var bt=oe(q,Fe,re[at],pe);if(bt===null){Fe===null&&(Fe=Vt);break}e&&Fe&&bt.alternate===null&&n(q,Fe),P=d(bt,P,at),wt===null?Pe=bt:wt.sibling=bt,wt=bt,Fe=Vt}if(at===re.length)return i(q,Fe),gt&&na(q,at),Pe;if(Fe===null){for(;at<re.length;at++)Fe=Ae(q,re[at],pe),Fe!==null&&(P=d(Fe,P,at),wt===null?Pe=Fe:wt.sibling=Fe,wt=Fe);return gt&&na(q,at),Pe}for(Fe=o(Fe);at<re.length;at++)Vt=ge(Fe,q,at,re[at],pe),Vt!==null&&(e&&Vt.alternate!==null&&Fe.delete(Vt.key===null?at:Vt.key),P=d(Vt,P,at),wt===null?Pe=Vt:wt.sibling=Vt,wt=Vt);return e&&Fe.forEach(function(ni){return n(q,ni)}),gt&&na(q,at),Pe}function Ye(q,P,re,pe){if(re==null)throw Error(p(151));for(var Pe=null,wt=null,Fe=P,at=P=0,Vt=null,bt=re.next();Fe!==null&&!bt.done;at++,bt=re.next()){Fe.index>at?(Vt=Fe,Fe=null):Vt=Fe.sibling;var ni=oe(q,Fe,bt.value,pe);if(ni===null){Fe===null&&(Fe=Vt);break}e&&Fe&&ni.alternate===null&&n(q,Fe),P=d(ni,P,at),wt===null?Pe=ni:wt.sibling=ni,wt=ni,Fe=Vt}if(bt.done)return i(q,Fe),gt&&na(q,at),Pe;if(Fe===null){for(;!bt.done;at++,bt=re.next())bt=Ae(q,bt.value,pe),bt!==null&&(P=d(bt,P,at),wt===null?Pe=bt:wt.sibling=bt,wt=bt);return gt&&na(q,at),Pe}for(Fe=o(Fe);!bt.done;at++,bt=re.next())bt=ge(Fe,q,at,bt.value,pe),bt!==null&&(e&&bt.alternate!==null&&Fe.delete(bt.key===null?at:bt.key),P=d(bt,P,at),wt===null?Pe=bt:wt.sibling=bt,wt=bt);return e&&Fe.forEach(function(UV){return n(q,UV)}),gt&&na(q,at),Pe}function Ut(q,P,re,pe){if(typeof re=="object"&&re!==null&&re.type===te&&re.key===null&&(re=re.props.children),typeof re=="object"&&re!==null){switch(re.$$typeof){case ne:e:{for(var Pe=re.key;P!==null;){if(P.key===Pe){if(Pe=re.type,Pe===te){if(P.tag===7){i(q,P.sibling),pe=f(P,re.props.children),pe.return=q,q=pe;break e}}else if(P.elementType===Pe||typeof Pe=="object"&&Pe!==null&&Pe.$$typeof===Se&&wi(Pe)===P.type){i(q,P.sibling),pe=f(P,re.props),kl(pe,re),pe.return=q,q=pe;break e}i(q,P);break}else n(q,P);P=P.sibling}re.type===te?(pe=xi(re.props.children,q.mode,pe,re.key),pe.return=q,q=pe):(pe=Fs(re.type,re.key,re.props,null,q.mode,pe),kl(pe,re),pe.return=q,q=pe)}return E(q);case ue:e:{for(Pe=re.key;P!==null;){if(P.key===Pe)if(P.tag===4&&P.stateNode.containerInfo===re.containerInfo&&P.stateNode.implementation===re.implementation){i(q,P.sibling),pe=f(P,re.children||[]),pe.return=q,q=pe;break e}else{i(q,P);break}else n(q,P);P=P.sibling}pe=fu(re,q.mode,pe),pe.return=q,q=pe}return E(q);case Se:return re=wi(re),Ut(q,P,re,pe)}if(W(re))return Le(q,P,re,pe);if(de(re)){if(Pe=de(re),typeof Pe!="function")throw Error(p(150));return re=Pe.call(re),Ye(q,P,re,pe)}if(typeof re.then=="function")return Ut(q,P,Ys(re),pe);if(re.$$typeof===X)return Ut(q,P,Hs(q,re),pe);Zs(q,re)}return typeof re=="string"&&re!==""||typeof re=="number"||typeof re=="bigint"?(re=""+re,P!==null&&P.tag===6?(i(q,P.sibling),pe=f(P,re),pe.return=q,q=pe):(i(q,P),pe=cu(re,q.mode,pe),pe.return=q,q=pe),E(q)):i(q,P)}return function(q,P,re,pe){try{Ll=0;var Pe=Ut(q,P,re,pe);return Ki=null,Pe}catch(Fe){if(Fe===Wi||Fe===Gs)throw Fe;var wt=ir(29,Fe,null,q.mode);return wt.lanes=pe,wt.return=q,wt}}}var Ei=O0(!0),_0=O0(!1),Fa=!1;function Eu(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Cu(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function za(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function ja(e,n,i){var o=e.updateQueue;if(o===null)return null;if(o=o.shared,(vt&2)!==0){var f=o.pending;return f===null?n.next=n:(n.next=f.next,f.next=n),o.pending=n,n=Us(e),V0(e,null,i),n}return ks(e,o,n,i),Us(e)}function Ul(e,n,i){if(n=n.updateQueue,n!==null&&(n=n.shared,(i&4194048)!==0)){var o=n.lanes;o&=e.pendingLanes,i|=o,n.lanes=i,Fr(e,i)}}function vu(e,n){var i=e.updateQueue,o=e.alternate;if(o!==null&&(o=o.updateQueue,i===o)){var f=null,d=null;if(i=i.firstBaseUpdate,i!==null){do{var E={lane:i.lane,tag:i.tag,payload:i.payload,callback:null,next:null};d===null?f=d=E:d=d.next=E,i=i.next}while(i!==null);d===null?f=d=n:d=d.next=n}else f=d=n;i={baseState:o.baseState,firstBaseUpdate:f,lastBaseUpdate:d,shared:o.shared,callbacks:o.callbacks},e.updateQueue=i;return}e=i.lastBaseUpdate,e===null?i.firstBaseUpdate=n:e.next=n,i.lastBaseUpdate=n}var Su=!1;function Fl(){if(Su){var e=Qi;if(e!==null)throw e}}function zl(e,n,i,o){Su=!1;var f=e.updateQueue;Fa=!1;var d=f.firstBaseUpdate,E=f.lastBaseUpdate,R=f.shared.pending;if(R!==null){f.shared.pending=null;var F=R,le=F.next;F.next=null,E===null?d=le:E.next=le,E=F;var xe=e.alternate;xe!==null&&(xe=xe.updateQueue,R=xe.lastBaseUpdate,R!==E&&(R===null?xe.firstBaseUpdate=le:R.next=le,xe.lastBaseUpdate=F))}if(d!==null){var Ae=f.baseState;E=0,xe=le=F=null,R=d;do{var oe=R.lane&-536870913,ge=oe!==R.lane;if(ge?(dt&oe)===oe:(o&oe)===oe){oe!==0&&oe===qi&&(Su=!0),xe!==null&&(xe=xe.next={lane:0,tag:R.tag,payload:R.payload,callback:null,next:null});e:{var Le=e,Ye=R;oe=n;var Ut=i;switch(Ye.tag){case 1:if(Le=Ye.payload,typeof Le=="function"){Ae=Le.call(Ut,Ae,oe);break e}Ae=Le;break e;case 3:Le.flags=Le.flags&-65537|128;case 0:if(Le=Ye.payload,oe=typeof Le=="function"?Le.call(Ut,Ae,oe):Le,oe==null)break e;Ae=I({},Ae,oe);break e;case 2:Fa=!0}}oe=R.callback,oe!==null&&(e.flags|=64,ge&&(e.flags|=8192),ge=f.callbacks,ge===null?f.callbacks=[oe]:ge.push(oe))}else ge={lane:oe,tag:R.tag,payload:R.payload,callback:R.callback,next:null},xe===null?(le=xe=ge,F=Ae):xe=xe.next=ge,E|=oe;if(R=R.next,R===null){if(R=f.shared.pending,R===null)break;ge=R,R=ge.next,ge.next=null,f.lastBaseUpdate=ge,f.shared.pending=null}}while(!0);xe===null&&(F=Ae),f.baseState=F,f.firstBaseUpdate=le,f.lastBaseUpdate=xe,d===null&&(f.shared.lanes=0),Ya|=E,e.lanes=E,e.memoizedState=Ae}}function I0(e,n){if(typeof e!="function")throw Error(p(191,e));e.call(n)}function D0(e,n){var i=e.callbacks;if(i!==null)for(e.callbacks=null,e=0;e<i.length;e++)I0(i[e],n)}var Ji=L(null),qs=L(0);function M0(e,n){e=da,Y(qs,e),Y(Ji,n),da=e|n.baseLanes}function Tu(){Y(qs,da),Y(Ji,Ji.current)}function Nu(){da=qs.current,U(Ji),U(qs)}var lr=L(null),br=null;function Ha(e){var n=e.alternate;Y(cn,cn.current&1),Y(lr,e),br===null&&(n===null||Ji.current!==null||n.memoizedState!==null)&&(br=e)}function Ru(e){Y(cn,cn.current),Y(lr,e),br===null&&(br=e)}function B0(e){e.tag===22?(Y(cn,cn.current),Y(lr,e),br===null&&(br=e)):Pa()}function Pa(){Y(cn,cn.current),Y(lr,lr.current)}function sr(e){U(lr),br===e&&(br=null),U(cn)}var cn=L(0);function Qs(e){for(var n=e;n!==null;){if(n.tag===13){var i=n.memoizedState;if(i!==null&&(i=i.dehydrated,i===null||Bc(i)||Lc(i)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var ia=0,tt=null,Lt=null,gn=null,Ws=!1,$i=!1,Ci=!1,Ks=0,jl=0,el=null,Nd=0;function rn(){throw Error(p(321))}function Ou(e,n){if(n===null)return!1;for(var i=0;i<n.length&&i<e.length;i++)if(!u(e[i],n[i]))return!1;return!0}function _u(e,n,i,o,f,d){return ia=d,tt=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,$.H=e===null||e.memoizedState===null?Af:Yu,Ci=!1,d=i(o,f),Ci=!1,$i&&(d=k0(n,i,o,f)),L0(e),d}function L0(e){$.H=Gl;var n=Lt!==null&&Lt.next!==null;if(ia=0,gn=Lt=tt=null,Ws=!1,jl=0,el=null,n)throw Error(p(300));e===null||xn||(e=e.dependencies,e!==null&&js(e)&&(xn=!0))}function k0(e,n,i,o){tt=e;var f=0;do{if($i&&(el=null),jl=0,$i=!1,25<=f)throw Error(p(301));if(f+=1,gn=Lt=null,e.updateQueue!=null){var d=e.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}$.H=yf,d=n(i,o)}while($i);return d}function Rd(){var e=$.H,n=e.useState()[0];return n=typeof n.then=="function"?Hl(n):n,e=e.useState()[0],(Lt!==null?Lt.memoizedState:null)!==e&&(tt.flags|=1024),n}function Iu(){var e=Ks!==0;return Ks=0,e}function Du(e,n,i){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~i}function Mu(e){if(Ws){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}Ws=!1}ia=0,gn=Lt=tt=null,$i=!1,jl=Ks=0,el=null}function zn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return gn===null?tt.memoizedState=gn=e:gn=gn.next=e,gn}function fn(){if(Lt===null){var e=tt.alternate;e=e!==null?e.memoizedState:null}else e=Lt.next;var n=gn===null?tt.memoizedState:gn.next;if(n!==null)gn=n,Lt=e;else{if(e===null)throw tt.alternate===null?Error(p(467)):Error(p(310));Lt=e,e={memoizedState:Lt.memoizedState,baseState:Lt.baseState,baseQueue:Lt.baseQueue,queue:Lt.queue,next:null},gn===null?tt.memoizedState=gn=e:gn=gn.next=e}return gn}function Js(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Hl(e){var n=jl;return jl+=1,el===null&&(el=[]),e=T0(el,e,n),n=tt,(gn===null?n.memoizedState:gn.next)===null&&(n=n.alternate,$.H=n===null||n.memoizedState===null?Af:Yu),e}function $s(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Hl(e);if(e.$$typeof===X)return Rn(e)}throw Error(p(438,String(e)))}function Bu(e){var n=null,i=tt.updateQueue;if(i!==null&&(n=i.memoCache),n==null){var o=tt.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(n={data:o.data.map(function(f){return f.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),i===null&&(i=Js(),tt.updateQueue=i),i.memoCache=n,i=n.data[n.index],i===void 0)for(i=n.data[n.index]=Array(e),o=0;o<e;o++)i[o]=Ze;return n.index++,i}function la(e,n){return typeof n=="function"?n(e):n}function eo(e){var n=fn();return Lu(n,Lt,e)}function Lu(e,n,i){var o=e.queue;if(o===null)throw Error(p(311));o.lastRenderedReducer=i;var f=e.baseQueue,d=o.pending;if(d!==null){if(f!==null){var E=f.next;f.next=d.next,d.next=E}n.baseQueue=f=d,o.pending=null}if(d=e.baseState,f===null)e.memoizedState=d;else{n=f.next;var R=E=null,F=null,le=n,xe=!1;do{var Ae=le.lane&-536870913;if(Ae!==le.lane?(dt&Ae)===Ae:(ia&Ae)===Ae){var oe=le.revertLane;if(oe===0)F!==null&&(F=F.next={lane:0,revertLane:0,gesture:null,action:le.action,hasEagerState:le.hasEagerState,eagerState:le.eagerState,next:null}),Ae===qi&&(xe=!0);else if((ia&oe)===oe){le=le.next,oe===qi&&(xe=!0);continue}else Ae={lane:0,revertLane:le.revertLane,gesture:null,action:le.action,hasEagerState:le.hasEagerState,eagerState:le.eagerState,next:null},F===null?(R=F=Ae,E=d):F=F.next=Ae,tt.lanes|=oe,Ya|=oe;Ae=le.action,Ci&&i(d,Ae),d=le.hasEagerState?le.eagerState:i(d,Ae)}else oe={lane:Ae,revertLane:le.revertLane,gesture:le.gesture,action:le.action,hasEagerState:le.hasEagerState,eagerState:le.eagerState,next:null},F===null?(R=F=oe,E=d):F=F.next=oe,tt.lanes|=Ae,Ya|=Ae;le=le.next}while(le!==null&&le!==n);if(F===null?E=d:F.next=R,!u(d,e.memoizedState)&&(xn=!0,xe&&(i=Qi,i!==null)))throw i;e.memoizedState=d,e.baseState=E,e.baseQueue=F,o.lastRenderedState=d}return f===null&&(o.lanes=0),[e.memoizedState,o.dispatch]}function ku(e){var n=fn(),i=n.queue;if(i===null)throw Error(p(311));i.lastRenderedReducer=e;var o=i.dispatch,f=i.pending,d=n.memoizedState;if(f!==null){i.pending=null;var E=f=f.next;do d=e(d,E.action),E=E.next;while(E!==f);u(d,n.memoizedState)||(xn=!0),n.memoizedState=d,n.baseQueue===null&&(n.baseState=d),i.lastRenderedState=d}return[d,o]}function U0(e,n,i){var o=tt,f=fn(),d=gt;if(d){if(i===void 0)throw Error(p(407));i=i()}else i=n();var E=!u((Lt||f).memoizedState,i);if(E&&(f.memoizedState=i,xn=!0),f=f.queue,zu(j0.bind(null,o,f,e),[e]),f.getSnapshot!==n||E||gn!==null&&gn.memoizedState.tag&1){if(o.flags|=2048,tl(9,{destroy:void 0},z0.bind(null,o,f,i,n),null),Ht===null)throw Error(p(349));d||(ia&127)!==0||F0(o,n,i)}return i}function F0(e,n,i){e.flags|=16384,e={getSnapshot:n,value:i},n=tt.updateQueue,n===null?(n=Js(),tt.updateQueue=n,n.stores=[e]):(i=n.stores,i===null?n.stores=[e]:i.push(e))}function z0(e,n,i,o){n.value=i,n.getSnapshot=o,H0(n)&&P0(e)}function j0(e,n,i){return i(function(){H0(n)&&P0(e)})}function H0(e){var n=e.getSnapshot;e=e.value;try{var i=n();return!u(e,i)}catch{return!0}}function P0(e){var n=gi(e,2);n!==null&&Kn(n,e,2)}function Uu(e){var n=zn();if(typeof e=="function"){var i=e;if(e=i(),Ci){Bt(!0);try{i()}finally{Bt(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:la,lastRenderedState:e},n}function G0(e,n,i,o){return e.baseState=i,Lu(e,Lt,typeof o=="function"?o:la)}function Od(e,n,i,o,f){if(ro(e))throw Error(p(485));if(e=n.action,e!==null){var d={payload:f,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(E){d.listeners.push(E)}};$.T!==null?i(!0):d.isTransition=!1,o(d),i=n.pending,i===null?(d.next=n.pending=d,X0(n,d)):(d.next=i.next,n.pending=i.next=d)}}function X0(e,n){var i=n.action,o=n.payload,f=e.state;if(n.isTransition){var d=$.T,E={};$.T=E;try{var R=i(f,o),F=$.S;F!==null&&F(E,R),Y0(e,n,R)}catch(le){Fu(e,n,le)}finally{d!==null&&E.types!==null&&(d.types=E.types),$.T=d}}else try{d=i(f,o),Y0(e,n,d)}catch(le){Fu(e,n,le)}}function Y0(e,n,i){i!==null&&typeof i=="object"&&typeof i.then=="function"?i.then(function(o){Z0(e,n,o)},function(o){return Fu(e,n,o)}):Z0(e,n,i)}function Z0(e,n,i){n.status="fulfilled",n.value=i,q0(n),e.state=i,n=e.pending,n!==null&&(i=n.next,i===n?e.pending=null:(i=i.next,n.next=i,X0(e,i)))}function Fu(e,n,i){var o=e.pending;if(e.pending=null,o!==null){o=o.next;do n.status="rejected",n.reason=i,q0(n),n=n.next;while(n!==o)}e.action=null}function q0(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function Q0(e,n){return n}function W0(e,n){if(gt){var i=Ht.formState;if(i!==null){e:{var o=tt;if(gt){if(Yt){t:{for(var f=Yt,d=wr;f.nodeType!==8;){if(!d){f=null;break t}if(f=Er(f.nextSibling),f===null){f=null;break t}}d=f.data,f=d==="F!"||d==="F"?f:null}if(f){Yt=Er(f.nextSibling),o=f.data==="F!";break e}}ka(o)}o=!1}o&&(n=i[0])}}return i=zn(),i.memoizedState=i.baseState=n,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Q0,lastRenderedState:n},i.queue=o,i=xf.bind(null,tt,o),o.dispatch=i,o=Uu(!1),d=Xu.bind(null,tt,!1,o.queue),o=zn(),f={state:n,dispatch:null,action:e,pending:null},o.queue=f,i=Od.bind(null,tt,f,d,i),f.dispatch=i,o.memoizedState=e,[n,i,!1]}function K0(e){var n=fn();return J0(n,Lt,e)}function J0(e,n,i){if(n=Lu(e,n,Q0)[0],e=eo(la)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var o=Hl(n)}catch(E){throw E===Wi?Gs:E}else o=n;n=fn();var f=n.queue,d=f.dispatch;return i!==n.memoizedState&&(tt.flags|=2048,tl(9,{destroy:void 0},_d.bind(null,f,i),null)),[o,d,e]}function _d(e,n){e.action=n}function $0(e){var n=fn(),i=Lt;if(i!==null)return J0(n,i,e);fn(),n=n.memoizedState,i=fn();var o=i.queue.dispatch;return i.memoizedState=e,[n,o,!1]}function tl(e,n,i,o){return e={tag:e,create:i,deps:o,inst:n,next:null},n=tt.updateQueue,n===null&&(n=Js(),tt.updateQueue=n),i=n.lastEffect,i===null?n.lastEffect=e.next=e:(o=i.next,i.next=e,e.next=o,n.lastEffect=e),e}function ef(){return fn().memoizedState}function to(e,n,i,o){var f=zn();tt.flags|=e,f.memoizedState=tl(1|n,{destroy:void 0},i,o===void 0?null:o)}function no(e,n,i,o){var f=fn();o=o===void 0?null:o;var d=f.memoizedState.inst;Lt!==null&&o!==null&&Ou(o,Lt.memoizedState.deps)?f.memoizedState=tl(n,d,i,o):(tt.flags|=e,f.memoizedState=tl(1|n,d,i,o))}function tf(e,n){to(8390656,8,e,n)}function zu(e,n){no(2048,8,e,n)}function Id(e){tt.flags|=4;var n=tt.updateQueue;if(n===null)n=Js(),tt.updateQueue=n,n.events=[e];else{var i=n.events;i===null?n.events=[e]:i.push(e)}}function nf(e){var n=fn().memoizedState;return Id({ref:n,nextImpl:e}),function(){if((vt&2)!==0)throw Error(p(440));return n.impl.apply(void 0,arguments)}}function rf(e,n){return no(4,2,e,n)}function af(e,n){return no(4,4,e,n)}function lf(e,n){if(typeof n=="function"){e=e();var i=n(e);return function(){typeof i=="function"?i():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function sf(e,n,i){i=i!=null?i.concat([e]):null,no(4,4,lf.bind(null,n,e),i)}function ju(){}function of(e,n){var i=fn();n=n===void 0?null:n;var o=i.memoizedState;return n!==null&&Ou(n,o[1])?o[0]:(i.memoizedState=[e,n],e)}function uf(e,n){var i=fn();n=n===void 0?null:n;var o=i.memoizedState;if(n!==null&&Ou(n,o[1]))return o[0];if(o=e(),Ci){Bt(!0);try{e()}finally{Bt(!1)}}return i.memoizedState=[o,n],o}function Hu(e,n,i){return i===void 0||(ia&1073741824)!==0&&(dt&261930)===0?e.memoizedState=n:(e.memoizedState=i,e=c1(),tt.lanes|=e,Ya|=e,i)}function cf(e,n,i,o){return u(i,n)?i:Ji.current!==null?(e=Hu(e,i,o),u(e,n)||(xn=!0),e):(ia&42)===0||(ia&1073741824)!==0&&(dt&261930)===0?(xn=!0,e.memoizedState=i):(e=c1(),tt.lanes|=e,Ya|=e,n)}function ff(e,n,i,o,f){var d=Ve.p;Ve.p=d!==0&&8>d?d:8;var E=$.T,R={};$.T=R,Xu(e,!1,n,i);try{var F=f(),le=$.S;if(le!==null&&le(R,F),F!==null&&typeof F=="object"&&typeof F.then=="function"){var xe=Td(F,o);Pl(e,n,xe,cr(e))}else Pl(e,n,o,cr(e))}catch(Ae){Pl(e,n,{then:function(){},status:"rejected",reason:Ae},cr())}finally{Ve.p=d,E!==null&&R.types!==null&&(E.types=R.types),$.T=E}}function Dd(){}function Pu(e,n,i,o){if(e.tag!==5)throw Error(p(476));var f=hf(e).queue;ff(e,f,n,we,i===null?Dd:function(){return df(e),i(o)})}function hf(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:we,baseState:we,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:la,lastRenderedState:we},next:null};var i={};return n.next={memoizedState:i,baseState:i,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:la,lastRenderedState:i},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function df(e){var n=hf(e);n.next===null&&(n=e.alternate.memoizedState),Pl(e,n.next.queue,{},cr())}function Gu(){return Rn(ls)}function Vf(){return fn().memoizedState}function gf(){return fn().memoizedState}function Md(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var i=cr();e=za(i);var o=ja(n,e,i);o!==null&&(Kn(o,n,i),Ul(o,n,i)),n={cache:Au()},e.payload=n;return}n=n.return}}function Bd(e,n,i){var o=cr();i={lane:o,revertLane:0,gesture:null,action:i,hasEagerState:!1,eagerState:null,next:null},ro(e)?mf(n,i):(i=ou(e,n,i,o),i!==null&&(Kn(i,e,o),pf(i,n,o)))}function xf(e,n,i){var o=cr();Pl(e,n,i,o)}function Pl(e,n,i,o){var f={lane:o,revertLane:0,gesture:null,action:i,hasEagerState:!1,eagerState:null,next:null};if(ro(e))mf(n,f);else{var d=e.alternate;if(e.lanes===0&&(d===null||d.lanes===0)&&(d=n.lastRenderedReducer,d!==null))try{var E=n.lastRenderedState,R=d(E,i);if(f.hasEagerState=!0,f.eagerState=R,u(R,E))return ks(e,n,f,0),Ht===null&&Ls(),!1}catch{}if(i=ou(e,n,f,o),i!==null)return Kn(i,e,o),pf(i,n,o),!0}return!1}function Xu(e,n,i,o){if(o={lane:2,revertLane:Ec(),gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},ro(e)){if(n)throw Error(p(479))}else n=ou(e,i,o,2),n!==null&&Kn(n,e,2)}function ro(e){var n=e.alternate;return e===tt||n!==null&&n===tt}function mf(e,n){$i=Ws=!0;var i=e.pending;i===null?n.next=n:(n.next=i.next,i.next=n),e.pending=n}function pf(e,n,i){if((i&4194048)!==0){var o=n.lanes;o&=e.pendingLanes,i|=o,n.lanes=i,Fr(e,i)}}var Gl={readContext:Rn,use:$s,useCallback:rn,useContext:rn,useEffect:rn,useImperativeHandle:rn,useLayoutEffect:rn,useInsertionEffect:rn,useMemo:rn,useReducer:rn,useRef:rn,useState:rn,useDebugValue:rn,useDeferredValue:rn,useTransition:rn,useSyncExternalStore:rn,useId:rn,useHostTransitionStatus:rn,useFormState:rn,useActionState:rn,useOptimistic:rn,useMemoCache:rn,useCacheRefresh:rn};Gl.useEffectEvent=rn;var Af={readContext:Rn,use:$s,useCallback:function(e,n){return zn().memoizedState=[e,n===void 0?null:n],e},useContext:Rn,useEffect:tf,useImperativeHandle:function(e,n,i){i=i!=null?i.concat([e]):null,to(4194308,4,lf.bind(null,n,e),i)},useLayoutEffect:function(e,n){return to(4194308,4,e,n)},useInsertionEffect:function(e,n){to(4,2,e,n)},useMemo:function(e,n){var i=zn();n=n===void 0?null:n;var o=e();if(Ci){Bt(!0);try{e()}finally{Bt(!1)}}return i.memoizedState=[o,n],o},useReducer:function(e,n,i){var o=zn();if(i!==void 0){var f=i(n);if(Ci){Bt(!0);try{i(n)}finally{Bt(!1)}}}else f=n;return o.memoizedState=o.baseState=f,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:f},o.queue=e,e=e.dispatch=Bd.bind(null,tt,e),[o.memoizedState,e]},useRef:function(e){var n=zn();return e={current:e},n.memoizedState=e},useState:function(e){e=Uu(e);var n=e.queue,i=xf.bind(null,tt,n);return n.dispatch=i,[e.memoizedState,i]},useDebugValue:ju,useDeferredValue:function(e,n){var i=zn();return Hu(i,e,n)},useTransition:function(){var e=Uu(!1);return e=ff.bind(null,tt,e.queue,!0,!1),zn().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,i){var o=tt,f=zn();if(gt){if(i===void 0)throw Error(p(407));i=i()}else{if(i=n(),Ht===null)throw Error(p(349));(dt&127)!==0||F0(o,n,i)}f.memoizedState=i;var d={value:i,getSnapshot:n};return f.queue=d,tf(j0.bind(null,o,d,e),[e]),o.flags|=2048,tl(9,{destroy:void 0},z0.bind(null,o,d,i,n),null),i},useId:function(){var e=zn(),n=Ht.identifierPrefix;if(gt){var i=Xr,o=Gr;i=(o&~(1<<32-nt(o)-1)).toString(32)+i,n="_"+n+"R_"+i,i=Ks++,0<i&&(n+="H"+i.toString(32)),n+="_"}else i=Nd++,n="_"+n+"r_"+i.toString(32)+"_";return e.memoizedState=n},useHostTransitionStatus:Gu,useFormState:W0,useActionState:W0,useOptimistic:function(e){var n=zn();n.memoizedState=n.baseState=e;var i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=i,n=Xu.bind(null,tt,!0,i),i.dispatch=n,[e,n]},useMemoCache:Bu,useCacheRefresh:function(){return zn().memoizedState=Md.bind(null,tt)},useEffectEvent:function(e){var n=zn(),i={impl:e};return n.memoizedState=i,function(){if((vt&2)!==0)throw Error(p(440));return i.impl.apply(void 0,arguments)}}},Yu={readContext:Rn,use:$s,useCallback:of,useContext:Rn,useEffect:zu,useImperativeHandle:sf,useInsertionEffect:rf,useLayoutEffect:af,useMemo:uf,useReducer:eo,useRef:ef,useState:function(){return eo(la)},useDebugValue:ju,useDeferredValue:function(e,n){var i=fn();return cf(i,Lt.memoizedState,e,n)},useTransition:function(){var e=eo(la)[0],n=fn().memoizedState;return[typeof e=="boolean"?e:Hl(e),n]},useSyncExternalStore:U0,useId:Vf,useHostTransitionStatus:Gu,useFormState:K0,useActionState:K0,useOptimistic:function(e,n){var i=fn();return G0(i,Lt,e,n)},useMemoCache:Bu,useCacheRefresh:gf};Yu.useEffectEvent=nf;var yf={readContext:Rn,use:$s,useCallback:of,useContext:Rn,useEffect:zu,useImperativeHandle:sf,useInsertionEffect:rf,useLayoutEffect:af,useMemo:uf,useReducer:ku,useRef:ef,useState:function(){return ku(la)},useDebugValue:ju,useDeferredValue:function(e,n){var i=fn();return Lt===null?Hu(i,e,n):cf(i,Lt.memoizedState,e,n)},useTransition:function(){var e=ku(la)[0],n=fn().memoizedState;return[typeof e=="boolean"?e:Hl(e),n]},useSyncExternalStore:U0,useId:Vf,useHostTransitionStatus:Gu,useFormState:$0,useActionState:$0,useOptimistic:function(e,n){var i=fn();return Lt!==null?G0(i,Lt,e,n):(i.baseState=e,[e,i.queue.dispatch])},useMemoCache:Bu,useCacheRefresh:gf};yf.useEffectEvent=nf;function Zu(e,n,i,o){n=e.memoizedState,i=i(o,n),i=i==null?n:I({},n,i),e.memoizedState=i,e.lanes===0&&(e.updateQueue.baseState=i)}var qu={enqueueSetState:function(e,n,i){e=e._reactInternals;var o=cr(),f=za(o);f.payload=n,i!=null&&(f.callback=i),n=ja(e,f,o),n!==null&&(Kn(n,e,o),Ul(n,e,o))},enqueueReplaceState:function(e,n,i){e=e._reactInternals;var o=cr(),f=za(o);f.tag=1,f.payload=n,i!=null&&(f.callback=i),n=ja(e,f,o),n!==null&&(Kn(n,e,o),Ul(n,e,o))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var i=cr(),o=za(i);o.tag=2,n!=null&&(o.callback=n),n=ja(e,o,i),n!==null&&(Kn(n,e,i),Ul(n,e,i))}};function wf(e,n,i,o,f,d,E){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(o,d,E):n.prototype&&n.prototype.isPureReactComponent?!c(i,o)||!c(f,d):!0}function bf(e,n,i,o){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(i,o),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(i,o),n.state!==e&&qu.enqueueReplaceState(n,n.state,null)}function vi(e,n){var i=n;if("ref"in n){i={};for(var o in n)o!=="ref"&&(i[o]=n[o])}if(e=e.defaultProps){i===n&&(i=I({},i));for(var f in e)i[f]===void 0&&(i[f]=e[f])}return i}function Ef(e){Bs(e)}function Cf(e){console.error(e)}function vf(e){Bs(e)}function ao(e,n){try{var i=e.onUncaughtError;i(n.value,{componentStack:n.stack})}catch(o){setTimeout(function(){throw o})}}function Sf(e,n,i){try{var o=e.onCaughtError;o(i.value,{componentStack:i.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function Qu(e,n,i){return i=za(i),i.tag=3,i.payload={element:null},i.callback=function(){ao(e,n)},i}function Tf(e){return e=za(e),e.tag=3,e}function Nf(e,n,i,o){var f=i.type.getDerivedStateFromError;if(typeof f=="function"){var d=o.value;e.payload=function(){return f(d)},e.callback=function(){Sf(n,i,o)}}var E=i.stateNode;E!==null&&typeof E.componentDidCatch=="function"&&(e.callback=function(){Sf(n,i,o),typeof f!="function"&&(Za===null?Za=new Set([this]):Za.add(this));var R=o.stack;this.componentDidCatch(o.value,{componentStack:R!==null?R:""})})}function Ld(e,n,i,o,f){if(i.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(n=i.alternate,n!==null&&Zi(n,i,f,!0),i=lr.current,i!==null){switch(i.tag){case 31:case 13:return br===null?mo():i.alternate===null&&an===0&&(an=3),i.flags&=-257,i.flags|=65536,i.lanes=f,o===Xs?i.flags|=16384:(n=i.updateQueue,n===null?i.updateQueue=new Set([o]):n.add(o),yc(e,o,f)),!1;case 22:return i.flags|=65536,o===Xs?i.flags|=16384:(n=i.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([o])},i.updateQueue=n):(i=n.retryQueue,i===null?n.retryQueue=new Set([o]):i.add(o)),yc(e,o,f)),!1}throw Error(p(435,i.tag))}return yc(e,o,f),mo(),!1}if(gt)return n=lr.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=f,o!==Vu&&(e=Error(p(422),{cause:o}),Dl(pr(e,i)))):(o!==Vu&&(n=Error(p(423),{cause:o}),Dl(pr(n,i))),e=e.current.alternate,e.flags|=65536,f&=-f,e.lanes|=f,o=pr(o,i),f=Qu(e.stateNode,o,f),vu(e,f),an!==4&&(an=2)),!1;var d=Error(p(520),{cause:o});if(d=pr(d,i),Jl===null?Jl=[d]:Jl.push(d),an!==4&&(an=2),n===null)return!0;o=pr(o,i),i=n;do{switch(i.tag){case 3:return i.flags|=65536,e=f&-f,i.lanes|=e,e=Qu(i.stateNode,o,e),vu(i,e),!1;case 1:if(n=i.type,d=i.stateNode,(i.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(Za===null||!Za.has(d))))return i.flags|=65536,f&=-f,i.lanes|=f,f=Tf(f),Nf(f,e,i,o),vu(i,f),!1}i=i.return}while(i!==null);return!1}var Wu=Error(p(461)),xn=!1;function On(e,n,i,o){n.child=e===null?_0(n,null,i,o):Ei(n,e.child,i,o)}function Rf(e,n,i,o,f){i=i.render;var d=n.ref;if("ref"in o){var E={};for(var R in o)R!=="ref"&&(E[R]=o[R])}else E=o;return Ai(n),o=_u(e,n,i,E,d,f),R=Iu(),e!==null&&!xn?(Du(e,n,f),sa(e,n,f)):(gt&&R&&hu(n),n.flags|=1,On(e,n,o,f),n.child)}function Of(e,n,i,o,f){if(e===null){var d=i.type;return typeof d=="function"&&!uu(d)&&d.defaultProps===void 0&&i.compare===null?(n.tag=15,n.type=d,_f(e,n,d,o,f)):(e=Fs(i.type,null,o,n,n.mode,f),e.ref=n.ref,e.return=n,n.child=e)}if(d=e.child,!ac(e,f)){var E=d.memoizedProps;if(i=i.compare,i=i!==null?i:c,i(E,o)&&e.ref===n.ref)return sa(e,n,f)}return n.flags|=1,e=ta(d,o),e.ref=n.ref,e.return=n,n.child=e}function _f(e,n,i,o,f){if(e!==null){var d=e.memoizedProps;if(c(d,o)&&e.ref===n.ref)if(xn=!1,n.pendingProps=o=d,ac(e,f))(e.flags&131072)!==0&&(xn=!0);else return n.lanes=e.lanes,sa(e,n,f)}return Ku(e,n,i,o,f)}function If(e,n,i,o){var f=o.children,d=e!==null?e.memoizedState:null;if(e===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.mode==="hidden"){if((n.flags&128)!==0){if(d=d!==null?d.baseLanes|i:i,e!==null){for(o=n.child=e.child,f=0;o!==null;)f=f|o.lanes|o.childLanes,o=o.sibling;o=f&~d}else o=0,n.child=null;return Df(e,n,d,i,o)}if((i&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&Ps(n,d!==null?d.cachePool:null),d!==null?M0(n,d):Tu(),B0(n);else return o=n.lanes=536870912,Df(e,n,d!==null?d.baseLanes|i:i,i,o)}else d!==null?(Ps(n,d.cachePool),M0(n,d),Pa(),n.memoizedState=null):(e!==null&&Ps(n,null),Tu(),Pa());return On(e,n,f,i),n.child}function Xl(e,n){return e!==null&&e.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function Df(e,n,i,o,f){var d=wu();return d=d===null?null:{parent:Vn._currentValue,pool:d},n.memoizedState={baseLanes:i,cachePool:d},e!==null&&Ps(n,null),Tu(),B0(n),e!==null&&Zi(e,n,o,!0),n.childLanes=f,null}function io(e,n){return n=so({mode:n.mode,children:n.children},e.mode),n.ref=e.ref,e.child=n,n.return=e,n}function Mf(e,n,i){return Ei(n,e.child,null,i),e=io(n,n.pendingProps),e.flags|=2,sr(n),n.memoizedState=null,e}function kd(e,n,i){var o=n.pendingProps,f=(n.flags&128)!==0;if(n.flags&=-129,e===null){if(gt){if(o.mode==="hidden")return e=io(n,o),n.lanes=536870912,Xl(null,e);if(Ru(n),(e=Yt)?(e=Y1(e,wr),e=e!==null&&e.data==="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:Ba!==null?{id:Gr,overflow:Xr}:null,retryLane:536870912,hydrationErrors:null},i=x0(e),i.return=n,n.child=i,Nn=n,Yt=null)):e=null,e===null)throw ka(n);return n.lanes=536870912,null}return io(n,o)}var d=e.memoizedState;if(d!==null){var E=d.dehydrated;if(Ru(n),f)if(n.flags&256)n.flags&=-257,n=Mf(e,n,i);else if(n.memoizedState!==null)n.child=e.child,n.flags|=128,n=null;else throw Error(p(558));else if(xn||Zi(e,n,i,!1),f=(i&e.childLanes)!==0,xn||f){if(o=Ht,o!==null&&(E=_i(o,i),E!==0&&E!==d.retryLane))throw d.retryLane=E,gi(e,E),Kn(o,e,E),Wu;mo(),n=Mf(e,n,i)}else e=d.treeContext,Yt=Er(E.nextSibling),Nn=n,gt=!0,La=null,wr=!1,e!==null&&A0(n,e),n=io(n,o),n.flags|=4096;return n}return e=ta(e.child,{mode:o.mode,children:o.children}),e.ref=n.ref,n.child=e,e.return=n,e}function lo(e,n){var i=n.ref;if(i===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof i!="function"&&typeof i!="object")throw Error(p(284));(e===null||e.ref!==i)&&(n.flags|=4194816)}}function Ku(e,n,i,o,f){return Ai(n),i=_u(e,n,i,o,void 0,f),o=Iu(),e!==null&&!xn?(Du(e,n,f),sa(e,n,f)):(gt&&o&&hu(n),n.flags|=1,On(e,n,i,f),n.child)}function Bf(e,n,i,o,f,d){return Ai(n),n.updateQueue=null,i=k0(n,o,i,f),L0(e),o=Iu(),e!==null&&!xn?(Du(e,n,d),sa(e,n,d)):(gt&&o&&hu(n),n.flags|=1,On(e,n,i,d),n.child)}function Lf(e,n,i,o,f){if(Ai(n),n.stateNode===null){var d=Pi,E=i.contextType;typeof E=="object"&&E!==null&&(d=Rn(E)),d=new i(o,d),n.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=qu,n.stateNode=d,d._reactInternals=n,d=n.stateNode,d.props=o,d.state=n.memoizedState,d.refs={},Eu(n),E=i.contextType,d.context=typeof E=="object"&&E!==null?Rn(E):Pi,d.state=n.memoizedState,E=i.getDerivedStateFromProps,typeof E=="function"&&(Zu(n,i,E,o),d.state=n.memoizedState),typeof i.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(E=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),E!==d.state&&qu.enqueueReplaceState(d,d.state,null),zl(n,o,d,f),Fl(),d.state=n.memoizedState),typeof d.componentDidMount=="function"&&(n.flags|=4194308),o=!0}else if(e===null){d=n.stateNode;var R=n.memoizedProps,F=vi(i,R);d.props=F;var le=d.context,xe=i.contextType;E=Pi,typeof xe=="object"&&xe!==null&&(E=Rn(xe));var Ae=i.getDerivedStateFromProps;xe=typeof Ae=="function"||typeof d.getSnapshotBeforeUpdate=="function",R=n.pendingProps!==R,xe||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(R||le!==E)&&bf(n,d,o,E),Fa=!1;var oe=n.memoizedState;d.state=oe,zl(n,o,d,f),Fl(),le=n.memoizedState,R||oe!==le||Fa?(typeof Ae=="function"&&(Zu(n,i,Ae,o),le=n.memoizedState),(F=Fa||wf(n,i,F,o,oe,le,E))?(xe||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(n.flags|=4194308)):(typeof d.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=o,n.memoizedState=le),d.props=o,d.state=le,d.context=E,o=F):(typeof d.componentDidMount=="function"&&(n.flags|=4194308),o=!1)}else{d=n.stateNode,Cu(e,n),E=n.memoizedProps,xe=vi(i,E),d.props=xe,Ae=n.pendingProps,oe=d.context,le=i.contextType,F=Pi,typeof le=="object"&&le!==null&&(F=Rn(le)),R=i.getDerivedStateFromProps,(le=typeof R=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(E!==Ae||oe!==F)&&bf(n,d,o,F),Fa=!1,oe=n.memoizedState,d.state=oe,zl(n,o,d,f),Fl();var ge=n.memoizedState;E!==Ae||oe!==ge||Fa||e!==null&&e.dependencies!==null&&js(e.dependencies)?(typeof R=="function"&&(Zu(n,i,R,o),ge=n.memoizedState),(xe=Fa||wf(n,i,xe,o,oe,ge,F)||e!==null&&e.dependencies!==null&&js(e.dependencies))?(le||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(o,ge,F),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(o,ge,F)),typeof d.componentDidUpdate=="function"&&(n.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof d.componentDidUpdate!="function"||E===e.memoizedProps&&oe===e.memoizedState||(n.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||E===e.memoizedProps&&oe===e.memoizedState||(n.flags|=1024),n.memoizedProps=o,n.memoizedState=ge),d.props=o,d.state=ge,d.context=F,o=xe):(typeof d.componentDidUpdate!="function"||E===e.memoizedProps&&oe===e.memoizedState||(n.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||E===e.memoizedProps&&oe===e.memoizedState||(n.flags|=1024),o=!1)}return d=o,lo(e,n),o=(n.flags&128)!==0,d||o?(d=n.stateNode,i=o&&typeof i.getDerivedStateFromError!="function"?null:d.render(),n.flags|=1,e!==null&&o?(n.child=Ei(n,e.child,null,f),n.child=Ei(n,null,i,f)):On(e,n,i,f),n.memoizedState=d.state,e=n.child):e=sa(e,n,f),e}function kf(e,n,i,o){return mi(),n.flags|=256,On(e,n,i,o),n.child}var Ju={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function $u(e){return{baseLanes:e,cachePool:v0()}}function ec(e,n,i){return e=e!==null?e.childLanes&~i:0,n&&(e|=ur),e}function Uf(e,n,i){var o=n.pendingProps,f=!1,d=(n.flags&128)!==0,E;if((E=d)||(E=e!==null&&e.memoizedState===null?!1:(cn.current&2)!==0),E&&(f=!0,n.flags&=-129),E=(n.flags&32)!==0,n.flags&=-33,e===null){if(gt){if(f?Ha(n):Pa(),(e=Yt)?(e=Y1(e,wr),e=e!==null&&e.data!=="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:Ba!==null?{id:Gr,overflow:Xr}:null,retryLane:536870912,hydrationErrors:null},i=x0(e),i.return=n,n.child=i,Nn=n,Yt=null)):e=null,e===null)throw ka(n);return Lc(e)?n.lanes=32:n.lanes=536870912,null}var R=o.children;return o=o.fallback,f?(Pa(),f=n.mode,R=so({mode:"hidden",children:R},f),o=xi(o,f,i,null),R.return=n,o.return=n,R.sibling=o,n.child=R,o=n.child,o.memoizedState=$u(i),o.childLanes=ec(e,E,i),n.memoizedState=Ju,Xl(null,o)):(Ha(n),tc(n,R))}var F=e.memoizedState;if(F!==null&&(R=F.dehydrated,R!==null)){if(d)n.flags&256?(Ha(n),n.flags&=-257,n=nc(e,n,i)):n.memoizedState!==null?(Pa(),n.child=e.child,n.flags|=128,n=null):(Pa(),R=o.fallback,f=n.mode,o=so({mode:"visible",children:o.children},f),R=xi(R,f,i,null),R.flags|=2,o.return=n,R.return=n,o.sibling=R,n.child=o,Ei(n,e.child,null,i),o=n.child,o.memoizedState=$u(i),o.childLanes=ec(e,E,i),n.memoizedState=Ju,n=Xl(null,o));else if(Ha(n),Lc(R)){if(E=R.nextSibling&&R.nextSibling.dataset,E)var le=E.dgst;E=le,o=Error(p(419)),o.stack="",o.digest=E,Dl({value:o,source:null,stack:null}),n=nc(e,n,i)}else if(xn||Zi(e,n,i,!1),E=(i&e.childLanes)!==0,xn||E){if(E=Ht,E!==null&&(o=_i(E,i),o!==0&&o!==F.retryLane))throw F.retryLane=o,gi(e,o),Kn(E,e,o),Wu;Bc(R)||mo(),n=nc(e,n,i)}else Bc(R)?(n.flags|=192,n.child=e.child,n=null):(e=F.treeContext,Yt=Er(R.nextSibling),Nn=n,gt=!0,La=null,wr=!1,e!==null&&A0(n,e),n=tc(n,o.children),n.flags|=4096);return n}return f?(Pa(),R=o.fallback,f=n.mode,F=e.child,le=F.sibling,o=ta(F,{mode:"hidden",children:o.children}),o.subtreeFlags=F.subtreeFlags&65011712,le!==null?R=ta(le,R):(R=xi(R,f,i,null),R.flags|=2),R.return=n,o.return=n,o.sibling=R,n.child=o,Xl(null,o),o=n.child,R=e.child.memoizedState,R===null?R=$u(i):(f=R.cachePool,f!==null?(F=Vn._currentValue,f=f.parent!==F?{parent:F,pool:F}:f):f=v0(),R={baseLanes:R.baseLanes|i,cachePool:f}),o.memoizedState=R,o.childLanes=ec(e,E,i),n.memoizedState=Ju,Xl(e.child,o)):(Ha(n),i=e.child,e=i.sibling,i=ta(i,{mode:"visible",children:o.children}),i.return=n,i.sibling=null,e!==null&&(E=n.deletions,E===null?(n.deletions=[e],n.flags|=16):E.push(e)),n.child=i,n.memoizedState=null,i)}function tc(e,n){return n=so({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function so(e,n){return e=ir(22,e,null,n),e.lanes=0,e}function nc(e,n,i){return Ei(n,e.child,null,i),e=tc(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function Ff(e,n,i){e.lanes|=n;var o=e.alternate;o!==null&&(o.lanes|=n),mu(e.return,n,i)}function rc(e,n,i,o,f,d){var E=e.memoizedState;E===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:o,tail:i,tailMode:f,treeForkCount:d}:(E.isBackwards=n,E.rendering=null,E.renderingStartTime=0,E.last=o,E.tail=i,E.tailMode=f,E.treeForkCount=d)}function zf(e,n,i){var o=n.pendingProps,f=o.revealOrder,d=o.tail;o=o.children;var E=cn.current,R=(E&2)!==0;if(R?(E=E&1|2,n.flags|=128):E&=1,Y(cn,E),On(e,n,o,i),o=gt?Il:0,!R&&e!==null&&(e.flags&128)!==0)e:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Ff(e,i,n);else if(e.tag===19)Ff(e,i,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break e;for(;e.sibling===null;){if(e.return===null||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(f){case"forwards":for(i=n.child,f=null;i!==null;)e=i.alternate,e!==null&&Qs(e)===null&&(f=i),i=i.sibling;i=f,i===null?(f=n.child,n.child=null):(f=i.sibling,i.sibling=null),rc(n,!1,f,i,d,o);break;case"backwards":case"unstable_legacy-backwards":for(i=null,f=n.child,n.child=null;f!==null;){if(e=f.alternate,e!==null&&Qs(e)===null){n.child=f;break}e=f.sibling,f.sibling=i,i=f,f=e}rc(n,!0,i,null,d,o);break;case"together":rc(n,!1,null,null,void 0,o);break;default:n.memoizedState=null}return n.child}function sa(e,n,i){if(e!==null&&(n.dependencies=e.dependencies),Ya|=n.lanes,(i&n.childLanes)===0)if(e!==null){if(Zi(e,n,i,!1),(i&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(p(153));if(n.child!==null){for(e=n.child,i=ta(e,e.pendingProps),n.child=i,i.return=n;e.sibling!==null;)e=e.sibling,i=i.sibling=ta(e,e.pendingProps),i.return=n;i.sibling=null}return n.child}function ac(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&js(e)))}function Ud(e,n,i){switch(n.tag){case 3:je(n,n.stateNode.containerInfo),Ua(n,Vn,e.memoizedState.cache),mi();break;case 27:case 5:pt(n);break;case 4:je(n,n.stateNode.containerInfo);break;case 10:Ua(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,Ru(n),null;break;case 13:var o=n.memoizedState;if(o!==null)return o.dehydrated!==null?(Ha(n),n.flags|=128,null):(i&n.child.childLanes)!==0?Uf(e,n,i):(Ha(n),e=sa(e,n,i),e!==null?e.sibling:null);Ha(n);break;case 19:var f=(e.flags&128)!==0;if(o=(i&n.childLanes)!==0,o||(Zi(e,n,i,!1),o=(i&n.childLanes)!==0),f){if(o)return zf(e,n,i);n.flags|=128}if(f=n.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),Y(cn,cn.current),o)break;return null;case 22:return n.lanes=0,If(e,n,i,n.pendingProps);case 24:Ua(n,Vn,e.memoizedState.cache)}return sa(e,n,i)}function jf(e,n,i){if(e!==null)if(e.memoizedProps!==n.pendingProps)xn=!0;else{if(!ac(e,i)&&(n.flags&128)===0)return xn=!1,Ud(e,n,i);xn=(e.flags&131072)!==0}else xn=!1,gt&&(n.flags&1048576)!==0&&p0(n,Il,n.index);switch(n.lanes=0,n.tag){case 16:e:{var o=n.pendingProps;if(e=wi(n.elementType),n.type=e,typeof e=="function")uu(e)?(o=vi(e,o),n.tag=1,n=Lf(null,n,e,o,i)):(n.tag=0,n=Ku(null,n,e,o,i));else{if(e!=null){var f=e.$$typeof;if(f===se){n.tag=11,n=Rf(null,n,e,o,i);break e}else if(f===Q){n.tag=14,n=Of(null,n,e,o,i);break e}}throw n=_e(e)||e,Error(p(306,n,""))}}return n;case 0:return Ku(e,n,n.type,n.pendingProps,i);case 1:return o=n.type,f=vi(o,n.pendingProps),Lf(e,n,o,f,i);case 3:e:{if(je(n,n.stateNode.containerInfo),e===null)throw Error(p(387));o=n.pendingProps;var d=n.memoizedState;f=d.element,Cu(e,n),zl(n,o,null,i);var E=n.memoizedState;if(o=E.cache,Ua(n,Vn,o),o!==d.cache&&pu(n,[Vn],i,!0),Fl(),o=E.element,d.isDehydrated)if(d={element:o,isDehydrated:!1,cache:E.cache},n.updateQueue.baseState=d,n.memoizedState=d,n.flags&256){n=kf(e,n,o,i);break e}else if(o!==f){f=pr(Error(p(424)),n),Dl(f),n=kf(e,n,o,i);break e}else for(e=n.stateNode.containerInfo,e.nodeType===9?e=e.body:e=e.nodeName==="HTML"?e.ownerDocument.body:e,Yt=Er(e.firstChild),Nn=n,gt=!0,La=null,wr=!0,i=_0(n,null,o,i),n.child=i;i;)i.flags=i.flags&-3|4096,i=i.sibling;else{if(mi(),o===f){n=sa(e,n,i);break e}On(e,n,o,i)}n=n.child}return n;case 26:return lo(e,n),e===null?(i=J1(n.type,null,n.pendingProps,null))?n.memoizedState=i:gt||(i=n.type,e=n.pendingProps,o=Co(ie.current).createElement(i),o[sn]=n,o[Rt]=e,_n(o,i,e),tn(o),n.stateNode=o):n.memoizedState=J1(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return pt(n),e===null&&gt&&(o=n.stateNode=Q1(n.type,n.pendingProps,ie.current),Nn=n,wr=!0,f=Yt,Ka(n.type)?(kc=f,Yt=Er(o.firstChild)):Yt=f),On(e,n,n.pendingProps.children,i),lo(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&gt&&((f=o=Yt)&&(o=VV(o,n.type,n.pendingProps,wr),o!==null?(n.stateNode=o,Nn=n,Yt=Er(o.firstChild),wr=!1,f=!0):f=!1),f||ka(n)),pt(n),f=n.type,d=n.pendingProps,E=e!==null?e.memoizedProps:null,o=d.children,Ic(f,d)?o=null:E!==null&&Ic(f,E)&&(n.flags|=32),n.memoizedState!==null&&(f=_u(e,n,Rd,null,null,i),ls._currentValue=f),lo(e,n),On(e,n,o,i),n.child;case 6:return e===null&&gt&&((e=i=Yt)&&(i=gV(i,n.pendingProps,wr),i!==null?(n.stateNode=i,Nn=n,Yt=null,e=!0):e=!1),e||ka(n)),null;case 13:return Uf(e,n,i);case 4:return je(n,n.stateNode.containerInfo),o=n.pendingProps,e===null?n.child=Ei(n,null,o,i):On(e,n,o,i),n.child;case 11:return Rf(e,n,n.type,n.pendingProps,i);case 7:return On(e,n,n.pendingProps,i),n.child;case 8:return On(e,n,n.pendingProps.children,i),n.child;case 12:return On(e,n,n.pendingProps.children,i),n.child;case 10:return o=n.pendingProps,Ua(n,n.type,o.value),On(e,n,o.children,i),n.child;case 9:return f=n.type._context,o=n.pendingProps.children,Ai(n),f=Rn(f),o=o(f),n.flags|=1,On(e,n,o,i),n.child;case 14:return Of(e,n,n.type,n.pendingProps,i);case 15:return _f(e,n,n.type,n.pendingProps,i);case 19:return zf(e,n,i);case 31:return kd(e,n,i);case 22:return If(e,n,i,n.pendingProps);case 24:return Ai(n),o=Rn(Vn),e===null?(f=wu(),f===null&&(f=Ht,d=Au(),f.pooledCache=d,d.refCount++,d!==null&&(f.pooledCacheLanes|=i),f=d),n.memoizedState={parent:o,cache:f},Eu(n),Ua(n,Vn,f)):((e.lanes&i)!==0&&(Cu(e,n),zl(n,null,null,i),Fl()),f=e.memoizedState,d=n.memoizedState,f.parent!==o?(f={parent:o,cache:o},n.memoizedState=f,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=f),Ua(n,Vn,o)):(o=d.cache,Ua(n,Vn,o),o!==f.cache&&pu(n,[Vn],i,!0))),On(e,n,n.pendingProps.children,i),n.child;case 29:throw n.pendingProps}throw Error(p(156,n.tag))}function oa(e){e.flags|=4}function ic(e,n,i,o,f){if((n=(e.mode&32)!==0)&&(n=!1),n){if(e.flags|=16777216,(f&335544128)===f)if(e.stateNode.complete)e.flags|=8192;else if(V1())e.flags|=8192;else throw bi=Xs,bu}else e.flags&=-16777217}function Hf(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!rh(n))if(V1())e.flags|=8192;else throw bi=Xs,bu}function oo(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?pn():536870912,e.lanes|=n,il|=n)}function Yl(e,n){if(!gt)switch(e.tailMode){case"hidden":n=e.tail;for(var i=null;n!==null;)n.alternate!==null&&(i=n),n=n.sibling;i===null?e.tail=null:i.sibling=null;break;case"collapsed":i=e.tail;for(var o=null;i!==null;)i.alternate!==null&&(o=i),i=i.sibling;o===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:o.sibling=null}}function Zt(e){var n=e.alternate!==null&&e.alternate.child===e.child,i=0,o=0;if(n)for(var f=e.child;f!==null;)i|=f.lanes|f.childLanes,o|=f.subtreeFlags&65011712,o|=f.flags&65011712,f.return=e,f=f.sibling;else for(f=e.child;f!==null;)i|=f.lanes|f.childLanes,o|=f.subtreeFlags,o|=f.flags,f.return=e,f=f.sibling;return e.subtreeFlags|=o,e.childLanes=i,n}function Fd(e,n,i){var o=n.pendingProps;switch(du(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Zt(n),null;case 1:return Zt(n),null;case 3:return i=n.stateNode,o=null,e!==null&&(o=e.memoizedState.cache),n.memoizedState.cache!==o&&(n.flags|=2048),aa(Vn),Je(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(e===null||e.child===null)&&(Yi(n)?oa(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,gu())),Zt(n),null;case 26:var f=n.type,d=n.memoizedState;return e===null?(oa(n),d!==null?(Zt(n),Hf(n,d)):(Zt(n),ic(n,f,null,o,i))):d?d!==e.memoizedState?(oa(n),Zt(n),Hf(n,d)):(Zt(n),n.flags&=-16777217):(e=e.memoizedProps,e!==o&&oa(n),Zt(n),ic(n,f,e,o,i)),null;case 27:if(At(n),i=ie.current,f=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&oa(n);else{if(!o){if(n.stateNode===null)throw Error(p(166));return Zt(n),null}e=ae.current,Yi(n)?y0(n):(e=Q1(f,o,i),n.stateNode=e,oa(n))}return Zt(n),null;case 5:if(At(n),f=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&oa(n);else{if(!o){if(n.stateNode===null)throw Error(p(166));return Zt(n),null}if(d=ae.current,Yi(n))y0(n);else{var E=Co(ie.current);switch(d){case 1:d=E.createElementNS("http://www.w3.org/2000/svg",f);break;case 2:d=E.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;default:switch(f){case"svg":d=E.createElementNS("http://www.w3.org/2000/svg",f);break;case"math":d=E.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;case"script":d=E.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild);break;case"select":d=typeof o.is=="string"?E.createElement("select",{is:o.is}):E.createElement("select"),o.multiple?d.multiple=!0:o.size&&(d.size=o.size);break;default:d=typeof o.is=="string"?E.createElement(f,{is:o.is}):E.createElement(f)}}d[sn]=n,d[Rt]=o;e:for(E=n.child;E!==null;){if(E.tag===5||E.tag===6)d.appendChild(E.stateNode);else if(E.tag!==4&&E.tag!==27&&E.child!==null){E.child.return=E,E=E.child;continue}if(E===n)break e;for(;E.sibling===null;){if(E.return===null||E.return===n)break e;E=E.return}E.sibling.return=E.return,E=E.sibling}n.stateNode=d;e:switch(_n(d,f,o),f){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break e;case"img":o=!0;break e;default:o=!1}o&&oa(n)}}return Zt(n),ic(n,n.type,e===null?null:e.memoizedProps,n.pendingProps,i),null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==o&&oa(n);else{if(typeof o!="string"&&n.stateNode===null)throw Error(p(166));if(e=ie.current,Yi(n)){if(e=n.stateNode,i=n.memoizedProps,o=null,f=Nn,f!==null)switch(f.tag){case 27:case 5:o=f.memoizedProps}e[sn]=n,e=!!(e.nodeValue===i||o!==null&&o.suppressHydrationWarning===!0||U1(e.nodeValue,i)),e||ka(n,!0)}else e=Co(e).createTextNode(o),e[sn]=n,n.stateNode=e}return Zt(n),null;case 31:if(i=n.memoizedState,e===null||e.memoizedState!==null){if(o=Yi(n),i!==null){if(e===null){if(!o)throw Error(p(318));if(e=n.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(p(557));e[sn]=n}else mi(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;Zt(n),e=!1}else i=gu(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=i),e=!0;if(!e)return n.flags&256?(sr(n),n):(sr(n),null);if((n.flags&128)!==0)throw Error(p(558))}return Zt(n),null;case 13:if(o=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(f=Yi(n),o!==null&&o.dehydrated!==null){if(e===null){if(!f)throw Error(p(318));if(f=n.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(p(317));f[sn]=n}else mi(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;Zt(n),f=!1}else f=gu(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=f),f=!0;if(!f)return n.flags&256?(sr(n),n):(sr(n),null)}return sr(n),(n.flags&128)!==0?(n.lanes=i,n):(i=o!==null,e=e!==null&&e.memoizedState!==null,i&&(o=n.child,f=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(f=o.alternate.memoizedState.cachePool.pool),d=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(d=o.memoizedState.cachePool.pool),d!==f&&(o.flags|=2048)),i!==e&&i&&(n.child.flags|=8192),oo(n,n.updateQueue),Zt(n),null);case 4:return Je(),e===null&&Tc(n.stateNode.containerInfo),Zt(n),null;case 10:return aa(n.type),Zt(n),null;case 19:if(U(cn),o=n.memoizedState,o===null)return Zt(n),null;if(f=(n.flags&128)!==0,d=o.rendering,d===null)if(f)Yl(o,!1);else{if(an!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(d=Qs(e),d!==null){for(n.flags|=128,Yl(o,!1),e=d.updateQueue,n.updateQueue=e,oo(n,e),n.subtreeFlags=0,e=i,i=n.child;i!==null;)g0(i,e),i=i.sibling;return Y(cn,cn.current&1|2),gt&&na(n,o.treeForkCount),n.child}e=e.sibling}o.tail!==null&&Jt()>Vo&&(n.flags|=128,f=!0,Yl(o,!1),n.lanes=4194304)}else{if(!f)if(e=Qs(d),e!==null){if(n.flags|=128,f=!0,e=e.updateQueue,n.updateQueue=e,oo(n,e),Yl(o,!0),o.tail===null&&o.tailMode==="hidden"&&!d.alternate&&!gt)return Zt(n),null}else 2*Jt()-o.renderingStartTime>Vo&&i!==536870912&&(n.flags|=128,f=!0,Yl(o,!1),n.lanes=4194304);o.isBackwards?(d.sibling=n.child,n.child=d):(e=o.last,e!==null?e.sibling=d:n.child=d,o.last=d)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=Jt(),e.sibling=null,i=cn.current,Y(cn,f?i&1|2:i&1),gt&&na(n,o.treeForkCount),e):(Zt(n),null);case 22:case 23:return sr(n),Nu(),o=n.memoizedState!==null,e!==null?e.memoizedState!==null!==o&&(n.flags|=8192):o&&(n.flags|=8192),o?(i&536870912)!==0&&(n.flags&128)===0&&(Zt(n),n.subtreeFlags&6&&(n.flags|=8192)):Zt(n),i=n.updateQueue,i!==null&&oo(n,i.retryQueue),i=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(i=e.memoizedState.cachePool.pool),o=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),o!==i&&(n.flags|=2048),e!==null&&U(yi),null;case 24:return i=null,e!==null&&(i=e.memoizedState.cache),n.memoizedState.cache!==i&&(n.flags|=2048),aa(Vn),Zt(n),null;case 25:return null;case 30:return null}throw Error(p(156,n.tag))}function zd(e,n){switch(du(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return aa(Vn),Je(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return At(n),null;case 31:if(n.memoizedState!==null){if(sr(n),n.alternate===null)throw Error(p(340));mi()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 13:if(sr(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(p(340));mi()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return U(cn),null;case 4:return Je(),null;case 10:return aa(n.type),null;case 22:case 23:return sr(n),Nu(),e!==null&&U(yi),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return aa(Vn),null;case 25:return null;default:return null}}function Pf(e,n){switch(du(n),n.tag){case 3:aa(Vn),Je();break;case 26:case 27:case 5:At(n);break;case 4:Je();break;case 31:n.memoizedState!==null&&sr(n);break;case 13:sr(n);break;case 19:U(cn);break;case 10:aa(n.type);break;case 22:case 23:sr(n),Nu(),e!==null&&U(yi);break;case 24:aa(Vn)}}function Zl(e,n){try{var i=n.updateQueue,o=i!==null?i.lastEffect:null;if(o!==null){var f=o.next;i=f;do{if((i.tag&e)===e){o=void 0;var d=i.create,E=i.inst;o=d(),E.destroy=o}i=i.next}while(i!==f)}}catch(R){_t(n,n.return,R)}}function Ga(e,n,i){try{var o=n.updateQueue,f=o!==null?o.lastEffect:null;if(f!==null){var d=f.next;o=d;do{if((o.tag&e)===e){var E=o.inst,R=E.destroy;if(R!==void 0){E.destroy=void 0,f=n;var F=i,le=R;try{le()}catch(xe){_t(f,F,xe)}}}o=o.next}while(o!==d)}}catch(xe){_t(n,n.return,xe)}}function Gf(e){var n=e.updateQueue;if(n!==null){var i=e.stateNode;try{D0(n,i)}catch(o){_t(e,e.return,o)}}}function Xf(e,n,i){i.props=vi(e.type,e.memoizedProps),i.state=e.memoizedState;try{i.componentWillUnmount()}catch(o){_t(e,n,o)}}function ql(e,n){try{var i=e.ref;if(i!==null){switch(e.tag){case 26:case 27:case 5:var o=e.stateNode;break;case 30:o=e.stateNode;break;default:o=e.stateNode}typeof i=="function"?e.refCleanup=i(o):i.current=o}}catch(f){_t(e,n,f)}}function Yr(e,n){var i=e.ref,o=e.refCleanup;if(i!==null)if(typeof o=="function")try{o()}catch(f){_t(e,n,f)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof i=="function")try{i(null)}catch(f){_t(e,n,f)}else i.current=null}function Yf(e){var n=e.type,i=e.memoizedProps,o=e.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":i.autoFocus&&o.focus();break e;case"img":i.src?o.src=i.src:i.srcSet&&(o.srcset=i.srcSet)}}catch(f){_t(e,e.return,f)}}function lc(e,n,i){try{var o=e.stateNode;oV(o,e.type,i,n),o[Rt]=n}catch(f){_t(e,e.return,f)}}function Zf(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Ka(e.type)||e.tag===4}function sc(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Zf(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Ka(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function oc(e,n,i){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i).insertBefore(e,n):(n=i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,n.appendChild(e),i=i._reactRootContainer,i!=null||n.onclick!==null||(n.onclick=Gn));else if(o!==4&&(o===27&&Ka(e.type)&&(i=e.stateNode,n=null),e=e.child,e!==null))for(oc(e,n,i),e=e.sibling;e!==null;)oc(e,n,i),e=e.sibling}function uo(e,n,i){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?i.insertBefore(e,n):i.appendChild(e);else if(o!==4&&(o===27&&Ka(e.type)&&(i=e.stateNode),e=e.child,e!==null))for(uo(e,n,i),e=e.sibling;e!==null;)uo(e,n,i),e=e.sibling}function qf(e){var n=e.stateNode,i=e.memoizedProps;try{for(var o=e.type,f=n.attributes;f.length;)n.removeAttributeNode(f[0]);_n(n,o,i),n[sn]=e,n[Rt]=i}catch(d){_t(e,e.return,d)}}var ua=!1,mn=!1,uc=!1,Qf=typeof WeakSet=="function"?WeakSet:Set,Cn=null;function jd(e,n){if(e=e.containerInfo,Oc=_o,e=v(e),T(e)){if("selectionStart"in e)var i={start:e.selectionStart,end:e.selectionEnd};else e:{i=(i=e.ownerDocument)&&i.defaultView||window;var o=i.getSelection&&i.getSelection();if(o&&o.rangeCount!==0){i=o.anchorNode;var f=o.anchorOffset,d=o.focusNode;o=o.focusOffset;try{i.nodeType,d.nodeType}catch{i=null;break e}var E=0,R=-1,F=-1,le=0,xe=0,Ae=e,oe=null;t:for(;;){for(var ge;Ae!==i||f!==0&&Ae.nodeType!==3||(R=E+f),Ae!==d||o!==0&&Ae.nodeType!==3||(F=E+o),Ae.nodeType===3&&(E+=Ae.nodeValue.length),(ge=Ae.firstChild)!==null;)oe=Ae,Ae=ge;for(;;){if(Ae===e)break t;if(oe===i&&++le===f&&(R=E),oe===d&&++xe===o&&(F=E),(ge=Ae.nextSibling)!==null)break;Ae=oe,oe=Ae.parentNode}Ae=ge}i=R===-1||F===-1?null:{start:R,end:F}}else i=null}i=i||{start:0,end:0}}else i=null;for(_c={focusedElem:e,selectionRange:i},_o=!1,Cn=n;Cn!==null;)if(n=Cn,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,Cn=e;else for(;Cn!==null;){switch(n=Cn,d=n.alternate,e=n.flags,n.tag){case 0:if((e&4)!==0&&(e=n.updateQueue,e=e!==null?e.events:null,e!==null))for(i=0;i<e.length;i++)f=e[i],f.ref.impl=f.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&d!==null){e=void 0,i=n,f=d.memoizedProps,d=d.memoizedState,o=i.stateNode;try{var Le=vi(i.type,f);e=o.getSnapshotBeforeUpdate(Le,d),o.__reactInternalSnapshotBeforeUpdate=e}catch(Ye){_t(i,i.return,Ye)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,i=e.nodeType,i===9)Mc(e);else if(i===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Mc(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(p(163))}if(e=n.sibling,e!==null){e.return=n.return,Cn=e;break}Cn=n.return}}function Wf(e,n,i){var o=i.flags;switch(i.tag){case 0:case 11:case 15:fa(e,i),o&4&&Zl(5,i);break;case 1:if(fa(e,i),o&4)if(e=i.stateNode,n===null)try{e.componentDidMount()}catch(E){_t(i,i.return,E)}else{var f=vi(i.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(f,n,e.__reactInternalSnapshotBeforeUpdate)}catch(E){_t(i,i.return,E)}}o&64&&Gf(i),o&512&&ql(i,i.return);break;case 3:if(fa(e,i),o&64&&(e=i.updateQueue,e!==null)){if(n=null,i.child!==null)switch(i.child.tag){case 27:case 5:n=i.child.stateNode;break;case 1:n=i.child.stateNode}try{D0(e,n)}catch(E){_t(i,i.return,E)}}break;case 27:n===null&&o&4&&qf(i);case 26:case 5:fa(e,i),n===null&&o&4&&Yf(i),o&512&&ql(i,i.return);break;case 12:fa(e,i);break;case 31:fa(e,i),o&4&&$f(e,i);break;case 13:fa(e,i),o&4&&e1(e,i),o&64&&(e=i.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(i=Wd.bind(null,i),xV(e,i))));break;case 22:if(o=i.memoizedState!==null||ua,!o){n=n!==null&&n.memoizedState!==null||mn,f=ua;var d=mn;ua=o,(mn=n)&&!d?ha(e,i,(i.subtreeFlags&8772)!==0):fa(e,i),ua=f,mn=d}break;case 30:break;default:fa(e,i)}}function Kf(e){var n=e.alternate;n!==null&&(e.alternate=null,Kf(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&Pn(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Kt=null,Zn=!1;function ca(e,n,i){for(i=i.child;i!==null;)Jf(e,n,i),i=i.sibling}function Jf(e,n,i){if(Ne&&typeof Ne.onCommitFiberUnmount=="function")try{Ne.onCommitFiberUnmount(Pt,i)}catch{}switch(i.tag){case 26:mn||Yr(i,n),ca(e,n,i),i.memoizedState?i.memoizedState.count--:i.stateNode&&(i=i.stateNode,i.parentNode.removeChild(i));break;case 27:mn||Yr(i,n);var o=Kt,f=Zn;Ka(i.type)&&(Kt=i.stateNode,Zn=!1),ca(e,n,i),rs(i.stateNode),Kt=o,Zn=f;break;case 5:mn||Yr(i,n);case 6:if(o=Kt,f=Zn,Kt=null,ca(e,n,i),Kt=o,Zn=f,Kt!==null)if(Zn)try{(Kt.nodeType===9?Kt.body:Kt.nodeName==="HTML"?Kt.ownerDocument.body:Kt).removeChild(i.stateNode)}catch(d){_t(i,n,d)}else try{Kt.removeChild(i.stateNode)}catch(d){_t(i,n,d)}break;case 18:Kt!==null&&(Zn?(e=Kt,G1(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,i.stateNode),dl(e)):G1(Kt,i.stateNode));break;case 4:o=Kt,f=Zn,Kt=i.stateNode.containerInfo,Zn=!0,ca(e,n,i),Kt=o,Zn=f;break;case 0:case 11:case 14:case 15:Ga(2,i,n),mn||Ga(4,i,n),ca(e,n,i);break;case 1:mn||(Yr(i,n),o=i.stateNode,typeof o.componentWillUnmount=="function"&&Xf(i,n,o)),ca(e,n,i);break;case 21:ca(e,n,i);break;case 22:mn=(o=mn)||i.memoizedState!==null,ca(e,n,i),mn=o;break;default:ca(e,n,i)}}function $f(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{dl(e)}catch(i){_t(n,n.return,i)}}}function e1(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{dl(e)}catch(i){_t(n,n.return,i)}}function Hd(e){switch(e.tag){case 31:case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new Qf),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new Qf),n;default:throw Error(p(435,e.tag))}}function co(e,n){var i=Hd(e);n.forEach(function(o){if(!i.has(o)){i.add(o);var f=Kd.bind(null,e,o);o.then(f,f)}})}function qn(e,n){var i=n.deletions;if(i!==null)for(var o=0;o<i.length;o++){var f=i[o],d=e,E=n,R=E;e:for(;R!==null;){switch(R.tag){case 27:if(Ka(R.type)){Kt=R.stateNode,Zn=!1;break e}break;case 5:Kt=R.stateNode,Zn=!1;break e;case 3:case 4:Kt=R.stateNode.containerInfo,Zn=!0;break e}R=R.return}if(Kt===null)throw Error(p(160));Jf(d,E,f),Kt=null,Zn=!1,d=f.alternate,d!==null&&(d.return=null),f.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)t1(n,e),n=n.sibling}var Dr=null;function t1(e,n){var i=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:qn(n,e),Qn(e),o&4&&(Ga(3,e,e.return),Zl(3,e),Ga(5,e,e.return));break;case 1:qn(n,e),Qn(e),o&512&&(mn||i===null||Yr(i,i.return)),o&64&&ua&&(e=e.updateQueue,e!==null&&(o=e.callbacks,o!==null&&(i=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=i===null?o:i.concat(o))));break;case 26:var f=Dr;if(qn(n,e),Qn(e),o&512&&(mn||i===null||Yr(i,i.return)),o&4){var d=i!==null?i.memoizedState:null;if(o=e.memoizedState,i===null)if(o===null)if(e.stateNode===null){e:{o=e.type,i=e.memoizedProps,f=f.ownerDocument||f;t:switch(o){case"title":d=f.getElementsByTagName("title")[0],(!d||d[li]||d[sn]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=f.createElement(o),f.head.insertBefore(d,f.querySelector("head > title"))),_n(d,o,i),d[sn]=e,tn(d),o=d;break e;case"link":var E=th("link","href",f).get(o+(i.href||""));if(E){for(var R=0;R<E.length;R++)if(d=E[R],d.getAttribute("href")===(i.href==null||i.href===""?null:i.href)&&d.getAttribute("rel")===(i.rel==null?null:i.rel)&&d.getAttribute("title")===(i.title==null?null:i.title)&&d.getAttribute("crossorigin")===(i.crossOrigin==null?null:i.crossOrigin)){E.splice(R,1);break t}}d=f.createElement(o),_n(d,o,i),f.head.appendChild(d);break;case"meta":if(E=th("meta","content",f).get(o+(i.content||""))){for(R=0;R<E.length;R++)if(d=E[R],d.getAttribute("content")===(i.content==null?null:""+i.content)&&d.getAttribute("name")===(i.name==null?null:i.name)&&d.getAttribute("property")===(i.property==null?null:i.property)&&d.getAttribute("http-equiv")===(i.httpEquiv==null?null:i.httpEquiv)&&d.getAttribute("charset")===(i.charSet==null?null:i.charSet)){E.splice(R,1);break t}}d=f.createElement(o),_n(d,o,i),f.head.appendChild(d);break;default:throw Error(p(468,o))}d[sn]=e,tn(d),o=d}e.stateNode=o}else nh(f,e.type,e.stateNode);else e.stateNode=eh(f,o,e.memoizedProps);else d!==o?(d===null?i.stateNode!==null&&(i=i.stateNode,i.parentNode.removeChild(i)):d.count--,o===null?nh(f,e.type,e.stateNode):eh(f,o,e.memoizedProps)):o===null&&e.stateNode!==null&&lc(e,e.memoizedProps,i.memoizedProps)}break;case 27:qn(n,e),Qn(e),o&512&&(mn||i===null||Yr(i,i.return)),i!==null&&o&4&&lc(e,e.memoizedProps,i.memoizedProps);break;case 5:if(qn(n,e),Qn(e),o&512&&(mn||i===null||Yr(i,i.return)),e.flags&32){f=e.stateNode;try{Sa(f,"")}catch(Le){_t(e,e.return,Le)}}o&4&&e.stateNode!=null&&(f=e.memoizedProps,lc(e,f,i!==null?i.memoizedProps:f)),o&1024&&(uc=!0);break;case 6:if(qn(n,e),Qn(e),o&4){if(e.stateNode===null)throw Error(p(162));o=e.memoizedProps,i=e.stateNode;try{i.nodeValue=o}catch(Le){_t(e,e.return,Le)}}break;case 3:if(To=null,f=Dr,Dr=vo(n.containerInfo),qn(n,e),Dr=f,Qn(e),o&4&&i!==null&&i.memoizedState.isDehydrated)try{dl(n.containerInfo)}catch(Le){_t(e,e.return,Le)}uc&&(uc=!1,n1(e));break;case 4:o=Dr,Dr=vo(e.stateNode.containerInfo),qn(n,e),Qn(e),Dr=o;break;case 12:qn(n,e),Qn(e);break;case 31:qn(n,e),Qn(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,co(e,o)));break;case 13:qn(n,e),Qn(e),e.child.flags&8192&&e.memoizedState!==null!=(i!==null&&i.memoizedState!==null)&&(ho=Jt()),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,co(e,o)));break;case 22:f=e.memoizedState!==null;var F=i!==null&&i.memoizedState!==null,le=ua,xe=mn;if(ua=le||f,mn=xe||F,qn(n,e),mn=xe,ua=le,Qn(e),o&8192)e:for(n=e.stateNode,n._visibility=f?n._visibility&-2:n._visibility|1,f&&(i===null||F||ua||mn||Si(e)),i=null,n=e;;){if(n.tag===5||n.tag===26){if(i===null){F=i=n;try{if(d=F.stateNode,f)E=d.style,typeof E.setProperty=="function"?E.setProperty("display","none","important"):E.display="none";else{R=F.stateNode;var Ae=F.memoizedProps.style,oe=Ae!=null&&Ae.hasOwnProperty("display")?Ae.display:null;R.style.display=oe==null||typeof oe=="boolean"?"":(""+oe).trim()}}catch(Le){_t(F,F.return,Le)}}}else if(n.tag===6){if(i===null){F=n;try{F.stateNode.nodeValue=f?"":F.memoizedProps}catch(Le){_t(F,F.return,Le)}}}else if(n.tag===18){if(i===null){F=n;try{var ge=F.stateNode;f?X1(ge,!0):X1(F.stateNode,!1)}catch(Le){_t(F,F.return,Le)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break e;for(;n.sibling===null;){if(n.return===null||n.return===e)break e;i===n&&(i=null),n=n.return}i===n&&(i=null),n.sibling.return=n.return,n=n.sibling}o&4&&(o=e.updateQueue,o!==null&&(i=o.retryQueue,i!==null&&(o.retryQueue=null,co(e,i))));break;case 19:qn(n,e),Qn(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,co(e,o)));break;case 30:break;case 21:break;default:qn(n,e),Qn(e)}}function Qn(e){var n=e.flags;if(n&2){try{for(var i,o=e.return;o!==null;){if(Zf(o)){i=o;break}o=o.return}if(i==null)throw Error(p(160));switch(i.tag){case 27:var f=i.stateNode,d=sc(e);uo(e,d,f);break;case 5:var E=i.stateNode;i.flags&32&&(Sa(E,""),i.flags&=-33);var R=sc(e);uo(e,R,E);break;case 3:case 4:var F=i.stateNode.containerInfo,le=sc(e);oc(e,le,F);break;default:throw Error(p(161))}}catch(xe){_t(e,e.return,xe)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function n1(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;n1(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function fa(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)Wf(e,n.alternate,n),n=n.sibling}function Si(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:Ga(4,n,n.return),Si(n);break;case 1:Yr(n,n.return);var i=n.stateNode;typeof i.componentWillUnmount=="function"&&Xf(n,n.return,i),Si(n);break;case 27:rs(n.stateNode);case 26:case 5:Yr(n,n.return),Si(n);break;case 22:n.memoizedState===null&&Si(n);break;case 30:Si(n);break;default:Si(n)}e=e.sibling}}function ha(e,n,i){for(i=i&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var o=n.alternate,f=e,d=n,E=d.flags;switch(d.tag){case 0:case 11:case 15:ha(f,d,i),Zl(4,d);break;case 1:if(ha(f,d,i),o=d,f=o.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(le){_t(o,o.return,le)}if(o=d,f=o.updateQueue,f!==null){var R=o.stateNode;try{var F=f.shared.hiddenCallbacks;if(F!==null)for(f.shared.hiddenCallbacks=null,f=0;f<F.length;f++)I0(F[f],R)}catch(le){_t(o,o.return,le)}}i&&E&64&&Gf(d),ql(d,d.return);break;case 27:qf(d);case 26:case 5:ha(f,d,i),i&&o===null&&E&4&&Yf(d),ql(d,d.return);break;case 12:ha(f,d,i);break;case 31:ha(f,d,i),i&&E&4&&$f(f,d);break;case 13:ha(f,d,i),i&&E&4&&e1(f,d);break;case 22:d.memoizedState===null&&ha(f,d,i),ql(d,d.return);break;case 30:break;default:ha(f,d,i)}n=n.sibling}}function cc(e,n){var i=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(i=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==i&&(e!=null&&e.refCount++,i!=null&&Ml(i))}function fc(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Ml(e))}function Mr(e,n,i,o){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)r1(e,n,i,o),n=n.sibling}function r1(e,n,i,o){var f=n.flags;switch(n.tag){case 0:case 11:case 15:Mr(e,n,i,o),f&2048&&Zl(9,n);break;case 1:Mr(e,n,i,o);break;case 3:Mr(e,n,i,o),f&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Ml(e)));break;case 12:if(f&2048){Mr(e,n,i,o),e=n.stateNode;try{var d=n.memoizedProps,E=d.id,R=d.onPostCommit;typeof R=="function"&&R(E,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(F){_t(n,n.return,F)}}else Mr(e,n,i,o);break;case 31:Mr(e,n,i,o);break;case 13:Mr(e,n,i,o);break;case 23:break;case 22:d=n.stateNode,E=n.alternate,n.memoizedState!==null?d._visibility&2?Mr(e,n,i,o):Ql(e,n):d._visibility&2?Mr(e,n,i,o):(d._visibility|=2,nl(e,n,i,o,(n.subtreeFlags&10256)!==0||!1)),f&2048&&cc(E,n);break;case 24:Mr(e,n,i,o),f&2048&&fc(n.alternate,n);break;default:Mr(e,n,i,o)}}function nl(e,n,i,o,f){for(f=f&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var d=e,E=n,R=i,F=o,le=E.flags;switch(E.tag){case 0:case 11:case 15:nl(d,E,R,F,f),Zl(8,E);break;case 23:break;case 22:var xe=E.stateNode;E.memoizedState!==null?xe._visibility&2?nl(d,E,R,F,f):Ql(d,E):(xe._visibility|=2,nl(d,E,R,F,f)),f&&le&2048&&cc(E.alternate,E);break;case 24:nl(d,E,R,F,f),f&&le&2048&&fc(E.alternate,E);break;default:nl(d,E,R,F,f)}n=n.sibling}}function Ql(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var i=e,o=n,f=o.flags;switch(o.tag){case 22:Ql(i,o),f&2048&&cc(o.alternate,o);break;case 24:Ql(i,o),f&2048&&fc(o.alternate,o);break;default:Ql(i,o)}n=n.sibling}}var Wl=8192;function rl(e,n,i){if(e.subtreeFlags&Wl)for(e=e.child;e!==null;)a1(e,n,i),e=e.sibling}function a1(e,n,i){switch(e.tag){case 26:rl(e,n,i),e.flags&Wl&&e.memoizedState!==null&&NV(i,Dr,e.memoizedState,e.memoizedProps);break;case 5:rl(e,n,i);break;case 3:case 4:var o=Dr;Dr=vo(e.stateNode.containerInfo),rl(e,n,i),Dr=o;break;case 22:e.memoizedState===null&&(o=e.alternate,o!==null&&o.memoizedState!==null?(o=Wl,Wl=16777216,rl(e,n,i),Wl=o):rl(e,n,i));break;default:rl(e,n,i)}}function i1(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function Kl(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var i=0;i<n.length;i++){var o=n[i];Cn=o,s1(o,e)}i1(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)l1(e),e=e.sibling}function l1(e){switch(e.tag){case 0:case 11:case 15:Kl(e),e.flags&2048&&Ga(9,e,e.return);break;case 3:Kl(e);break;case 12:Kl(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,fo(e)):Kl(e);break;default:Kl(e)}}function fo(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var i=0;i<n.length;i++){var o=n[i];Cn=o,s1(o,e)}i1(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:Ga(8,n,n.return),fo(n);break;case 22:i=n.stateNode,i._visibility&2&&(i._visibility&=-3,fo(n));break;default:fo(n)}e=e.sibling}}function s1(e,n){for(;Cn!==null;){var i=Cn;switch(i.tag){case 0:case 11:case 15:Ga(8,i,n);break;case 23:case 22:if(i.memoizedState!==null&&i.memoizedState.cachePool!==null){var o=i.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:Ml(i.memoizedState.cache)}if(o=i.child,o!==null)o.return=i,Cn=o;else e:for(i=e;Cn!==null;){o=Cn;var f=o.sibling,d=o.return;if(Kf(o),o===i){Cn=null;break e}if(f!==null){f.return=d,Cn=f;break e}Cn=d}}}var Pd={getCacheForType:function(e){var n=Rn(Vn),i=n.data.get(e);return i===void 0&&(i=e(),n.data.set(e,i)),i},cacheSignal:function(){return Rn(Vn).controller.signal}},Gd=typeof WeakMap=="function"?WeakMap:Map,vt=0,Ht=null,ot=null,dt=0,Ot=0,or=null,Xa=!1,al=!1,hc=!1,da=0,an=0,Ya=0,Ti=0,dc=0,ur=0,il=0,Jl=null,Wn=null,Vc=!1,ho=0,o1=0,Vo=1/0,go=null,Za=null,bn=0,qa=null,ll=null,Va=0,gc=0,xc=null,u1=null,$l=0,mc=null;function cr(){return(vt&2)!==0&&dt!==0?dt&-dt:$.T!==null?Ec():Mn()}function c1(){if(ur===0)if((dt&536870912)===0||gt){var e=ft;ft<<=1,(ft&3932160)===0&&(ft=262144),ur=e}else ur=536870912;return e=lr.current,e!==null&&(e.flags|=32),ur}function Kn(e,n,i){(e===Ht&&(Ot===2||Ot===9)||e.cancelPendingCommit!==null)&&(sl(e,0),Qa(e,dt,ur,!1)),Ur(e,i),((vt&2)===0||e!==Ht)&&(e===Ht&&((vt&2)===0&&(Ti|=i),an===4&&Qa(e,dt,ur,!1)),Zr(e))}function f1(e,n,i){if((vt&6)!==0)throw Error(p(327));var o=!i&&(n&127)===0&&(n&e.expiredLanes)===0||Sn(e,n),f=o?Zd(e,n):Ac(e,n,!0),d=o;do{if(f===0){al&&!o&&Qa(e,n,0,!1);break}else{if(i=e.current.alternate,d&&!Xd(i)){f=Ac(e,n,!1),d=!1;continue}if(f===2){if(d=n,e.errorRecoveryDisabledLanes&d)var E=0;else E=e.pendingLanes&-536870913,E=E!==0?E:E&536870912?536870912:0;if(E!==0){n=E;e:{var R=e;f=Jl;var F=R.current.memoizedState.isDehydrated;if(F&&(sl(R,E).flags|=256),E=Ac(R,E,!1),E!==2){if(hc&&!F){R.errorRecoveryDisabledLanes|=d,Ti|=d,f=4;break e}d=Wn,Wn=f,d!==null&&(Wn===null?Wn=d:Wn.push.apply(Wn,d))}f=E}if(d=!1,f!==2)continue}}if(f===1){sl(e,0),Qa(e,n,0,!0);break}e:{switch(o=e,d=f,d){case 0:case 1:throw Error(p(345));case 4:if((n&4194048)!==n)break;case 6:Qa(o,n,ur,!Xa);break e;case 2:Wn=null;break;case 3:case 5:break;default:throw Error(p(329))}if((n&62914560)===n&&(f=ho+300-Jt(),10<f)){if(Qa(o,n,ur,!Xa),ii(o,0,!0)!==0)break e;Va=n,o.timeoutHandle=H1(h1.bind(null,o,i,Wn,go,Vc,n,ur,Ti,il,Xa,d,"Throttled",-0,0),f);break e}h1(o,i,Wn,go,Vc,n,ur,Ti,il,Xa,d,null,-0,0)}}break}while(!0);Zr(e)}function h1(e,n,i,o,f,d,E,R,F,le,xe,Ae,oe,ge){if(e.timeoutHandle=-1,Ae=n.subtreeFlags,Ae&8192||(Ae&16785408)===16785408){Ae={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Gn},a1(n,d,Ae);var Le=(d&62914560)===d?ho-Jt():(d&4194048)===d?o1-Jt():0;if(Le=RV(Ae,Le),Le!==null){Va=d,e.cancelPendingCommit=Le(y1.bind(null,e,n,d,i,o,f,E,R,F,xe,Ae,null,oe,ge)),Qa(e,d,E,!le);return}}y1(e,n,d,i,o,f,E,R,F)}function Xd(e){for(var n=e;;){var i=n.tag;if((i===0||i===11||i===15)&&n.flags&16384&&(i=n.updateQueue,i!==null&&(i=i.stores,i!==null)))for(var o=0;o<i.length;o++){var f=i[o],d=f.getSnapshot;f=f.value;try{if(!u(d(),f))return!1}catch{return!1}}if(i=n.child,n.subtreeFlags&16384&&i!==null)i.return=n,n=i;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Qa(e,n,i,o){n&=~dc,n&=~Ti,e.suspendedLanes|=n,e.pingedLanes&=~n,o&&(e.warmLanes|=n),o=e.expirationTimes;for(var f=n;0<f;){var d=31-nt(f),E=1<<d;o[d]=-1,f&=~E}i!==0&&ys(e,i,n)}function xo(){return(vt&6)===0?(es(0),!1):!0}function pc(){if(ot!==null){if(Ot===0)var e=ot.return;else e=ot,ra=pi=null,Mu(e),Ki=null,Ll=0,e=ot;for(;e!==null;)Pf(e.alternate,e),e=e.return;ot=null}}function sl(e,n){var i=e.timeoutHandle;i!==-1&&(e.timeoutHandle=-1,fV(i)),i=e.cancelPendingCommit,i!==null&&(e.cancelPendingCommit=null,i()),Va=0,pc(),Ht=e,ot=i=ta(e.current,null),dt=n,Ot=0,or=null,Xa=!1,al=Sn(e,n),hc=!1,il=ur=dc=Ti=Ya=an=0,Wn=Jl=null,Vc=!1,(n&8)!==0&&(n|=n&32);var o=e.entangledLanes;if(o!==0)for(e=e.entanglements,o&=n;0<o;){var f=31-nt(o),d=1<<f;n|=e[f],o&=~d}return da=n,Ls(),i}function d1(e,n){tt=null,$.H=Gl,n===Wi||n===Gs?(n=N0(),Ot=3):n===bu?(n=N0(),Ot=4):Ot=n===Wu?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,or=n,ot===null&&(an=1,ao(e,pr(n,e.current)))}function V1(){var e=lr.current;return e===null?!0:(dt&4194048)===dt?br===null:(dt&62914560)===dt||(dt&536870912)!==0?e===br:!1}function g1(){var e=$.H;return $.H=Gl,e===null?Gl:e}function x1(){var e=$.A;return $.A=Pd,e}function mo(){an=4,Xa||(dt&4194048)!==dt&&lr.current!==null||(al=!0),(Ya&134217727)===0&&(Ti&134217727)===0||Ht===null||Qa(Ht,dt,ur,!1)}function Ac(e,n,i){var o=vt;vt|=2;var f=g1(),d=x1();(Ht!==e||dt!==n)&&(go=null,sl(e,n)),n=!1;var E=an;e:do try{if(Ot!==0&&ot!==null){var R=ot,F=or;switch(Ot){case 8:pc(),E=6;break e;case 3:case 2:case 9:case 6:lr.current===null&&(n=!0);var le=Ot;if(Ot=0,or=null,ol(e,R,F,le),i&&al){E=0;break e}break;default:le=Ot,Ot=0,or=null,ol(e,R,F,le)}}Yd(),E=an;break}catch(xe){d1(e,xe)}while(!0);return n&&e.shellSuspendCounter++,ra=pi=null,vt=o,$.H=f,$.A=d,ot===null&&(Ht=null,dt=0,Ls()),E}function Yd(){for(;ot!==null;)m1(ot)}function Zd(e,n){var i=vt;vt|=2;var o=g1(),f=x1();Ht!==e||dt!==n?(go=null,Vo=Jt()+500,sl(e,n)):al=Sn(e,n);e:do try{if(Ot!==0&&ot!==null){n=ot;var d=or;t:switch(Ot){case 1:Ot=0,or=null,ol(e,n,d,1);break;case 2:case 9:if(S0(d)){Ot=0,or=null,p1(n);break}n=function(){Ot!==2&&Ot!==9||Ht!==e||(Ot=7),Zr(e)},d.then(n,n);break e;case 3:Ot=7;break e;case 4:Ot=5;break e;case 7:S0(d)?(Ot=0,or=null,p1(n)):(Ot=0,or=null,ol(e,n,d,7));break;case 5:var E=null;switch(ot.tag){case 26:E=ot.memoizedState;case 5:case 27:var R=ot;if(E?rh(E):R.stateNode.complete){Ot=0,or=null;var F=R.sibling;if(F!==null)ot=F;else{var le=R.return;le!==null?(ot=le,po(le)):ot=null}break t}}Ot=0,or=null,ol(e,n,d,5);break;case 6:Ot=0,or=null,ol(e,n,d,6);break;case 8:pc(),an=6;break e;default:throw Error(p(462))}}qd();break}catch(xe){d1(e,xe)}while(!0);return ra=pi=null,$.H=o,$.A=f,vt=i,ot!==null?0:(Ht=null,dt=0,Ls(),an)}function qd(){for(;ot!==null&&!Ri();)m1(ot)}function m1(e){var n=jf(e.alternate,e,da);e.memoizedProps=e.pendingProps,n===null?po(e):ot=n}function p1(e){var n=e,i=n.alternate;switch(n.tag){case 15:case 0:n=Bf(i,n,n.pendingProps,n.type,void 0,dt);break;case 11:n=Bf(i,n,n.pendingProps,n.type.render,n.ref,dt);break;case 5:Mu(n);default:Pf(i,n),n=ot=g0(n,da),n=jf(i,n,da)}e.memoizedProps=e.pendingProps,n===null?po(e):ot=n}function ol(e,n,i,o){ra=pi=null,Mu(n),Ki=null,Ll=0;var f=n.return;try{if(Ld(e,f,n,i,dt)){an=1,ao(e,pr(i,e.current)),ot=null;return}}catch(d){if(f!==null)throw ot=f,d;an=1,ao(e,pr(i,e.current)),ot=null;return}n.flags&32768?(gt||o===1?e=!0:al||(dt&536870912)!==0?e=!1:(Xa=e=!0,(o===2||o===9||o===3||o===6)&&(o=lr.current,o!==null&&o.tag===13&&(o.flags|=16384))),A1(n,e)):po(n)}function po(e){var n=e;do{if((n.flags&32768)!==0){A1(n,Xa);return}e=n.return;var i=Fd(n.alternate,n,da);if(i!==null){ot=i;return}if(n=n.sibling,n!==null){ot=n;return}ot=n=e}while(n!==null);an===0&&(an=5)}function A1(e,n){do{var i=zd(e.alternate,e);if(i!==null){i.flags&=32767,ot=i;return}if(i=e.return,i!==null&&(i.flags|=32768,i.subtreeFlags=0,i.deletions=null),!n&&(e=e.sibling,e!==null)){ot=e;return}ot=e=i}while(e!==null);an=6,ot=null}function y1(e,n,i,o,f,d,E,R,F){e.cancelPendingCommit=null;do Ao();while(bn!==0);if((vt&6)!==0)throw Error(p(327));if(n!==null){if(n===e.current)throw Error(p(177));if(d=n.lanes|n.childLanes,d|=su,dr(e,i,d,E,R,F),e===Ht&&(ot=Ht=null,dt=0),ll=n,qa=e,Va=i,gc=d,xc=f,u1=o,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,Jd(Jn,function(){return v1(),null})):(e.callbackNode=null,e.callbackPriority=0),o=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||o){o=$.T,$.T=null,f=Ve.p,Ve.p=2,E=vt,vt|=4;try{jd(e,n,i)}finally{vt=E,Ve.p=f,$.T=o}}bn=1,w1(),b1(),E1()}}function w1(){if(bn===1){bn=0;var e=qa,n=ll,i=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||i){i=$.T,$.T=null;var o=Ve.p;Ve.p=2;var f=vt;vt|=4;try{t1(n,e);var d=_c,E=v(e.containerInfo),R=d.focusedElem,F=d.selectionRange;if(E!==R&&R&&R.ownerDocument&&w(R.ownerDocument.documentElement,R)){if(F!==null&&T(R)){var le=F.start,xe=F.end;if(xe===void 0&&(xe=le),"selectionStart"in R)R.selectionStart=le,R.selectionEnd=Math.min(xe,R.value.length);else{var Ae=R.ownerDocument||document,oe=Ae&&Ae.defaultView||window;if(oe.getSelection){var ge=oe.getSelection(),Le=R.textContent.length,Ye=Math.min(F.start,Le),Ut=F.end===void 0?Ye:Math.min(F.end,Le);!ge.extend&&Ye>Ut&&(E=Ut,Ut=Ye,Ye=E);var q=x(R,Ye),P=x(R,Ut);if(q&&P&&(ge.rangeCount!==1||ge.anchorNode!==q.node||ge.anchorOffset!==q.offset||ge.focusNode!==P.node||ge.focusOffset!==P.offset)){var re=Ae.createRange();re.setStart(q.node,q.offset),ge.removeAllRanges(),Ye>Ut?(ge.addRange(re),ge.extend(P.node,P.offset)):(re.setEnd(P.node,P.offset),ge.addRange(re))}}}}for(Ae=[],ge=R;ge=ge.parentNode;)ge.nodeType===1&&Ae.push({element:ge,left:ge.scrollLeft,top:ge.scrollTop});for(typeof R.focus=="function"&&R.focus(),R=0;R<Ae.length;R++){var pe=Ae[R];pe.element.scrollLeft=pe.left,pe.element.scrollTop=pe.top}}_o=!!Oc,_c=Oc=null}finally{vt=f,Ve.p=o,$.T=i}}e.current=n,bn=2}}function b1(){if(bn===2){bn=0;var e=qa,n=ll,i=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||i){i=$.T,$.T=null;var o=Ve.p;Ve.p=2;var f=vt;vt|=4;try{Wf(e,n.alternate,n)}finally{vt=f,Ve.p=o,$.T=i}}bn=3}}function E1(){if(bn===4||bn===3){bn=0,As();var e=qa,n=ll,i=Va,o=u1;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?bn=5:(bn=0,ll=qa=null,C1(e,e.pendingLanes));var f=e.pendingLanes;if(f===0&&(Za=null),Sr(i),n=n.stateNode,Ne&&typeof Ne.onCommitFiberRoot=="function")try{Ne.onCommitFiberRoot(Pt,n,void 0,(n.current.flags&128)===128)}catch{}if(o!==null){n=$.T,f=Ve.p,Ve.p=2,$.T=null;try{for(var d=e.onRecoverableError,E=0;E<o.length;E++){var R=o[E];d(R.value,{componentStack:R.stack})}}finally{$.T=n,Ve.p=f}}(Va&3)!==0&&Ao(),Zr(e),f=e.pendingLanes,(i&261930)!==0&&(f&42)!==0?e===mc?$l++:($l=0,mc=e):$l=0,es(0)}}function C1(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,Ml(n)))}function Ao(){return w1(),b1(),E1(),v1()}function v1(){if(bn!==5)return!1;var e=qa,n=gc;gc=0;var i=Sr(Va),o=$.T,f=Ve.p;try{Ve.p=32>i?32:i,$.T=null,i=xc,xc=null;var d=qa,E=Va;if(bn=0,ll=qa=null,Va=0,(vt&6)!==0)throw Error(p(331));var R=vt;if(vt|=4,l1(d.current),r1(d,d.current,E,i),vt=R,es(0,!1),Ne&&typeof Ne.onPostCommitFiberRoot=="function")try{Ne.onPostCommitFiberRoot(Pt,d)}catch{}return!0}finally{Ve.p=f,$.T=o,C1(e,n)}}function S1(e,n,i){n=pr(i,n),n=Qu(e.stateNode,n,2),e=ja(e,n,2),e!==null&&(Ur(e,2),Zr(e))}function _t(e,n,i){if(e.tag===3)S1(e,e,i);else for(;n!==null;){if(n.tag===3){S1(n,e,i);break}else if(n.tag===1){var o=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(Za===null||!Za.has(o))){e=pr(i,e),i=Tf(2),o=ja(n,i,2),o!==null&&(Nf(i,o,n,e),Ur(o,2),Zr(o));break}}n=n.return}}function yc(e,n,i){var o=e.pingCache;if(o===null){o=e.pingCache=new Gd;var f=new Set;o.set(n,f)}else f=o.get(n),f===void 0&&(f=new Set,o.set(n,f));f.has(i)||(hc=!0,f.add(i),e=Qd.bind(null,e,n,i),n.then(e,e))}function Qd(e,n,i){var o=e.pingCache;o!==null&&o.delete(n),e.pingedLanes|=e.suspendedLanes&i,e.warmLanes&=~i,Ht===e&&(dt&i)===i&&(an===4||an===3&&(dt&62914560)===dt&&300>Jt()-ho?(vt&2)===0&&sl(e,0):dc|=i,il===dt&&(il=0)),Zr(e)}function T1(e,n){n===0&&(n=pn()),e=gi(e,n),e!==null&&(Ur(e,n),Zr(e))}function Wd(e){var n=e.memoizedState,i=0;n!==null&&(i=n.retryLane),T1(e,i)}function Kd(e,n){var i=0;switch(e.tag){case 31:case 13:var o=e.stateNode,f=e.memoizedState;f!==null&&(i=f.retryLane);break;case 19:o=e.stateNode;break;case 22:o=e.stateNode._retryCache;break;default:throw Error(p(314))}o!==null&&o.delete(n),T1(e,i)}function Jd(e,n){return In(e,n)}var yo=null,ul=null,wc=!1,wo=!1,bc=!1,Wa=0;function Zr(e){e!==ul&&e.next===null&&(ul===null?yo=ul=e:ul=ul.next=e),wo=!0,wc||(wc=!0,eV())}function es(e,n){if(!bc&&wo){bc=!0;do for(var i=!1,o=yo;o!==null;){if(e!==0){var f=o.pendingLanes;if(f===0)var d=0;else{var E=o.suspendedLanes,R=o.pingedLanes;d=(1<<31-nt(42|e)+1)-1,d&=f&~(E&~R),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(i=!0,_1(o,d))}else d=dt,d=ii(o,o===Ht?d:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(d&3)===0||Sn(o,d)||(i=!0,_1(o,d));o=o.next}while(i);bc=!1}}function $d(){N1()}function N1(){wo=wc=!1;var e=0;Wa!==0&&cV()&&(e=Wa);for(var n=Jt(),i=null,o=yo;o!==null;){var f=o.next,d=R1(o,n);d===0?(o.next=null,i===null?yo=f:i.next=f,f===null&&(ul=i)):(i=o,(e!==0||(d&3)!==0)&&(wo=!0)),o=f}bn!==0&&bn!==5||es(e),Wa!==0&&(Wa=0)}function R1(e,n){for(var i=e.suspendedLanes,o=e.pingedLanes,f=e.expirationTimes,d=e.pendingLanes&-62914561;0<d;){var E=31-nt(d),R=1<<E,F=f[E];F===-1?((R&i)===0||(R&o)!==0)&&(f[E]=wl(R,n)):F<=n&&(e.expiredLanes|=R),d&=~R}if(n=Ht,i=dt,i=ii(e,e===n?i:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o=e.callbackNode,i===0||e===n&&(Ot===2||Ot===9)||e.cancelPendingCommit!==null)return o!==null&&o!==null&&Be(o),e.callbackNode=null,e.callbackPriority=0;if((i&3)===0||Sn(e,i)){if(n=i&-i,n===e.callbackPriority)return n;switch(o!==null&&Be(o),Sr(i)){case 2:case 8:i=pl;break;case 32:i=Jn;break;case 268435456:i=Al;break;default:i=Jn}return o=O1.bind(null,e),i=In(i,o),e.callbackPriority=n,e.callbackNode=i,n}return o!==null&&o!==null&&Be(o),e.callbackPriority=2,e.callbackNode=null,2}function O1(e,n){if(bn!==0&&bn!==5)return e.callbackNode=null,e.callbackPriority=0,null;var i=e.callbackNode;if(Ao()&&e.callbackNode!==i)return null;var o=dt;return o=ii(e,e===Ht?o:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o===0?null:(f1(e,o,n),R1(e,Jt()),e.callbackNode!=null&&e.callbackNode===i?O1.bind(null,e):null)}function _1(e,n){if(Ao())return null;f1(e,n,!0)}function eV(){hV(function(){(vt&6)!==0?In(Hn,$d):N1()})}function Ec(){if(Wa===0){var e=qi;e===0&&(e=ai,ai<<=1,(ai&261888)===0&&(ai=256)),Wa=e}return Wa}function I1(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Ta(""+e)}function D1(e,n){var i=n.ownerDocument.createElement("input");return i.name=n.name,i.value=n.value,e.id&&i.setAttribute("form",e.id),n.parentNode.insertBefore(i,n),e=new FormData(e),i.parentNode.removeChild(i),e}function tV(e,n,i,o,f){if(n==="submit"&&i&&i.stateNode===f){var d=I1((f[Rt]||null).action),E=o.submitter;E&&(n=(n=E[Rt]||null)?I1(n.formAction):E.getAttribute("formAction"),n!==null&&(d=n,E=null));var R=new An("action","action",null,o,f);e.push({event:R,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(Wa!==0){var F=E?D1(f,E):new FormData(f);Pu(i,{pending:!0,data:F,method:f.method,action:d},null,F)}}else typeof d=="function"&&(R.preventDefault(),F=E?D1(f,E):new FormData(f),Pu(i,{pending:!0,data:F,method:f.method,action:d},d,F))},currentTarget:f}]})}}for(var Cc=0;Cc<_l.length;Cc++){var vc=_l[Cc],nV=vc.toLowerCase(),rV=vc[0].toUpperCase()+vc.slice(1);Ir(nV,"on"+rV)}Ir(Yn,"onAnimationEnd"),Ir(Tn,"onAnimationIteration"),Ir(Nt,"onAnimationStart"),Ir("dblclick","onDoubleClick"),Ir("focusin","onFocus"),Ir("focusout","onBlur"),Ir(wn,"onTransitionRun"),Ir(Fn,"onTransitionStart"),Ir(Ma,"onTransitionCancel"),Ir(ea,"onTransitionEnd"),er("onMouseEnter",["mouseout","mouseover"]),er("onMouseLeave",["mouseout","mouseover"]),er("onPointerEnter",["pointerout","pointerover"]),er("onPointerLeave",["pointerout","pointerover"]),St("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),St("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),St("onBeforeInput",["compositionend","keypress","textInput","paste"]),St("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),St("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),St("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ts="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),aV=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ts));function M1(e,n){n=(n&4)!==0;for(var i=0;i<e.length;i++){var o=e[i],f=o.event;o=o.listeners;e:{var d=void 0;if(n)for(var E=o.length-1;0<=E;E--){var R=o[E],F=R.instance,le=R.currentTarget;if(R=R.listener,F!==d&&f.isPropagationStopped())break e;d=R,f.currentTarget=le;try{d(f)}catch(xe){Bs(xe)}f.currentTarget=null,d=F}else for(E=0;E<o.length;E++){if(R=o[E],F=R.instance,le=R.currentTarget,R=R.listener,F!==d&&f.isPropagationStopped())break e;d=R,f.currentTarget=le;try{d(f)}catch(xe){Bs(xe)}f.currentTarget=null,d=F}}}}function ut(e,n){var i=n[wa];i===void 0&&(i=n[wa]=new Set);var o=e+"__bubble";i.has(o)||(B1(n,e,2,!1),i.add(o))}function Sc(e,n,i){var o=0;n&&(o|=4),B1(i,e,o,n)}var bo="_reactListening"+Math.random().toString(36).slice(2);function Tc(e){if(!e[bo]){e[bo]=!0,ye.forEach(function(i){i!=="selectionchange"&&(aV.has(i)||Sc(i,!1,e),Sc(i,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[bo]||(n[bo]=!0,Sc("selectionchange",!1,n))}}function B1(e,n,i,o){switch(ch(n)){case 2:var f=IV;break;case 8:f=DV;break;default:f=Hc}i=f.bind(null,n,i,e),f=void 0,!Cl||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(f=!0),o?f!==void 0?e.addEventListener(n,i,{capture:!0,passive:f}):e.addEventListener(n,i,!0):f!==void 0?e.addEventListener(n,i,{passive:f}):e.addEventListener(n,i,!1)}function Nc(e,n,i,o,f){var d=o;if((n&1)===0&&(n&2)===0&&o!==null)e:for(;;){if(o===null)return;var E=o.tag;if(E===3||E===4){var R=o.stateNode.containerInfo;if(R===f)break;if(E===4)for(E=o.return;E!==null;){var F=E.tag;if((F===3||F===4)&&E.stateNode.containerInfo===f)return;E=E.return}for(;R!==null;){if(E=en(R),E===null)return;if(F=E.tag,F===5||F===6||F===26||F===27){o=d=E;continue e}R=R.parentNode}}o=o.return}Cs(function(){var le=d,xe=El(i),Ae=[];e:{var oe=Ms.get(e);if(oe!==void 0){var ge=An,Le=e;switch(e){case"keypress":if(zr(i)===0)break e;case"keydown":case"keyup":ge=Fi;break;case"focusin":Le="focus",ge=Tl;break;case"focusout":Le="blur",ge=Tl;break;case"beforeblur":case"afterblur":ge=Tl;break;case"click":if(i.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ge=Ct;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ge=ki;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ge=au;break;case Yn:case Tn:case Nt:ge=rt;break;case ea:ge=Wr;break;case"scroll":case"scrollend":ge=vs;break;case"wheel":ge=iu;break;case"copy":case"cut":case"paste":ge=Ui;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ge=Tt;break;case"toggle":case"beforetoggle":ge=Rl}var Ye=(n&4)!==0,Ut=!Ye&&(e==="scroll"||e==="scrollend"),q=Ye?oe!==null?oe+"Capture":null:oe;Ye=[];for(var P=le,re;P!==null;){var pe=P;if(re=pe.stateNode,pe=pe.tag,pe!==5&&pe!==26&&pe!==27||re===null||q===null||(pe=Ke(P,q),pe!=null&&Ye.push(ns(P,pe,re))),Ut)break;P=P.return}0<Ye.length&&(oe=new ge(oe,Le,null,i,xe),Ae.push({event:oe,listeners:Ye}))}}if((n&7)===0){e:{if(oe=e==="mouseover"||e==="pointerover",ge=e==="mouseout"||e==="pointerout",oe&&i!==si&&(Le=i.relatedTarget||i.fromElement)&&(en(Le)||Le[$n]))break e;if((ge||oe)&&(oe=xe.window===xe?xe:(oe=xe.ownerDocument)?oe.defaultView||oe.parentWindow:window,ge?(Le=i.relatedTarget||i.toElement,ge=le,Le=Le?en(Le):null,Le!==null&&(Ut=A(Le),Ye=Le.tag,Le!==Ut||Ye!==5&&Ye!==27&&Ye!==6)&&(Le=null)):(ge=null,Le=le),ge!==Le)){if(Ye=Ct,pe="onMouseLeave",q="onMouseEnter",P="mouse",(e==="pointerout"||e==="pointerover")&&(Ye=Tt,pe="onPointerLeave",q="onPointerEnter",P="pointer"),Ut=ge==null?oe:ba(ge),re=Le==null?oe:ba(Le),oe=new Ye(pe,P+"leave",ge,i,xe),oe.target=Ut,oe.relatedTarget=re,pe=null,en(xe)===le&&(Ye=new Ye(q,P+"enter",Le,i,xe),Ye.target=re,Ye.relatedTarget=Ut,pe=Ye),Ut=pe,ge&&Le)t:{for(Ye=iV,q=ge,P=Le,re=0,pe=q;pe;pe=Ye(pe))re++;pe=0;for(var Pe=P;Pe;Pe=Ye(Pe))pe++;for(;0<re-pe;)q=Ye(q),re--;for(;0<pe-re;)P=Ye(P),pe--;for(;re--;){if(q===P||P!==null&&q===P.alternate){Ye=q;break t}q=Ye(q),P=Ye(P)}Ye=null}else Ye=null;ge!==null&&L1(Ae,oe,ge,Ye,!1),Le!==null&&Ut!==null&&L1(Ae,Ut,Le,Ye,!0)}}e:{if(oe=le?ba(le):window,ge=oe.nodeName&&oe.nodeName.toLowerCase(),ge==="select"||ge==="input"&&oe.type==="file")var wt=ar;else if(Ol(oe))if(Ds)wt=l;else{wt=r;var Fe=t}else ge=oe.nodeName,!ge||ge.toLowerCase()!=="input"||oe.type!=="checkbox"&&oe.type!=="radio"?le&&Ft(le.elementType)&&(wt=ar):wt=a;if(wt&&(wt=wt(e,le))){rr(Ae,wt,i,xe);break e}Fe&&Fe(e,oe,le),e==="focusout"&&le&&oe.type==="number"&&le.memoizedProps.value!=null&&M(oe,"number",oe.value)}switch(Fe=le?ba(le):window,e){case"focusin":(Ol(Fe)||Fe.contentEditable==="true")&&(j=Fe,H=le,K=null);break;case"focusout":K=H=j=null;break;case"mousedown":fe=!0;break;case"contextmenu":case"mouseup":case"dragend":fe=!1,Te(Ae,i,xe);break;case"selectionchange":if(B)break;case"keydown":case"keyup":Te(Ae,i,xe)}var at;if(ci)e:{switch(e){case"compositionstart":var Vt="onCompositionStart";break e;case"compositionend":Vt="onCompositionEnd";break e;case"compositionupdate":Vt="onCompositionUpdate";break e}Vt=void 0}else Da?Is(e,i)&&(Vt="onCompositionEnd"):e==="keydown"&&i.keyCode===229&&(Vt="onCompositionStart");Vt&&(_s&&i.locale!=="ko"&&(Da||Vt!=="onCompositionStart"?Vt==="onCompositionEnd"&&Da&&(at=Na()):(Or=xe,_r="value"in Or?Or.value:Or.textContent,Da=!0)),Fe=Eo(le,Vt),0<Fe.length&&(Vt=new Ns(Vt,e,null,i,xe),Ae.push({event:Vt,listeners:Fe}),at?Vt.data=at:(at=Ia(i),at!==null&&(Vt.data=at)))),(at=Os?Pr(e,i):ji(e,i))&&(Vt=Eo(le,"onBeforeInput"),0<Vt.length&&(Fe=new Ns("onBeforeInput","beforeinput",null,i,xe),Ae.push({event:Fe,listeners:Vt}),Fe.data=at)),tV(Ae,e,le,i,xe)}M1(Ae,n)})}function ns(e,n,i){return{instance:e,listener:n,currentTarget:i}}function Eo(e,n){for(var i=n+"Capture",o=[];e!==null;){var f=e,d=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||d===null||(f=Ke(e,i),f!=null&&o.unshift(ns(e,f,d)),f=Ke(e,n),f!=null&&o.push(ns(e,f,d))),e.tag===3)return o;e=e.return}return[]}function iV(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function L1(e,n,i,o,f){for(var d=n._reactName,E=[];i!==null&&i!==o;){var R=i,F=R.alternate,le=R.stateNode;if(R=R.tag,F!==null&&F===o)break;R!==5&&R!==26&&R!==27||le===null||(F=le,f?(le=Ke(i,d),le!=null&&E.unshift(ns(i,le,F))):f||(le=Ke(i,d),le!=null&&E.push(ns(i,le,F)))),i=i.return}E.length!==0&&e.push({event:n,listeners:E})}var lV=/\r\n?/g,sV=/\u0000|\uFFFD/g;function k1(e){return(typeof e=="string"?e:""+e).replace(lV,`
`).replace(sV,"")}function U1(e,n){return n=k1(n),k1(e)===n}function kt(e,n,i,o,f,d){switch(i){case"children":typeof o=="string"?n==="body"||n==="textarea"&&o===""||Sa(e,o):(typeof o=="number"||typeof o=="bigint")&&n!=="body"&&Sa(e,""+o);break;case"className":Ca(e,"class",o);break;case"tabIndex":Ca(e,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":Ca(e,i,o);break;case"style":He(e,o,d);break;case"data":if(n!=="object"){Ca(e,"data",o);break}case"src":case"href":if(o===""&&(n!=="a"||i!=="href")){e.removeAttribute(i);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(i);break}o=Ta(""+o),e.setAttribute(i,o);break;case"action":case"formAction":if(typeof o=="function"){e.setAttribute(i,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(i==="formAction"?(n!=="input"&&kt(e,n,"name",f.name,f,null),kt(e,n,"formEncType",f.formEncType,f,null),kt(e,n,"formMethod",f.formMethod,f,null),kt(e,n,"formTarget",f.formTarget,f,null)):(kt(e,n,"encType",f.encType,f,null),kt(e,n,"method",f.method,f,null),kt(e,n,"target",f.target,f,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(i);break}o=Ta(""+o),e.setAttribute(i,o);break;case"onClick":o!=null&&(e.onclick=Gn);break;case"onScroll":o!=null&&ut("scroll",e);break;case"onScrollEnd":o!=null&&ut("scrollend",e);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(p(61));if(i=o.__html,i!=null){if(f.children!=null)throw Error(p(60));e.innerHTML=i}}break;case"multiple":e.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":e.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){e.removeAttribute("xlink:href");break}i=Ta(""+o),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",i);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(i,""+o):e.removeAttribute(i);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(i,""):e.removeAttribute(i);break;case"capture":case"download":o===!0?e.setAttribute(i,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(i,o):e.removeAttribute(i);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?e.setAttribute(i,o):e.removeAttribute(i);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?e.removeAttribute(i):e.setAttribute(i,o);break;case"popover":ut("beforetoggle",e),ut("toggle",e),Ea(e,"popover",o);break;case"xlinkActuate":tr(e,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":tr(e,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":tr(e,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":tr(e,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":tr(e,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":tr(e,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":tr(e,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":tr(e,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":tr(e,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":Ea(e,"is",o);break;case"innerText":case"textContent":break;default:(!(2<i.length)||i[0]!=="o"&&i[0]!=="O"||i[1]!=="n"&&i[1]!=="N")&&(i=Es.get(i)||i,Ea(e,i,o))}}function Rc(e,n,i,o,f,d){switch(i){case"style":He(e,o,d);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(p(61));if(i=o.__html,i!=null){if(f.children!=null)throw Error(p(60));e.innerHTML=i}}break;case"children":typeof o=="string"?Sa(e,o):(typeof o=="number"||typeof o=="bigint")&&Sa(e,""+o);break;case"onScroll":o!=null&&ut("scroll",e);break;case"onScrollEnd":o!=null&&ut("scrollend",e);break;case"onClick":o!=null&&(e.onclick=Gn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!bs.hasOwnProperty(i))e:{if(i[0]==="o"&&i[1]==="n"&&(f=i.endsWith("Capture"),n=i.slice(2,f?i.length-7:void 0),d=e[Rt]||null,d=d!=null?d[i]:null,typeof d=="function"&&e.removeEventListener(n,d,f),typeof o=="function")){typeof d!="function"&&d!==null&&(i in e?e[i]=null:e.hasAttribute(i)&&e.removeAttribute(i)),e.addEventListener(n,o,f);break e}i in e?e[i]=o:o===!0?e.setAttribute(i,""):Ea(e,i,o)}}}function _n(e,n,i){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ut("error",e),ut("load",e);var o=!1,f=!1,d;for(d in i)if(i.hasOwnProperty(d)){var E=i[d];if(E!=null)switch(d){case"src":o=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(p(137,n));default:kt(e,n,d,E,i,null)}}f&&kt(e,n,"srcSet",i.srcSet,i,null),o&&kt(e,n,"src",i.src,i,null);return;case"input":ut("invalid",e);var R=d=E=f=null,F=null,le=null;for(o in i)if(i.hasOwnProperty(o)){var xe=i[o];if(xe!=null)switch(o){case"name":f=xe;break;case"type":E=xe;break;case"checked":F=xe;break;case"defaultChecked":le=xe;break;case"value":d=xe;break;case"defaultValue":R=xe;break;case"children":case"dangerouslySetInnerHTML":if(xe!=null)throw Error(p(137,n));break;default:kt(e,n,o,xe,i,null)}}ee(e,d,R,F,le,E,f,!1);return;case"select":ut("invalid",e),o=E=d=null;for(f in i)if(i.hasOwnProperty(f)&&(R=i[f],R!=null))switch(f){case"value":d=R;break;case"defaultValue":E=R;break;case"multiple":o=R;default:kt(e,n,f,R,i,null)}n=d,i=E,e.multiple=!!o,n!=null?ke(e,!!o,n,!1):i!=null&&ke(e,!!o,i,!0);return;case"textarea":ut("invalid",e),d=f=o=null;for(E in i)if(i.hasOwnProperty(E)&&(R=i[E],R!=null))switch(E){case"value":o=R;break;case"defaultValue":f=R;break;case"children":d=R;break;case"dangerouslySetInnerHTML":if(R!=null)throw Error(p(91));break;default:kt(e,n,E,R,i,null)}kn(e,o,f,d);return;case"option":for(F in i)i.hasOwnProperty(F)&&(o=i[F],o!=null)&&(F==="selected"?e.selected=o&&typeof o!="function"&&typeof o!="symbol":kt(e,n,F,o,i,null));return;case"dialog":ut("beforetoggle",e),ut("toggle",e),ut("cancel",e),ut("close",e);break;case"iframe":case"object":ut("load",e);break;case"video":case"audio":for(o=0;o<ts.length;o++)ut(ts[o],e);break;case"image":ut("error",e),ut("load",e);break;case"details":ut("toggle",e);break;case"embed":case"source":case"link":ut("error",e),ut("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(le in i)if(i.hasOwnProperty(le)&&(o=i[le],o!=null))switch(le){case"children":case"dangerouslySetInnerHTML":throw Error(p(137,n));default:kt(e,n,le,o,i,null)}return;default:if(Ft(n)){for(xe in i)i.hasOwnProperty(xe)&&(o=i[xe],o!==void 0&&Rc(e,n,xe,o,i,void 0));return}}for(R in i)i.hasOwnProperty(R)&&(o=i[R],o!=null&&kt(e,n,R,o,i,null))}function oV(e,n,i,o){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,d=null,E=null,R=null,F=null,le=null,xe=null;for(ge in i){var Ae=i[ge];if(i.hasOwnProperty(ge)&&Ae!=null)switch(ge){case"checked":break;case"value":break;case"defaultValue":F=Ae;default:o.hasOwnProperty(ge)||kt(e,n,ge,null,o,Ae)}}for(var oe in o){var ge=o[oe];if(Ae=i[oe],o.hasOwnProperty(oe)&&(ge!=null||Ae!=null))switch(oe){case"type":d=ge;break;case"name":f=ge;break;case"checked":le=ge;break;case"defaultChecked":xe=ge;break;case"value":E=ge;break;case"defaultValue":R=ge;break;case"children":case"dangerouslySetInnerHTML":if(ge!=null)throw Error(p(137,n));break;default:ge!==Ae&&kt(e,n,oe,ge,o,Ae)}}hn(e,E,R,F,le,xe,d,f);return;case"select":ge=E=R=oe=null;for(d in i)if(F=i[d],i.hasOwnProperty(d)&&F!=null)switch(d){case"value":break;case"multiple":ge=F;default:o.hasOwnProperty(d)||kt(e,n,d,null,o,F)}for(f in o)if(d=o[f],F=i[f],o.hasOwnProperty(f)&&(d!=null||F!=null))switch(f){case"value":oe=d;break;case"defaultValue":R=d;break;case"multiple":E=d;default:d!==F&&kt(e,n,f,d,o,F)}n=R,i=E,o=ge,oe!=null?ke(e,!!i,oe,!1):!!o!=!!i&&(n!=null?ke(e,!!i,n,!0):ke(e,!!i,i?[]:"",!1));return;case"textarea":ge=oe=null;for(R in i)if(f=i[R],i.hasOwnProperty(R)&&f!=null&&!o.hasOwnProperty(R))switch(R){case"value":break;case"children":break;default:kt(e,n,R,null,o,f)}for(E in o)if(f=o[E],d=i[E],o.hasOwnProperty(E)&&(f!=null||d!=null))switch(E){case"value":oe=f;break;case"defaultValue":ge=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(p(91));break;default:f!==d&&kt(e,n,E,f,o,d)}on(e,oe,ge);return;case"option":for(var Le in i)oe=i[Le],i.hasOwnProperty(Le)&&oe!=null&&!o.hasOwnProperty(Le)&&(Le==="selected"?e.selected=!1:kt(e,n,Le,null,o,oe));for(F in o)oe=o[F],ge=i[F],o.hasOwnProperty(F)&&oe!==ge&&(oe!=null||ge!=null)&&(F==="selected"?e.selected=oe&&typeof oe!="function"&&typeof oe!="symbol":kt(e,n,F,oe,o,ge));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ye in i)oe=i[Ye],i.hasOwnProperty(Ye)&&oe!=null&&!o.hasOwnProperty(Ye)&&kt(e,n,Ye,null,o,oe);for(le in o)if(oe=o[le],ge=i[le],o.hasOwnProperty(le)&&oe!==ge&&(oe!=null||ge!=null))switch(le){case"children":case"dangerouslySetInnerHTML":if(oe!=null)throw Error(p(137,n));break;default:kt(e,n,le,oe,o,ge)}return;default:if(Ft(n)){for(var Ut in i)oe=i[Ut],i.hasOwnProperty(Ut)&&oe!==void 0&&!o.hasOwnProperty(Ut)&&Rc(e,n,Ut,void 0,o,oe);for(xe in o)oe=o[xe],ge=i[xe],!o.hasOwnProperty(xe)||oe===ge||oe===void 0&&ge===void 0||Rc(e,n,xe,oe,o,ge);return}}for(var q in i)oe=i[q],i.hasOwnProperty(q)&&oe!=null&&!o.hasOwnProperty(q)&&kt(e,n,q,null,o,oe);for(Ae in o)oe=o[Ae],ge=i[Ae],!o.hasOwnProperty(Ae)||oe===ge||oe==null&&ge==null||kt(e,n,Ae,oe,o,ge)}function F1(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function uV(){if(typeof performance.getEntriesByType=="function"){for(var e=0,n=0,i=performance.getEntriesByType("resource"),o=0;o<i.length;o++){var f=i[o],d=f.transferSize,E=f.initiatorType,R=f.duration;if(d&&R&&F1(E)){for(E=0,R=f.responseEnd,o+=1;o<i.length;o++){var F=i[o],le=F.startTime;if(le>R)break;var xe=F.transferSize,Ae=F.initiatorType;xe&&F1(Ae)&&(F=F.responseEnd,E+=xe*(F<R?1:(R-le)/(F-le)))}if(--o,n+=8*(d+E)/(f.duration/1e3),e++,10<e)break}}if(0<e)return n/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var Oc=null,_c=null;function Co(e){return e.nodeType===9?e:e.ownerDocument}function z1(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function j1(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function Ic(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Dc=null;function cV(){var e=window.event;return e&&e.type==="popstate"?e===Dc?!1:(Dc=e,!0):(Dc=null,!1)}var H1=typeof setTimeout=="function"?setTimeout:void 0,fV=typeof clearTimeout=="function"?clearTimeout:void 0,P1=typeof Promise=="function"?Promise:void 0,hV=typeof queueMicrotask=="function"?queueMicrotask:typeof P1<"u"?function(e){return P1.resolve(null).then(e).catch(dV)}:H1;function dV(e){setTimeout(function(){throw e})}function Ka(e){return e==="head"}function G1(e,n){var i=n,o=0;do{var f=i.nextSibling;if(e.removeChild(i),f&&f.nodeType===8)if(i=f.data,i==="/$"||i==="/&"){if(o===0){e.removeChild(f),dl(n);return}o--}else if(i==="$"||i==="$?"||i==="$~"||i==="$!"||i==="&")o++;else if(i==="html")rs(e.ownerDocument.documentElement);else if(i==="head"){i=e.ownerDocument.head,rs(i);for(var d=i.firstChild;d;){var E=d.nextSibling,R=d.nodeName;d[li]||R==="SCRIPT"||R==="STYLE"||R==="LINK"&&d.rel.toLowerCase()==="stylesheet"||i.removeChild(d),d=E}}else i==="body"&&rs(e.ownerDocument.body);i=f}while(i);dl(n)}function X1(e,n){var i=e;e=0;do{var o=i.nextSibling;if(i.nodeType===1?n?(i._stashedDisplay=i.style.display,i.style.display="none"):(i.style.display=i._stashedDisplay||"",i.getAttribute("style")===""&&i.removeAttribute("style")):i.nodeType===3&&(n?(i._stashedText=i.nodeValue,i.nodeValue=""):i.nodeValue=i._stashedText||""),o&&o.nodeType===8)if(i=o.data,i==="/$"){if(e===0)break;e--}else i!=="$"&&i!=="$?"&&i!=="$~"&&i!=="$!"||e++;i=o}while(i)}function Mc(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var i=n;switch(n=n.nextSibling,i.nodeName){case"HTML":case"HEAD":case"BODY":Mc(i),Pn(i);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(i.rel.toLowerCase()==="stylesheet")continue}e.removeChild(i)}}function VV(e,n,i,o){for(;e.nodeType===1;){var f=i;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!o&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(o){if(!e[li])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(d=e.getAttribute("rel"),d==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(d!==f.rel||e.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||e.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||e.getAttribute("title")!==(f.title==null?null:f.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(d=e.getAttribute("src"),(d!==(f.src==null?null:f.src)||e.getAttribute("type")!==(f.type==null?null:f.type)||e.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&d&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var d=f.name==null?null:""+f.name;if(f.type==="hidden"&&e.getAttribute("name")===d)return e}else return e;if(e=Er(e.nextSibling),e===null)break}return null}function gV(e,n,i){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!i||(e=Er(e.nextSibling),e===null))return null;return e}function Y1(e,n){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=Er(e.nextSibling),e===null))return null;return e}function Bc(e){return e.data==="$?"||e.data==="$~"}function Lc(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function xV(e,n){var i=e.ownerDocument;if(e.data==="$~")e._reactRetry=n;else if(e.data!=="$?"||i.readyState!=="loading")n();else{var o=function(){n(),i.removeEventListener("DOMContentLoaded",o)};i.addEventListener("DOMContentLoaded",o),e._reactRetry=o}}function Er(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return e}var kc=null;function Z1(e){e=e.nextSibling;for(var n=0;e;){if(e.nodeType===8){var i=e.data;if(i==="/$"||i==="/&"){if(n===0)return Er(e.nextSibling);n--}else i!=="$"&&i!=="$!"&&i!=="$?"&&i!=="$~"&&i!=="&"||n++}e=e.nextSibling}return null}function q1(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var i=e.data;if(i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"){if(n===0)return e;n--}else i!=="/$"&&i!=="/&"||n++}e=e.previousSibling}return null}function Q1(e,n,i){switch(n=Co(i),e){case"html":if(e=n.documentElement,!e)throw Error(p(452));return e;case"head":if(e=n.head,!e)throw Error(p(453));return e;case"body":if(e=n.body,!e)throw Error(p(454));return e;default:throw Error(p(451))}}function rs(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);Pn(e)}var Cr=new Map,W1=new Set;function vo(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var ga=Ve.d;Ve.d={f:mV,r:pV,D:AV,C:yV,L:wV,m:bV,X:CV,S:EV,M:vV};function mV(){var e=ga.f(),n=xo();return e||n}function pV(e){var n=Et(e);n!==null&&n.tag===5&&n.type==="form"?df(n):ga.r(e)}var cl=typeof document>"u"?null:document;function K1(e,n,i){var o=cl;if(o&&typeof n=="string"&&n){var f=lt(n);f='link[rel="'+e+'"][href="'+f+'"]',typeof i=="string"&&(f+='[crossorigin="'+i+'"]'),W1.has(f)||(W1.add(f),e={rel:e,crossOrigin:i,href:n},o.querySelector(f)===null&&(n=o.createElement("link"),_n(n,"link",e),tn(n),o.head.appendChild(n)))}}function AV(e){ga.D(e),K1("dns-prefetch",e,null)}function yV(e,n){ga.C(e,n),K1("preconnect",e,n)}function wV(e,n,i){ga.L(e,n,i);var o=cl;if(o&&e&&n){var f='link[rel="preload"][as="'+lt(n)+'"]';n==="image"&&i&&i.imageSrcSet?(f+='[imagesrcset="'+lt(i.imageSrcSet)+'"]',typeof i.imageSizes=="string"&&(f+='[imagesizes="'+lt(i.imageSizes)+'"]')):f+='[href="'+lt(e)+'"]';var d=f;switch(n){case"style":d=fl(e);break;case"script":d=hl(e)}Cr.has(d)||(e=I({rel:"preload",href:n==="image"&&i&&i.imageSrcSet?void 0:e,as:n},i),Cr.set(d,e),o.querySelector(f)!==null||n==="style"&&o.querySelector(as(d))||n==="script"&&o.querySelector(is(d))||(n=o.createElement("link"),_n(n,"link",e),tn(n),o.head.appendChild(n)))}}function bV(e,n){ga.m(e,n);var i=cl;if(i&&e){var o=n&&typeof n.as=="string"?n.as:"script",f='link[rel="modulepreload"][as="'+lt(o)+'"][href="'+lt(e)+'"]',d=f;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=hl(e)}if(!Cr.has(d)&&(e=I({rel:"modulepreload",href:e},n),Cr.set(d,e),i.querySelector(f)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(i.querySelector(is(d)))return}o=i.createElement("link"),_n(o,"link",e),tn(o),i.head.appendChild(o)}}}function EV(e,n,i){ga.S(e,n,i);var o=cl;if(o&&e){var f=Ln(o).hoistableStyles,d=fl(e);n=n||"default";var E=f.get(d);if(!E){var R={loading:0,preload:null};if(E=o.querySelector(as(d)))R.loading=5;else{e=I({rel:"stylesheet",href:e,"data-precedence":n},i),(i=Cr.get(d))&&Uc(e,i);var F=E=o.createElement("link");tn(F),_n(F,"link",e),F._p=new Promise(function(le,xe){F.onload=le,F.onerror=xe}),F.addEventListener("load",function(){R.loading|=1}),F.addEventListener("error",function(){R.loading|=2}),R.loading|=4,So(E,n,o)}E={type:"stylesheet",instance:E,count:1,state:R},f.set(d,E)}}}function CV(e,n){ga.X(e,n);var i=cl;if(i&&e){var o=Ln(i).hoistableScripts,f=hl(e),d=o.get(f);d||(d=i.querySelector(is(f)),d||(e=I({src:e,async:!0},n),(n=Cr.get(f))&&Fc(e,n),d=i.createElement("script"),tn(d),_n(d,"link",e),i.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},o.set(f,d))}}function vV(e,n){ga.M(e,n);var i=cl;if(i&&e){var o=Ln(i).hoistableScripts,f=hl(e),d=o.get(f);d||(d=i.querySelector(is(f)),d||(e=I({src:e,async:!0,type:"module"},n),(n=Cr.get(f))&&Fc(e,n),d=i.createElement("script"),tn(d),_n(d,"link",e),i.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},o.set(f,d))}}function J1(e,n,i,o){var f=(f=ie.current)?vo(f):null;if(!f)throw Error(p(446));switch(e){case"meta":case"title":return null;case"style":return typeof i.precedence=="string"&&typeof i.href=="string"?(n=fl(i.href),i=Ln(f).hoistableStyles,o=i.get(n),o||(o={type:"style",instance:null,count:0,state:null},i.set(n,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(i.rel==="stylesheet"&&typeof i.href=="string"&&typeof i.precedence=="string"){e=fl(i.href);var d=Ln(f).hoistableStyles,E=d.get(e);if(E||(f=f.ownerDocument||f,E={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(e,E),(d=f.querySelector(as(e)))&&!d._p&&(E.instance=d,E.state.loading=5),Cr.has(e)||(i={rel:"preload",as:"style",href:i.href,crossOrigin:i.crossOrigin,integrity:i.integrity,media:i.media,hrefLang:i.hrefLang,referrerPolicy:i.referrerPolicy},Cr.set(e,i),d||SV(f,e,i,E.state))),n&&o===null)throw Error(p(528,""));return E}if(n&&o!==null)throw Error(p(529,""));return null;case"script":return n=i.async,i=i.src,typeof i=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=hl(i),i=Ln(f).hoistableScripts,o=i.get(n),o||(o={type:"script",instance:null,count:0,state:null},i.set(n,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(p(444,e))}}function fl(e){return'href="'+lt(e)+'"'}function as(e){return'link[rel="stylesheet"]['+e+"]"}function $1(e){return I({},e,{"data-precedence":e.precedence,precedence:null})}function SV(e,n,i,o){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?o.loading=1:(n=e.createElement("link"),o.preload=n,n.addEventListener("load",function(){return o.loading|=1}),n.addEventListener("error",function(){return o.loading|=2}),_n(n,"link",i),tn(n),e.head.appendChild(n))}function hl(e){return'[src="'+lt(e)+'"]'}function is(e){return"script[async]"+e}function eh(e,n,i){if(n.count++,n.instance===null)switch(n.type){case"style":var o=e.querySelector('style[data-href~="'+lt(i.href)+'"]');if(o)return n.instance=o,tn(o),o;var f=I({},i,{"data-href":i.href,"data-precedence":i.precedence,href:null,precedence:null});return o=(e.ownerDocument||e).createElement("style"),tn(o),_n(o,"style",f),So(o,i.precedence,e),n.instance=o;case"stylesheet":f=fl(i.href);var d=e.querySelector(as(f));if(d)return n.state.loading|=4,n.instance=d,tn(d),d;o=$1(i),(f=Cr.get(f))&&Uc(o,f),d=(e.ownerDocument||e).createElement("link"),tn(d);var E=d;return E._p=new Promise(function(R,F){E.onload=R,E.onerror=F}),_n(d,"link",o),n.state.loading|=4,So(d,i.precedence,e),n.instance=d;case"script":return d=hl(i.src),(f=e.querySelector(is(d)))?(n.instance=f,tn(f),f):(o=i,(f=Cr.get(d))&&(o=I({},i),Fc(o,f)),e=e.ownerDocument||e,f=e.createElement("script"),tn(f),_n(f,"link",o),e.head.appendChild(f),n.instance=f);case"void":return null;default:throw Error(p(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(o=n.instance,n.state.loading|=4,So(o,i.precedence,e));return n.instance}function So(e,n,i){for(var o=i.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=o.length?o[o.length-1]:null,d=f,E=0;E<o.length;E++){var R=o[E];if(R.dataset.precedence===n)d=R;else if(d!==f)break}d?d.parentNode.insertBefore(e,d.nextSibling):(n=i.nodeType===9?i.head:i,n.insertBefore(e,n.firstChild))}function Uc(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function Fc(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var To=null;function th(e,n,i){if(To===null){var o=new Map,f=To=new Map;f.set(i,o)}else f=To,o=f.get(i),o||(o=new Map,f.set(i,o));if(o.has(e))return o;for(o.set(e,null),i=i.getElementsByTagName(e),f=0;f<i.length;f++){var d=i[f];if(!(d[li]||d[sn]||e==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var E=d.getAttribute(n)||"";E=e+E;var R=o.get(E);R?R.push(d):o.set(E,[d])}}return o}function nh(e,n,i){e=e.ownerDocument||e,e.head.insertBefore(i,n==="title"?e.querySelector("head > title"):null)}function TV(e,n,i){if(i===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;return n.rel==="stylesheet"?(e=n.disabled,typeof n.precedence=="string"&&e==null):!0;case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function rh(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function NV(e,n,i,o){if(i.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var f=fl(o.href),d=n.querySelector(as(f));if(d){n=d._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(e.count++,e=No.bind(e),n.then(e,e)),i.state.loading|=4,i.instance=d,tn(d);return}d=n.ownerDocument||n,o=$1(o),(f=Cr.get(f))&&Uc(o,f),d=d.createElement("link"),tn(d);var E=d;E._p=new Promise(function(R,F){E.onload=R,E.onerror=F}),_n(d,"link",o),i.instance=d}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(i,n),(n=i.state.preload)&&(i.state.loading&3)===0&&(e.count++,i=No.bind(e),n.addEventListener("load",i),n.addEventListener("error",i))}}var zc=0;function RV(e,n){return e.stylesheets&&e.count===0&&Oo(e,e.stylesheets),0<e.count||0<e.imgCount?function(i){var o=setTimeout(function(){if(e.stylesheets&&Oo(e,e.stylesheets),e.unsuspend){var d=e.unsuspend;e.unsuspend=null,d()}},6e4+n);0<e.imgBytes&&zc===0&&(zc=62500*uV());var f=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Oo(e,e.stylesheets),e.unsuspend)){var d=e.unsuspend;e.unsuspend=null,d()}},(e.imgBytes>zc?50:800)+n);return e.unsuspend=i,function(){e.unsuspend=null,clearTimeout(o),clearTimeout(f)}}:null}function No(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Oo(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Ro=null;function Oo(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Ro=new Map,n.forEach(OV,e),Ro=null,No.call(e))}function OV(e,n){if(!(n.state.loading&4)){var i=Ro.get(e);if(i)var o=i.get(null);else{i=new Map,Ro.set(e,i);for(var f=e.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<f.length;d++){var E=f[d];(E.nodeName==="LINK"||E.getAttribute("media")!=="not all")&&(i.set(E.dataset.precedence,E),o=E)}o&&i.set(null,o)}f=n.instance,E=f.getAttribute("data-precedence"),d=i.get(E)||o,d===o&&i.set(null,f),i.set(E,f),this.count++,o=No.bind(this),f.addEventListener("load",o),f.addEventListener("error",o),d?d.parentNode.insertBefore(f,d.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(f,e.firstChild)),n.state.loading|=4}}var ls={$$typeof:X,Provider:null,Consumer:null,_currentValue:we,_currentValue2:we,_threadCount:0};function _V(e,n,i,o,f,d,E,R,F){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=kr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=kr(0),this.hiddenUpdates=kr(null),this.identifierPrefix=o,this.onUncaughtError=f,this.onCaughtError=d,this.onRecoverableError=E,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=F,this.incompleteTransitions=new Map}function ah(e,n,i,o,f,d,E,R,F,le,xe,Ae){return e=new _V(e,n,i,E,F,le,xe,Ae,R),n=1,d===!0&&(n|=24),d=ir(3,null,null,n),e.current=d,d.stateNode=e,n=Au(),n.refCount++,e.pooledCache=n,n.refCount++,d.memoizedState={element:o,isDehydrated:i,cache:n},Eu(d),e}function ih(e){return e?(e=Pi,e):Pi}function lh(e,n,i,o,f,d){f=ih(f),o.context===null?o.context=f:o.pendingContext=f,o=za(n),o.payload={element:i},d=d===void 0?null:d,d!==null&&(o.callback=d),i=ja(e,o,n),i!==null&&(Kn(i,e,n),Ul(i,e,n))}function sh(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var i=e.retryLane;e.retryLane=i!==0&&i<n?i:n}}function jc(e,n){sh(e,n),(e=e.alternate)&&sh(e,n)}function oh(e){if(e.tag===13||e.tag===31){var n=gi(e,67108864);n!==null&&Kn(n,e,67108864),jc(e,67108864)}}function uh(e){if(e.tag===13||e.tag===31){var n=cr();n=En(n);var i=gi(e,n);i!==null&&Kn(i,e,n),jc(e,n)}}var _o=!0;function IV(e,n,i,o){var f=$.T;$.T=null;var d=Ve.p;try{Ve.p=2,Hc(e,n,i,o)}finally{Ve.p=d,$.T=f}}function DV(e,n,i,o){var f=$.T;$.T=null;var d=Ve.p;try{Ve.p=8,Hc(e,n,i,o)}finally{Ve.p=d,$.T=f}}function Hc(e,n,i,o){if(_o){var f=Pc(o);if(f===null)Nc(e,n,o,Io,i),fh(e,o);else if(BV(f,e,n,i,o))o.stopPropagation();else if(fh(e,o),n&4&&-1<MV.indexOf(e)){for(;f!==null;){var d=Et(f);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var E=Lr(d.pendingLanes);if(E!==0){var R=d;for(R.pendingLanes|=2,R.entangledLanes|=2;E;){var F=1<<31-nt(E);R.entanglements[1]|=F,E&=~F}Zr(d),(vt&6)===0&&(Vo=Jt()+500,es(0))}}break;case 31:case 13:R=gi(d,2),R!==null&&Kn(R,d,2),xo(),jc(d,2)}if(d=Pc(o),d===null&&Nc(e,n,o,Io,i),d===f)break;f=d}f!==null&&o.stopPropagation()}else Nc(e,n,o,null,i)}}function Pc(e){return e=El(e),Gc(e)}var Io=null;function Gc(e){if(Io=null,e=en(e),e!==null){var n=A(e);if(n===null)e=null;else{var i=n.tag;if(i===13){if(e=S(n),e!==null)return e;e=null}else if(i===31){if(e=O(n),e!==null)return e;e=null}else if(i===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return Io=e,null}function ch(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ml()){case Hn:return 2;case pl:return 8;case Jn:case vn:return 32;case Al:return 268435456;default:return 32}default:return 32}}var Xc=!1,Ja=null,$a=null,ei=null,ss=new Map,os=new Map,ti=[],MV="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function fh(e,n){switch(e){case"focusin":case"focusout":Ja=null;break;case"dragenter":case"dragleave":$a=null;break;case"mouseover":case"mouseout":ei=null;break;case"pointerover":case"pointerout":ss.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":os.delete(n.pointerId)}}function us(e,n,i,o,f,d){return e===null||e.nativeEvent!==d?(e={blockedOn:n,domEventName:i,eventSystemFlags:o,nativeEvent:d,targetContainers:[f]},n!==null&&(n=Et(n),n!==null&&oh(n)),e):(e.eventSystemFlags|=o,n=e.targetContainers,f!==null&&n.indexOf(f)===-1&&n.push(f),e)}function BV(e,n,i,o,f){switch(n){case"focusin":return Ja=us(Ja,e,n,i,o,f),!0;case"dragenter":return $a=us($a,e,n,i,o,f),!0;case"mouseover":return ei=us(ei,e,n,i,o,f),!0;case"pointerover":var d=f.pointerId;return ss.set(d,us(ss.get(d)||null,e,n,i,o,f)),!0;case"gotpointercapture":return d=f.pointerId,os.set(d,us(os.get(d)||null,e,n,i,o,f)),!0}return!1}function hh(e){var n=en(e.target);if(n!==null){var i=A(n);if(i!==null){if(n=i.tag,n===13){if(n=S(i),n!==null){e.blockedOn=n,De(e.priority,function(){uh(i)});return}}else if(n===31){if(n=O(i),n!==null){e.blockedOn=n,De(e.priority,function(){uh(i)});return}}else if(n===3&&i.stateNode.current.memoizedState.isDehydrated){e.blockedOn=i.tag===3?i.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Do(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var i=Pc(e.nativeEvent);if(i===null){i=e.nativeEvent;var o=new i.constructor(i.type,i);si=o,i.target.dispatchEvent(o),si=null}else return n=Et(i),n!==null&&oh(n),e.blockedOn=i,!1;n.shift()}return!0}function dh(e,n,i){Do(e)&&i.delete(n)}function LV(){Xc=!1,Ja!==null&&Do(Ja)&&(Ja=null),$a!==null&&Do($a)&&($a=null),ei!==null&&Do(ei)&&(ei=null),ss.forEach(dh),os.forEach(dh)}function Mo(e,n){e.blockedOn===n&&(e.blockedOn=null,Xc||(Xc=!0,V.unstable_scheduleCallback(V.unstable_NormalPriority,LV)))}var Bo=null;function Vh(e){Bo!==e&&(Bo=e,V.unstable_scheduleCallback(V.unstable_NormalPriority,function(){Bo===e&&(Bo=null);for(var n=0;n<e.length;n+=3){var i=e[n],o=e[n+1],f=e[n+2];if(typeof o!="function"){if(Gc(o||i)===null)continue;break}var d=Et(i);d!==null&&(e.splice(n,3),n-=3,Pu(d,{pending:!0,data:f,method:i.method,action:o},o,f))}}))}function dl(e){function n(F){return Mo(F,e)}Ja!==null&&Mo(Ja,e),$a!==null&&Mo($a,e),ei!==null&&Mo(ei,e),ss.forEach(n),os.forEach(n);for(var i=0;i<ti.length;i++){var o=ti[i];o.blockedOn===e&&(o.blockedOn=null)}for(;0<ti.length&&(i=ti[0],i.blockedOn===null);)hh(i),i.blockedOn===null&&ti.shift();if(i=(e.ownerDocument||e).$$reactFormReplay,i!=null)for(o=0;o<i.length;o+=3){var f=i[o],d=i[o+1],E=f[Rt]||null;if(typeof d=="function")E||Vh(i);else if(E){var R=null;if(d&&d.hasAttribute("formAction")){if(f=d,E=d[Rt]||null)R=E.formAction;else if(Gc(f)!==null)continue}else R=E.action;typeof R=="function"?i[o+1]=R:(i.splice(o,3),o-=3),Vh(i)}}}function gh(){function e(d){d.canIntercept&&d.info==="react-transition"&&d.intercept({handler:function(){return new Promise(function(E){return f=E})},focusReset:"manual",scroll:"manual"})}function n(){f!==null&&(f(),f=null),o||setTimeout(i,20)}function i(){if(!o&&!navigation.transition){var d=navigation.currentEntry;d&&d.url!=null&&navigation.navigate(d.url,{state:d.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var o=!1,f=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(i,100),function(){o=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),f!==null&&(f(),f=null)}}}function Yc(e){this._internalRoot=e}Lo.prototype.render=Yc.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(p(409));var i=n.current,o=cr();lh(i,o,e,n,null,null)},Lo.prototype.unmount=Yc.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;lh(e.current,2,null,e,null,null),xo(),n[$n]=null}};function Lo(e){this._internalRoot=e}Lo.prototype.unstable_scheduleHydration=function(e){if(e){var n=Mn();e={blockedOn:null,target:e,priority:n};for(var i=0;i<ti.length&&n!==0&&n<ti[i].priority;i++);ti.splice(i,0,e),i===0&&hh(e)}};var xh=m.version;if(xh!=="19.2.3")throw Error(p(527,xh,"19.2.3"));Ve.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(p(188)):(e=Object.keys(e).join(","),Error(p(268,e)));return e=y(n),e=e!==null?_(e):null,e=e===null?null:e.stateNode,e};var kV={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:$,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ko=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ko.isDisabled&&ko.supportsFiber)try{Pt=ko.inject(kV),Ne=ko}catch{}}return hs.createRoot=function(e,n){if(!b(e))throw Error(p(299));var i=!1,o="",f=Ef,d=Cf,E=vf;return n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onUncaughtError!==void 0&&(f=n.onUncaughtError),n.onCaughtError!==void 0&&(d=n.onCaughtError),n.onRecoverableError!==void 0&&(E=n.onRecoverableError)),n=ah(e,1,!1,null,null,i,o,null,f,d,E,gh),e[$n]=n.current,Tc(e),new Yc(n)},hs.hydrateRoot=function(e,n,i){if(!b(e))throw Error(p(299));var o=!1,f="",d=Ef,E=Cf,R=vf,F=null;return i!=null&&(i.unstable_strictMode===!0&&(o=!0),i.identifierPrefix!==void 0&&(f=i.identifierPrefix),i.onUncaughtError!==void 0&&(d=i.onUncaughtError),i.onCaughtError!==void 0&&(E=i.onCaughtError),i.onRecoverableError!==void 0&&(R=i.onRecoverableError),i.formState!==void 0&&(F=i.formState)),n=ah(e,1,!0,n,i??null,o,f,F,d,E,R,gh),n.context=ih(null),i=n.current,o=cr(),o=En(o),f=za(o),f.callback=null,ja(i,f,o),i=o,n.current.lanes=i,Ur(n,i),Zr(n),e[$n]=n.current,Tc(e),new Lo(n)},hs.version="19.2.3",hs}var Ih;function Cg(){if(Ih)return $c.exports;Ih=1;function V(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(V)}catch(m){console.error(m)}}return V(),$c.exports=Eg(),$c.exports}var vg=Cg();const xd=({text:V,subgroups:m,style:g,count:p,classname:b,perish_dates:A,imageUrl:S,ean:O,onClickIncrease:N,onClickDecrease:y})=>{const[_,I]=k.useState(!1),[J,ne]=k.useState(!1),[ue,te]=k.useState(!1),z=k.useRef(null),Z=k.useRef(null),G=me=>{if(!me)return[];if(Array.isArray(me))return me;try{const Q=JSON.parse(me);return Array.isArray(Q)?Q:[]}catch{const Q=me.trim();return Q.startsWith("[")&&Q.endsWith("]")?[]:Q.replace(/^$$|$$$/g,"").split(",").map(Se=>Se.trim().replace(/^"|"$/g,"")).filter(Boolean)}};k.useEffect(()=>{function me(Q){z.current&&!z.current.contains(Q.target)&&I(!1)}return document.addEventListener("mousedown",me),()=>{document.removeEventListener("mousedown",me)}},[]);const X=G(A),se=async me=>{me.stopPropagation(),ne(!0);try{await N({text:V,subgroups:m,style:g,count:p,classname:b,perish_dates:A,imageUrl:S,onClickIncrease:N,onClickDecrease:y,ean:O})}finally{setTimeout(()=>ne(!1),300)}},Ee=async me=>{me.stopPropagation(),te(!0);try{await y({text:V,subgroups:m,style:g,count:p,classname:b,perish_dates:A,imageUrl:S,onClickIncrease:N,onClickDecrease:y,ean:O})}finally{setTimeout(()=>te(!1),300)}};return D.jsxs("div",{className:"mb-4 px-4",children:[D.jsxs("div",{ref:z,onClick:()=>I(!_),className:`
          group relative
          flex items-center cursor-pointer
          bg-linear-to-r from-slate-900/90 to-slate-800/90
          border border-cyan-500/30
          rounded-2xl shadow-lg shadow-cyan-500/10
          p-4 transition-all duration-300 ease-out
          hover:shadow-xl hover:shadow-cyan-400/20
          hover:border-cyan-400/50
          hover:from-slate-800/95 hover:to-slate-700/95
          hover:scale-[1.02] hover:-translate-y-1
          w-full
          backdrop-blur-md
          ${_?"shadow-xl shadow-cyan-400/25 border-cyan-400/60 scale-[1.02] -translate-y-1":""}
          ${g||""}
        `,children:[D.jsx("div",{className:`absolute inset-0 rounded-2xl bg-linear-to-r from-cyan-500/5 to-blue-500/5 transition-opacity duration-500 ${_?"opacity-100":"opacity-0"}`}),D.jsx("div",{className:`absolute left-0 top-1/2 -translate-y-1/2 w-1 bg-linear-to-b from-cyan-400 via-cyan-500 to-blue-500 rounded-r-full shadow-lg shadow-cyan-500/50 group-hover:shadow-cyan-400/70 transition-all duration-300 ${_?"h-12 shadow-cyan-400/80":"h-8"}`}),D.jsx("div",{className:"absolute top-2 right-2 w-2 h-2 rounded-full bg-cyan-400/60 shadow-sm shadow-cyan-400/50 transition-all duration-300 group-hover:bg-cyan-400/80 group-hover:shadow-cyan-400/70"}),D.jsxs("div",{className:"flex items-center justify-between w-full ml-4 relative z-10",children:[D.jsx("div",{className:"flex-1 min-w-0 mr-4",children:D.jsxs("p",{className:"text-cyan-100 font-medium text-base truncate group-hover:text-cyan-50 transition-colors duration-300 relative",children:[b||V,D.jsx("span",{className:"absolute inset-0 text-cyan-400/20 blur-sm transition-opacity duration-300 group-hover:opacity-100 opacity-0",children:b||V})]})}),D.jsxs("div",{className:"flex items-center gap-3",children:[D.jsxs("div",{className:"hidden sm:flex flex-col gap-1",children:[D.jsx("span",{className:"text-slate-300/70 text-xs font-mono px-2 py-1 rounded-lg bg-slate-800/60 border border-slate-600/40 whitespace-nowrap backdrop-blur-sm transition-all duration-300 group-hover:bg-slate-700/70 group-hover:border-slate-500/50 group-hover:text-slate-200/80",children:m||"None"}),D.jsx("span",{className:"text-slate-300/70 text-xs font-mono px-2 py-1 rounded-lg bg-slate-800/60 border border-slate-600/40 whitespace-nowrap backdrop-blur-sm transition-all duration-300 group-hover:bg-slate-700/70 group-hover:border-slate-500/50 group-hover:text-slate-200/80",children:D.jsxs("span",{className:`transition-all duration-300 ${J?"text-emerald-400 scale-110":ue?"text-rose-400 scale-90":""}`,children:[p,"x"]})})]}),D.jsxs("div",{className:"flex sm:hidden flex-col gap-1",children:[D.jsx("span",{className:"text-slate-300/70 text-xs font-mono px-1 py-1 rounded-lg bg-slate-800/60 border border-slate-600/40 max-w-16 truncate backdrop-blur-sm transition-all duration-300 group-hover:bg-slate-700/70 group-hover:border-slate-500/50",children:m||"None"}),D.jsx("span",{className:"text-slate-300/70 text-xs font-mono px-1 py-1 rounded-lg bg-slate-800/60 border border-slate-600/40 max-w-16 truncate backdrop-blur-sm transition-all duration-300 group-hover:bg-slate-700/70 group-hover:border-slate-500/50",children:D.jsxs("span",{className:`transition-all duration-300 ${J?"text-emerald-400 scale-110":ue?"text-rose-400 scale-90":""}`,children:[p,"x"]})})]})]}),D.jsxs("div",{className:"flex items-center gap-2 ml-4",children:[D.jsx("button",{onClick:se,disabled:J,className:`
                relative overflow-hidden
                w-10 h-10
                bg-linear-to-br from-emerald-500/90 to-emerald-600/90
                text-white font-bold text-lg
                rounded-xl shadow-lg shadow-emerald-500/25
                hover:from-emerald-400/95 hover:to-emerald-500/95
                hover:shadow-xl hover:shadow-emerald-400/40 
                hover:scale-105
                active:scale-95
                disabled:scale-100 disabled:animate-pulse
                transition-all duration-200
                flex justify-center items-center
                border border-emerald-400/40 hover:border-emerald-300/60
                before:absolute before:inset-0 before:bg-white/10 before:-translate-x-full 
                hover:before:translate-x-full before:transition-transform before:duration-500
                shrink-0
                ${J?"scale-110 from-emerald-400 to-emerald-500 shadow-emerald-400/60":""}
              `,children:D.jsx("span",{className:`transition-transform duration-200 ${J?"scale-125":""}`,children:"+"})}),D.jsx("button",{onClick:Ee,disabled:ue,className:`
                relative overflow-hidden
                w-10 h-10
                bg-linear-to-br from-rose-500/90 to-pink-600/90
                text-white font-bold text-lg
                rounded-xl shadow-lg shadow-rose-500/25
                hover:from-rose-400/95 hover:to-pink-500/95
                hover:shadow-xl hover:shadow-rose-400/40 
                hover:scale-105
                active:scale-95
                disabled:scale-100 disabled:animate-pulse
                transition-all duration-200
                flex justify-center items-center
                border border-rose-400/40 hover:border-rose-300/60
                before:absolute before:inset-0 before:bg-white/10 before:-translate-x-full 
                hover:before:translate-x-full before:transition-transform before:duration-500
                shrink-0
                ${ue?"scale-110 from-rose-400 to-pink-500 shadow-rose-400/60":""}
              `,children:D.jsx("span",{className:`transition-transform duration-200 ${ue?"scale-125":""}`,children:"âˆ’"})})]}),D.jsx("div",{className:"ml-2 shrink-0",children:D.jsx("div",{className:`w-0 h-0 border-l-4 border-r-4 border-t-4 border-l-transparent border-r-transparent border-t-cyan-400/70 transition-all duration-300 ${_?"rotate-180 border-t-cyan-300":""}`})})]})]}),D.jsx("div",{ref:Z,className:`transition-all duration-500 ease-out ${_&&X[0]!=="none"?"max-h-125 opacity-100":"max-h-0 opacity-0"}`,style:{overflow:"hidden"},children:D.jsx("div",{className:`mt-2 transform transition-all duration-400 ${_?"translate-y-0":"-translate-y-4"}`,children:X&&X.length>0?D.jsxs("div",{className:"bg-linear-to-r from-slate-900/80 to-slate-800/80 backdrop-blur-md rounded-xl border border-cyan-500/20 shadow-lg shadow-cyan-500/10 mx-2",children:[D.jsxs("div",{className:"flex items-start gap-3 p-3 border-b border-slate-700/50",children:[D.jsx("img",{src:S,loading:"lazy",alt:`couldnt display image of the product ${V}`,className:"w-20 h-20 object-contain rounded-lg bg-slate-800/30 p-1 border border-slate-700/40 shrink-0"}),D.jsxs("div",{className:"flex-1 min-w-0 flex flex-col gap-2.5",children:[D.jsxs("div",{className:"flex flex-col items-center gap-1.5",children:[D.jsx("h3",{className:"text-slate-100 text-base font-semibold leading-tight wrap-break-word",children:V}),D.jsxs("span",{className:"text-xs text-slate-400 font-mono opacity-80",children:["(ean: ",["","0","-1","1"].includes(O)?"none":O,")"]})]}),D.jsxs("div",{className:"flex items-center gap-2 bg-cyan-500/10 rounded-lg px-2.5 py-1.5 border border-cyan-500/20",children:[D.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-cyan-400/80 shadow-sm shadow-cyan-400/50 shrink-0"}),D.jsx("span",{className:"text-cyan-300 text-sm font-medium",children:"Dates added"}),D.jsxs("span",{className:"text-cyan-200/70 text-xs font-mono",children:["(",X.length," item",X.length!==1?"s":"",")"]})]})]})]}),D.jsx("div",{className:"max-h-64 overflow-y-auto overflow-x-hidden p-2 space-y-1",children:X.map((me,Q)=>D.jsxs("div",{className:`
                      flex items-center gap-3 p-2 rounded-lg 
                      bg-slate-800/40 border border-slate-700/30
                      hover:bg-slate-700/50 hover:border-slate-600/40 
                      transition-all duration-300 transform
                      ${_?"translate-x-0 opacity-100":"translate-x-4 opacity-0"}
                    `,style:{transitionDelay:`${Math.min(Q*50,300)}ms`},children:[D.jsx("div",{className:"w-1 h-1 rounded-full bg-cyan-400/60 shrink-0"}),D.jsx("p",{className:"text-slate-200/90 text-sm font-mono flex-1",children:me})]},Q))})]}):D.jsx("div",{className:"bg-linear-to-r from-slate-900/80 to-slate-800/80 backdrop-blur-md rounded-xl border border-red-500/20 shadow-lg shadow-red-500/10 mx-2 p-4",children:D.jsxs("div",{className:"flex items-center gap-2",children:[D.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-red-400/80 shadow-sm shadow-red-400/50"}),D.jsx("p",{className:"text-red-300/90 text-sm font-medium",children:"Error: Code 42 - No valid dates found"})]})})})})]})},h0=({text:V})=>D.jsx("div",{className:"mb-3",children:D.jsxs("div",{className:`
                relative
                bg-gradient-to-r from-slate-900/80 to-slate-800/80
                border border-red-500/40
                rounded-xl shadow-lg shadow-red-500/10
                px-4 py-3
                backdrop-blur-md
                transition-all duration-300
                hover:shadow-red-400/20
                hover:border-red-400/50
            `,children:[D.jsx("div",{className:"absolute left-0 top-1/2 -translate-y-1/2 w-1 h-4 bg-gradient-to-b from-red-400 to-red-500 rounded-r-full shadow-sm shadow-red-500/50"}),D.jsxs("p",{className:"ml-3 text-red-200/90 text-sm font-medium",children:[D.jsx("span",{className:"text-red-300/70 font-mono text-xs mr-2",children:"error:"}),V]})]})}),Sg=({subgroups:V,sortOrder:m,onClickElement:g,onClickReset:p})=>{const[b,A]=k.useState(!1),[S,O]=k.useState("subs"),[N,y]=k.useState(!1),[_,I]=k.useState(!1),[J,ne]=k.useState(null),ue=k.useRef(null);k.useEffect(()=>{const Z=G=>{ue.current&&!ue.current.contains(G.target)&&A(!1)};return document.addEventListener("mousedown",Z),()=>document.removeEventListener("mousedown",Z)},[]);const te=Z=>{S==="subs"?g(Z,null):g(null,Z),A(!1)},z=S==="subs"?V:m;return D.jsxs("div",{ref:ue,style:{position:"relative",display:"inline-block"},children:[D.jsxs("div",{style:{display:"flex"},children:[D.jsx("button",{onClick:()=>p(null,null),onMouseEnter:()=>y(!0),onMouseLeave:()=>y(!1),style:{all:"unset",boxSizing:"border-box",backgroundColor:N?"#374151":"#4b5563",color:"#ffffff",border:"1px solid #6b7280",borderRight:"none",padding:"6px 8px",borderTopLeftRadius:"8px",borderBottomLeftRadius:"8px",cursor:"pointer",fontSize:"13px",fontWeight:"500",transition:"all 0.2s ease",whiteSpace:"nowrap"},children:b?"reset":"filter"}),D.jsx("button",{onClick:()=>A(!b),onMouseEnter:()=>I(!0),onMouseLeave:()=>I(!1),style:{all:"unset",boxSizing:"border-box",display:"inline-flex",alignItems:"center",justifyContent:"center",backgroundColor:_?"#374151":"#4b5563",color:"#ffffff",border:"1px solid #6b7280",borderLeft:"1px solid #374151",padding:"6px 8px",borderTopRightRadius:"8px",borderBottomRightRadius:"8px",cursor:"pointer",transition:"all 0.2s ease"},children:D.jsx("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",style:{transform:b?"rotate(180deg)":"rotate(0deg)",transition:"transform 0.2s ease"},children:D.jsx("path",{d:"m6 9 6 6 6-6"})})})]}),b&&D.jsxs("div",{style:{position:"absolute",top:"100%",left:"0",marginTop:"4px",backgroundColor:"#374151",border:"1px solid #4b5563",borderRadius:"8px",boxShadow:"0 10px 25px rgba(0, 0, 0, 0.25)",zIndex:1e3,minWidth:"180px",overflow:"hidden"},children:[D.jsxs("div",{style:{display:"flex",borderBottom:"1px solid #4b5563"},children:[D.jsx("button",{onClick:()=>O("subs"),style:{all:"unset",boxSizing:"border-box",flex:1,padding:"8px",textAlign:"center",cursor:"pointer",fontSize:"13px",fontWeight:"500",color:S==="subs"?"#ffffff":"#9ca3af",backgroundColor:S==="subs"?"#4b5563":"transparent",transition:"all 0.15s ease"},children:"subs"}),D.jsx("button",{onClick:()=>O("sortOrder"),style:{all:"unset",boxSizing:"border-box",flex:1,padding:"8px",textAlign:"center",cursor:"pointer",fontSize:"13px",fontWeight:"500",color:S==="sortOrder"?"#ffffff":"#9ca3af",backgroundColor:S==="sortOrder"?"#4b5563":"transparent",transition:"all 0.15s ease"},children:"sortOrder"})]}),D.jsx("div",{style:{maxHeight:"300px",overflowY:"auto"},children:z.map((Z,G)=>D.jsx("button",{onClick:()=>te(Z),onMouseEnter:()=>ne(G),onMouseLeave:()=>ne(null),style:{all:"unset",boxSizing:"border-box",display:"block",width:"100%",padding:"8px 10px",backgroundColor:J===G?"#4b5563":"transparent",color:J===G?"#ffffff":"#d1d5db",cursor:"pointer",fontSize:"13px",textAlign:"left",transition:"all 0.15s ease",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",borderBottom:G<z.length-1?"1px solid #4b5563":"none"},children:Z},G))})]})]})};function Tg({title:V,titleId:m,...g},p){return k.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:p,"aria-labelledby":m},g),V?k.createElement("title",{id:m},V):null,k.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5"}))}const Ng=k.forwardRef(Tg);function Rg({title:V,titleId:m,...g},p){return k.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:p,"aria-labelledby":m},g),V?k.createElement("title",{id:m},V):null,k.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5 12h14"}))}const Og=k.forwardRef(Rg);function _g({title:V,titleId:m,...g},p){return k.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:p,"aria-labelledby":m},g),V?k.createElement("title",{id:m},V):null,k.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4.5v15m7.5-7.5h-15"}))}const Ig=k.forwardRef(_g);function Dg({title:V,titleId:m,...g},p){return k.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:p,"aria-labelledby":m},g),V?k.createElement("title",{id:m},V):null,k.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18 18 6M6 6l12 12"}))}const Mg=k.forwardRef(Dg),Bg=({onClickUpper:V,onClickBottom:m,disabled:g=!1})=>{const p="flex items-center justify-center h-6 px-3 bg-slate-700 hover:bg-slate-600 disabled:opacity-50 transition-colors";return D.jsxs("div",{className:"flex flex-col gap-px h-[50px] rounded-lg overflow-hidden border border-slate-600 bg-slate-600",children:[D.jsx("button",{className:p,onClick:V,disabled:g,children:D.jsx(Ig,{className:"h-5 w-4 text-white"})}),D.jsx("button",{className:p,onClick:m,disabled:g,children:D.jsx(Og,{className:"h-5 w-4 text-white"})})]})},Lg=({isOpen:V,onClose:m})=>D.jsxs("div",{className:`
            fixed top-0 left-0 h-full w-64 bg-gradient-to-b from-gray-800 to-gray-900 z-50 
            shadow-2xl transform transition-transform duration-300 ease-in-out
            ${V?"translate-x-0":"-translate-x-full"}
            border-r border-gray-700
        `,children:[D.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-700",children:[D.jsx("h2",{className:"text-lg font-semibold text-white",children:"Menu"}),D.jsx("button",{onClick:m,className:"p-2 hover:bg-gray-700 rounded-lg transition-colors duration-200 group",children:D.jsx(Mg,{className:"h-5 w-5 text-gray-400 group-hover:text-white transition-colors"})})]}),D.jsxs("div",{className:"px-4 pt-6 space-y-2",children:[D.jsxs("a",{href:"/wish_list",className:"flex items-center px-4 py-3 text-gray-300 hover:text-white hover:bg-gray-700 hover:bg-opacity-50 rounded-lg transition-all duration-200 group border-l-2 border-transparent hover:border-blue-500",children:[D.jsx("span",{className:"w-2 h-2 bg-blue-500 rounded-full mr-3 group-hover:scale-125 transition-transform"}),"wish list"]}),D.jsxs("a",{href:"/",className:"flex items-center px-4 py-3 text-gray-300 hover:text-white hover:bg-gray-700 hover:bg-opacity-50 rounded-lg transition-all duration-200 group border-l-2 border-transparent hover:border-green-500",children:[D.jsx("span",{className:"w-2 h-2 bg-green-500 rounded-full mr-3 group-hover:scale-125 transition-transform"}),"item list"]}),D.jsxs("a",{href:"/settings",className:"flex items-center px-4 py-3 text-gray-300 hover:text-white hover:bg-gray-700 hover:bg-opacity-50 rounded-lg transition-all duration-200 group border-l-2 border-transparent hover:border-purple-500",children:[D.jsx("span",{className:"w-2 h-2 bg-purple-500 rounded-full mr-3 group-hover:scale-125 transition-transform"}),"settings"]})]})]}),md=k.memo(Lg),pd=({text:V})=>D.jsx("div",{className:"mb-3",children:D.jsxs("div",{className:`
                relative
                bg-gradient-to-r from-slate-900/80 to-slate-800/80
                border border-emerald-500/40
                rounded-xl shadow-lg shadow-emerald-500/10
                px-4 py-3
                backdrop-blur-md
                transition-all duration-300
                hover:shadow-emerald-400/20
                hover:border-emerald-400/50
            `,children:[D.jsx("div",{className:"absolute left-0 top-1/2 -translate-y-1/2 w-1 h-4 bg-gradient-to-b from-emerald-400 to-emerald-500 rounded-r-full shadow-sm shadow-emerald-500/50"}),D.jsxs("p",{className:"ml-3 text-emerald-200/90 text-sm font-medium whitespace-pre-line",children:[D.jsx("span",{className:"text-emerald-300/70 font-mono text-xs mr-2",children:"info:"}),V]})]})}),kg=({compact:V=!1,floating:m=!1})=>{const[g,p]=k.useState(!1);return m?D.jsxs("div",{style:{position:"fixed",bottom:"1rem",right:"1rem",zIndex:1e3},children:[!g&&D.jsx("button",{onClick:()=>p(!0),style:{backgroundColor:"#ff8000",color:"white",border:"none",borderRadius:"50%",width:"48px",height:"48px",fontSize:"1.25rem",cursor:"pointer",boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)",transition:"transform 0.2s, box-shadow 0.2s",display:"flex",alignItems:"center",justifyContent:"center",fontWeight:"bold"},onMouseEnter:b=>{b.currentTarget.style.transform="scale(1.1)",b.currentTarget.style.boxShadow="0 6px 8px rgba(0, 0, 0, 0.15)"},onMouseLeave:b=>{b.currentTarget.style.transform="scale(1)",b.currentTarget.style.boxShadow="0 4px 6px rgba(0, 0, 0, 0.1)"},title:"Data Attribution",children:"â“˜"}),g&&D.jsxs("div",{style:{backgroundColor:"#fff",border:"1px solid #e0e0e0",borderRadius:"12px",padding:"1.25rem",maxWidth:"320px",fontSize:"0.85rem",lineHeight:"1.5",boxShadow:"0 8px 16px rgba(0, 0, 0, 0.15)",animation:"slideIn 0.2s ease-out"},children:[D.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"0.75rem"},children:[D.jsx("h3",{style:{margin:0,fontSize:"1rem",color:"#333",fontWeight:"600"},children:"Data Attribution"}),D.jsx("button",{onClick:()=>p(!1),style:{background:"none",border:"none",fontSize:"1.5rem",cursor:"pointer",color:"#999",padding:0,lineHeight:1},title:"Close",children:"Ã—"})]}),D.jsxs("p",{style:{margin:"0.5rem 0",color:"#555"},children:["This app uses data from"," ",D.jsx("a",{href:"https://world.openfoodfacts.org",target:"_blank",rel:"noopener noreferrer",style:{color:"#ff8000",textDecoration:"underline"},children:"Open Food Facts"}),":"]}),D.jsxs("ul",{style:{margin:"0.5rem 0 0.75rem 1.25rem",color:"#555",paddingLeft:0},children:[D.jsx("li",{children:"Product database dump"}),D.jsx("li",{children:"Open Food Facts API"})]}),D.jsxs("p",{style:{margin:"0.5rem 0",color:"#555",fontSize:"0.8rem"},children:["Licensed under"," ",D.jsx("a",{href:"https://opendatacommons.org/licenses/odbl/1.0/",target:"_blank",rel:"noopener noreferrer",style:{color:"#ff8000",textDecoration:"underline"},children:"ODbL"})," ","and"," ",D.jsx("a",{href:"https://opendatacommons.org/licenses/dbcl/1.0/",target:"_blank",rel:"noopener noreferrer",style:{color:"#ff8000",textDecoration:"underline"},children:"DbCL"}),"."]}),D.jsx("a",{href:"https://world.openfoodfacts.org/terms-of-use",target:"_blank",rel:"noopener noreferrer",style:{display:"inline-block",marginTop:"0.5rem",color:"#ff8000",textDecoration:"underline",fontSize:"0.8rem"},children:"View Terms of Use â†’"})]}),D.jsx("style",{children:`
          @keyframes slideIn {
            from {
              opacity: 0;
              transform: translateY(10px);
            }
            to {
              opacity: 1;
              transform: translateY(0);
            }
          }
        `})]}):V?D.jsxs("div",{style:{fontSize:"0.75rem",color:"#666",padding:"0.5rem",textAlign:"center",borderTop:"1px solid #e0e0e0"},children:["Product data provided by"," ",D.jsx("a",{href:"https://world.openfoodfacts.org",target:"_blank",rel:"noopener noreferrer",style:{color:"#ff8000",textDecoration:"none"},children:"Open Food Facts"})," ","under"," ",D.jsx("a",{href:"https://opendatacommons.org/licenses/odbl/1.0/",target:"_blank",rel:"noopener noreferrer",style:{color:"#ff8000",textDecoration:"none"},children:"ODbL"})]}):D.jsxs("div",{style:{backgroundColor:"#f9f9f9",border:"1px solid #e0e0e0",borderRadius:"8px",padding:"1.5rem",margin:"1rem 0",fontSize:"0.9rem",lineHeight:"1.6"},children:[D.jsx("h3",{style:{marginTop:0,fontSize:"1.1rem",color:"#333"},children:"Data Attribution"}),D.jsxs("p",{style:{margin:"0.5rem 0",color:"#555"},children:["This application uses product data and services provided by"," ",D.jsx("a",{href:"https://world.openfoodfacts.org",target:"_blank",rel:"noopener noreferrer",style:{color:"#ff8000",textDecoration:"underline"},children:"Open Food Facts"}),", including:"]}),D.jsxs("ul",{style:{margin:"0.5rem 0 1rem 1.5rem",color:"#555"},children:[D.jsx("li",{children:"Product database dump"}),D.jsx("li",{children:"Open Food Facts API"})]}),D.jsxs("p",{style:{margin:"0.5rem 0",color:"#555"},children:["The Open Food Facts database is available under the"," ",D.jsx("a",{href:"https://opendatacommons.org/licenses/odbl/1.0/",target:"_blank",rel:"noopener noreferrer",style:{color:"#ff8000",textDecoration:"underline"},children:"Open Database License (ODbL)"}),", and individual contents are available under the"," ",D.jsx("a",{href:"https://opendatacommons.org/licenses/dbcl/1.0/",target:"_blank",rel:"noopener noreferrer",style:{color:"#ff8000",textDecoration:"underline"},children:"Database Contents License (DbCL)"}),"."]}),D.jsxs("p",{style:{margin:"0.5rem 0 0",color:"#555"},children:["For complete terms of use and licensing information, please refer to"," ",D.jsx("a",{href:"https://world.openfoodfacts.org/terms-of-use",target:"_blank",rel:"noopener noreferrer",style:{color:"#ff8000",textDecoration:"underline"},children:"Open Food Facts Terms of Use"}),"."]})]})},Ug=({placeholder:V,itemsToRender:m,setItemsToRender:g})=>{const[p,b]=k.useState(!0),[A,S]=k.useState(""),O=k.useRef(m),N=k.useRef(null),y=k.useRef(null),_=()=>{if(!A.trim()){g(O.current);return}const ne=O.current.filter(ue=>ue?.text?.toLowerCase().includes(A.toLowerCase()));g(ne)},I=k.useCallback(()=>{S(""),b(!0),g(O.current)},[g]),J=ne=>{ne.key==="Enter"&&_(),ne.key==="Escape"&&I()};return k.useEffect(()=>{const ne=ue=>{y.current&&!y.current.contains(ue.target)&&(S(""),g(O.current),I())};return p||document.addEventListener("mousedown",ne),()=>{document.removeEventListener("mousedown",ne)}},[p,I]),p?D.jsxs("button",{onClick:()=>b(!1),className:"px-4 py-2 bg-blue-500 hover:bg-blue-600 text-white rounded-lg shadow-md transition-all duration-200 flex items-center gap-2 font-medium",children:[D.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:D.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),"Search"]}):D.jsxs("div",{ref:y,className:"flex flex-row gap-2 items-center bg-gray-50/80 backdrop-blur-sm rounded-lg shadow-md p-2 border border-gray-300",children:[D.jsxs("div",{className:"relative flex-1",children:[D.jsx("svg",{className:"w-4 h-4 absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:D.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),D.jsx("input",{ref:N,className:"w-full pl-10 pr-10 py-2 border border-gray-300 bg-white text-black rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",value:A,onChange:ne=>S(ne.target.value),onKeyDown:J,placeholder:V,type:"search",autoFocus:!0}),A&&D.jsx("button",{onClick:()=>{S(""),g(O.current)},className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:D.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:D.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),D.jsx("button",{onClick:_,className:"px-4 py-2 bg-blue-500 hover:bg-blue-600 text-white rounded-md transition-colors font-medium",children:"Search"})]})},Fg=k.memo(Ug),zg=({isRecording:V,isLoading:m,onRecordClick:g})=>D.jsxs("button",{onClick:g,disabled:m,style:{position:"fixed",bottom:"1rem",left:"1rem",zIndex:1e3,backgroundColor:V?"#ef4444":"#3b82f6",color:"white",border:"none",borderRadius:"50%",width:"56px",height:"56px",cursor:m?"not-allowed":"pointer",boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)",transition:"transform 0.2s, box-shadow 0.2s, background-color 0.3s",display:"flex",alignItems:"center",justifyContent:"center",opacity:m?.5:1,animation:V?"pulse 1.5s infinite":"none"},onMouseEnter:p=>{m||(p.currentTarget.style.transform="scale(1.1)",p.currentTarget.style.boxShadow="0 6px 8px rgba(0, 0, 0, 0.15)")},onMouseLeave:p=>{p.currentTarget.style.transform="scale(1)",p.currentTarget.style.boxShadow="0 4px 6px rgba(0, 0, 0, 0.1)"},title:V?"Stop Recording":"Start Recording",children:[m?D.jsxs("svg",{className:"animate-spin",style:{width:"24px",height:"24px"},fill:"none",viewBox:"0 0 24 24",children:[D.jsx("circle",{style:{opacity:.25},cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),D.jsx("path",{style:{opacity:.75},fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}):V?D.jsx("svg",{style:{width:"20px",height:"20px"},fill:"currentColor",viewBox:"0 0 24 24",children:D.jsx("rect",{x:"6",y:"6",width:"12",height:"12",rx:"2"})}):D.jsx("svg",{style:{width:"24px",height:"24px"},fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",strokeWidth:"2",children:D.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19 11a7 7 0 01-7 7m0 0a7 7 0 01-7-7m7 7v4m0 0H8m4 0h4m-4-8a3 3 0 01-3-3V5a3 3 0 116 0v6a3 3 0 01-3 3z"})}),D.jsx("style",{dangerouslySetInnerHTML:{__html:`
        @keyframes pulse {
          0%, 100% {
            opacity: 1;
          }
          50% {
            opacity: 0.7;
          }
        }
        
        .animate-spin {
          animation: spin 1s linear infinite;
        }
        
        @keyframes spin {
          from {
            transform: rotate(0deg);
          }
          to {
            transform: rotate(360deg);
          }
        }
      `}})]});console.log("========== APP.TSX MODULE LOADED ==========");const jg=500,Hg=1e4,Pg=3,Gg=1e3,Xg=V=>new Promise(m=>setTimeout(m,V));async function zo(V,m,g=Pg){let p=null;for(let b=0;b<g;b++)try{console.log(`Attempt ${b+1}/${g}`);const A=await fetch(V,m);if(console.log("Fetch completed, status:",A.status,A.statusText),!A.ok)throw new Error(`HTTP ${A.status}`);const S=await A.text();return JSON.parse(S)}catch(A){if(p=A instanceof Error?A:new Error(String(A)),console.error(`Attempt ${b+1} FAILED:`,p.message),console.error("Error object:",A),b<g-1){const S=Gg*(b+1);await Xg(S)}}throw console.error("========== ALL RETRIES FAILED =========="),p}const Yg=V=>{const m=V.items.map(g=>({ean:g.ean,text:g.text,subgroups:g.subgroups,classname:g.classname,count:g.count,perish_dates:g.perish_dates??[],imageUrl:g.imageUrl}));return console.log("Transformed items count:",m.length),m};function Zg(){const V=ms(),[m,g]=k.useState(window.innerWidth),p=m<=jg;k.useEffect(()=>{const we=()=>g(window.innerWidth);return window.addEventListener("resize",we),()=>window.removeEventListener("resize",we)},[]);const[b,A]=k.useState(null),[S,O]=k.useState([]),[N,y]=k.useState([]),[,_]=k.useState([]),[I,J]=k.useState(!1),[ne,ue]=k.useState(!1),[te,z]=k.useState(!1),[Z,G]=k.useState(null);console.log("Current state - data:",S,"error:",b,"isLoading:",I);const X=k.useRef(null),se=k.useRef([]),Ee=k.useRef(null),me=k.useCallback(async(we,Oe,Ie)=>{console.log("subgroup:",we,"sortOrder:",Oe,"classname:",Ie),J(!0),A(null);try{const L=new URLSearchParams({only_wish_list:"false"});we&&L.set("subgroups",we),Oe&&L.set("sortOrder",Oe),Ie&&L.set("classnames",Ie);const U=`/api/fetch_items?${L}`;console.log("Calling API with URL:",U);const Y=await zo(U);console.log("API call returned successfully");const ae=Yg(Y);O(ae),console.log("Set data with",ae.length,"items"),ae.length===0&&console.log("No items returned")}catch(L){console.error("========== FETCH ITEMS ERROR =========="),console.error("Error caught:",L);const U=L instanceof Error?L.message:"Failed to fetch items";console.error("Setting error message:",U),A(U)}finally{console.log("========== FETCH ITEMS FINALLY =========="),J(!1),console.log("Set isLoading = false")}},[]),Q=k.useCallback(async()=>{console.log("========== FETCH METADATA CALLED ==========");const[we,Oe]=await Promise.allSettled([zo("/api/fetch_subgroups"),zo("/api/fetch_classnames")]);console.log("Subgroups result:",we),console.log("Classnames result:",Oe),we.status==="fulfilled"&&y(we.value.subgroups),Oe.status==="fulfilled"&&_(Oe.value.classnames)},[]),Se=k.useCallback(async(we,Oe)=>{if(!we.text)return;const Ie=we.count+Oe;O(U=>U.map(Y=>Y.text===we.text?{...Y,count:Math.max(0,Ie)}:Y));const L=Oe<0?"true":"false";try{await fetch("/api/add_ean_to_list/",{method:"POST",headers:{"Content-Type":"application/json; charset=UTF-8"},body:JSON.stringify({item_name:we.text,count:Oe,subgroups:we.subgroups||"",wish_list:L})}),Ie<=0&&setTimeout(()=>window.location.reload(),100)}catch(U){A("Failed to update item"),O(Y=>Y.map(ae=>ae.text===we.text?{...ae,count:we.count}:ae)),console.error("Error updating item:",U)}},[]),ce=k.useCallback(we=>Se(we,1),[Se]),Ze=k.useCallback(we=>Se(we,-1),[Se]),qe=k.useCallback(async()=>{const we=await navigator.mediaDevices.getUserMedia({audio:{channelCount:1,sampleRate:16e3}}),Oe=MediaRecorder.isTypeSupported("audio/webm;codecs=opus")?"audio/webm;codecs=opus":"audio/webm",Ie=new MediaRecorder(we,{mimeType:Oe});se.current=[],Ie.ondataavailable=L=>{L.data.size>0&&se.current.push(L.data)},Ie.onstop=()=>{we.getTracks().forEach(L=>L.stop())},X.current=Ie,Ie.start(1e3),z(!0)},[]),de=k.useCallback(()=>new Promise(we=>{const Oe=X.current;if(!Oe){we(new Blob);return}Oe.onstop=()=>{const Ie=new Blob(se.current,{type:"audio/webm"});z(!1),we(Ie)},Oe.stop()}),[]),Re=k.useCallback(async()=>{A(null);try{if(!te)await qe();else{J(!0);const we=await de();if(we.size===0){A("No audio recorded");return}const Oe=new FormData;Oe.append("file",new File([we],"recording.webm",{type:we.type}));const Ie=new URLSearchParams({only_wish_list:"false"});Ie.set("ListTypesInput","item_list");const L=await zo(`/api/transcribe?${Ie}`,{method:"POST",body:Oe});G(L.transcribed_text),Ee.current&&clearTimeout(Ee.current),Ee.current=setTimeout(()=>G(null),Hg)}}catch(we){A(we instanceof Error?we.message:"Recording failed"),z(!1),X.current?.state==="recording"&&X.current.stop()}finally{J(!1)}},[te,qe,de]),_e=k.useCallback(we=>{V(`/scanner?text=&count=${encodeURIComponent(we)}`)},[V]);k.useEffect(()=>{console.log("========== INITIAL USEEFFECT RUNNING =========="),console.log("About to call fetchItems()"),me(),console.log("About to call fetchMetadata()"),Q(),console.log("========== INITIAL USEEFFECT COMPLETE ==========")},[me,Q]),k.useEffect(()=>()=>{X.current?.state==="recording"&&X.current.stop(),Ee.current&&clearTimeout(Ee.current)},[]);const W=k.useMemo(()=>{if(!S||!Array.isArray(S))return console.error("Data is not an array:",S),[];console.log(`Mapping ${S.length} items to Container components`);const we=S.map((Oe,Ie)=>(console.log(`Creating container ${Ie} for item:`,Oe.text),D.jsx(xd,{text:Oe.text,subgroups:Oe.subgroups,count:Oe.count,classname:Oe.classname,perish_dates:Oe.perish_dates,imageUrl:Oe.imageUrl,ean:Oe.ean,onClickIncrease:ce,onClickDecrease:Ze,style:""},`${Oe.text}-${Ie}`)));return console.log(`Created ${we.length} container components`),we},[S,ce,Ze]);if(console.log("Render decision - isLoading:",I,"data.length:",S.length),I&&S.length===0)return console.log("Rendering loading state"),D.jsx("div",{className:"flex justify-center items-center min-h-screen",children:D.jsx("div",{className:"text-cyan-400 text-lg",children:"Loading..."})});let $=null,Ve=!1;return b?.includes("there are no items in the database")?($=null,Ve=!0):$=b,console.log("Rendering main UI - displayError:",$,"noItemsAvailable:",Ve),D.jsxs("div",{className:"flex flex-col min-h-screen mt-3",children:[D.jsx(md,{isOpen:ne,onClose:()=>ue(!1)}),$?D.jsx(h0,{text:$}):D.jsxs(D.Fragment,{children:[D.jsxs("header",{className:"flex items-center h-14 sm:h-16 px-3 sm:px-6 gap-3 sm:gap-4",children:[D.jsx("button",{onClick:()=>ue(!ne),className:"flex items-center justify-center w-12 h-12 rounded-lg hover:bg-slate-700/50 transition-colors flex-shrink-0",children:"â‰¡"}),D.jsx("div",{className:"flex flex-col",children:D.jsx("div",{className:"m-1",children:D.jsx(Sg,{subgroups:N,sortOrder:["A-Z","Z-A","new-old","old-new"],onClickElement:me,onClickReset:me})})}),D.jsx(Bg,{onClickUpper:()=>_e(1),onClickBottom:()=>_e(-1)}),D.jsx(Fg,{placeholder:"enter name",itemsToRender:S,setItemsToRender:O})]}),D.jsx("main",{className:"flex-1 p-3 sm:p-4 md:p-6",children:D.jsx("div",{className:"max-w-4xl mx-auto",children:Ve?D.jsx(pd,{text:`No items available in the database.
So perhaps add one.`}):W})})]}),D.jsxs("div",{className:"flex flex-row",children:[D.jsx(zg,{isRecording:te,isLoading:I,onRecordClick:Re}),Z&&D.jsx("div",{className:"hidden sm:block max-w-xs p-2 bg-green-100 border border-green-300 rounded text-xs",children:D.jsx("p",{className:"text-green-700 truncate",children:Z})}),Z&&p&&D.jsxs("div",{className:"mx-3 mt-2 p-2 bg-green-100 border border-green-300 rounded text-xs",children:[D.jsx("p",{className:"font-semibold text-green-800",children:"Transcribed:"}),D.jsx("p",{className:"text-green-700",children:Z})]})]}),D.jsx(kg,{floating:!0})]})}var Me;(function(V){V[V.QR_CODE=0]="QR_CODE",V[V.AZTEC=1]="AZTEC",V[V.CODABAR=2]="CODABAR",V[V.CODE_39=3]="CODE_39",V[V.CODE_93=4]="CODE_93",V[V.CODE_128=5]="CODE_128",V[V.DATA_MATRIX=6]="DATA_MATRIX",V[V.MAXICODE=7]="MAXICODE",V[V.ITF=8]="ITF",V[V.EAN_13=9]="EAN_13",V[V.EAN_8=10]="EAN_8",V[V.PDF_417=11]="PDF_417",V[V.RSS_14=12]="RSS_14",V[V.RSS_EXPANDED=13]="RSS_EXPANDED",V[V.UPC_A=14]="UPC_A",V[V.UPC_E=15]="UPC_E",V[V.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(Me||(Me={}));var Dh=new Map([[Me.QR_CODE,"QR_CODE"],[Me.AZTEC,"AZTEC"],[Me.CODABAR,"CODABAR"],[Me.CODE_39,"CODE_39"],[Me.CODE_93,"CODE_93"],[Me.CODE_128,"CODE_128"],[Me.DATA_MATRIX,"DATA_MATRIX"],[Me.MAXICODE,"MAXICODE"],[Me.ITF,"ITF"],[Me.EAN_13,"EAN_13"],[Me.EAN_8,"EAN_8"],[Me.PDF_417,"PDF_417"],[Me.RSS_14,"RSS_14"],[Me.RSS_EXPANDED,"RSS_EXPANDED"],[Me.UPC_A,"UPC_A"],[Me.UPC_E,"UPC_E"],[Me.UPC_EAN_EXTENSION,"UPC_EAN_EXTENSION"]]),Mh;(function(V){V[V.UNKNOWN=0]="UNKNOWN",V[V.URL=1]="URL"})(Mh||(Mh={}));function qg(V){return Object.values(Me).includes(V)}var Yo;(function(V){V[V.SCAN_TYPE_CAMERA=0]="SCAN_TYPE_CAMERA",V[V.SCAN_TYPE_FILE=1]="SCAN_TYPE_FILE"})(Yo||(Yo={}));var Qg=(function(){function V(){}return V.GITHUB_PROJECT_URL="https://github.com/mebjas/html5-qrcode",V.SCAN_DEFAULT_FPS=2,V.DEFAULT_DISABLE_FLIP=!1,V.DEFAULT_REMEMBER_LAST_CAMERA_USED=!0,V.DEFAULT_SUPPORTED_SCAN_TYPE=[Yo.SCAN_TYPE_CAMERA,Yo.SCAN_TYPE_FILE],V})(),Ad=(function(){function V(m,g){this.format=m,this.formatName=g}return V.prototype.toString=function(){return this.formatName},V.create=function(m){if(!Dh.has(m))throw"".concat(m," not in html5QrcodeSupportedFormatsTextMap");return new V(m,Dh.get(m))},V})(),Bh=(function(){function V(){}return V.createFromText=function(m){var g={text:m};return{decodedText:m,result:g}},V.createFromQrcodeResult=function(m){return{decodedText:m.text,result:m}},V})(),i0;(function(V){V[V.UNKWOWN_ERROR=0]="UNKWOWN_ERROR",V[V.IMPLEMENTATION_ERROR=1]="IMPLEMENTATION_ERROR",V[V.NO_CODE_FOUND_ERROR=2]="NO_CODE_FOUND_ERROR"})(i0||(i0={}));var Wg=(function(){function V(){}return V.createFrom=function(m){return{errorMessage:m,type:i0.UNKWOWN_ERROR}},V})(),Kg=(function(){function V(m){this.verbose=m}return V.prototype.log=function(m){this.verbose&&console.log(m)},V.prototype.warn=function(m){this.verbose&&console.warn(m)},V.prototype.logError=function(m,g){(this.verbose||g===!0)&&console.error(m)},V.prototype.logErrors=function(m){if(m.length===0)throw"Logger#logError called without arguments";this.verbose&&console.error(m)},V})();function xa(V){return typeof V>"u"||V===null}var Vl=(function(){function V(){}return V.codeParseError=function(m){return"QR code parse error, error = ".concat(m)},V.errorGettingUserMedia=function(m){return"Error getting userMedia, error = ".concat(m)},V.onlyDeviceSupportedError=function(){return"The device doesn't support navigator.mediaDevices , only supported cameraIdOrConfig in this case is deviceId parameter (string)."},V.cameraStreamingNotSupported=function(){return"Camera streaming not supported by the browser."},V.unableToQuerySupportedDevices=function(){return"Unable to query supported devices, unknown error."},V.insecureContextCameraQueryError=function(){return"Camera access is only supported in secure context like https or localhost."},V.scannerPaused=function(){return"Scanner paused"},V})(),yd=(function(){function V(){}return V.isMediaStreamConstraintsValid=function(m,g){if(typeof m!="object"){var p=typeof m;return g.logError("videoConstraints should be of type object, the "+"object passed is of type ".concat(p,"."),!0),!1}for(var b=["autoGainControl","channelCount","echoCancellation","latency","noiseSuppression","sampleRate","sampleSize","volume"],A=new Set(b),S=Object.keys(m),O=0,N=S;O<N.length;O++){var y=N[O];if(A.has(y))return g.logError("".concat(y," is not supported videoConstaints."),!0),!1}return!0},V})(),ds={exports:{}},Jg=ds.exports,Lh;function $g(){return Lh||(Lh=1,(function(V,m){(function(g,p){p(m)})(Jg,(function(g){function p(C){return C==null}var b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(C,t){C.__proto__=t}||function(C,t){for(var r in t)t.hasOwnProperty(r)&&(C[r]=t[r])};function A(C,t){b(C,t);function r(){this.constructor=C}C.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}function S(C,t){var r=Object.setPrototypeOf;r?r(C,t):C.__proto__=t}function O(C,t){t===void 0&&(t=C.constructor);var r=Error.captureStackTrace;r&&r(C,t)}var N=(function(C){A(t,C);function t(r){var a=this.constructor,l=C.call(this,r)||this;return Object.defineProperty(l,"name",{value:a.name,enumerable:!1}),S(l,a.prototype),O(l),l}return t})(Error);class y extends N{constructor(t=void 0){super(t),this.message=t}getKind(){return this.constructor.kind}}y.kind="Exception";class _ extends y{}_.kind="ArgumentException";class I extends y{}I.kind="IllegalArgumentException";class J{constructor(t){if(this.binarizer=t,t===null)throw new I("Binarizer must be non-null.")}getWidth(){return this.binarizer.getWidth()}getHeight(){return this.binarizer.getHeight()}getBlackRow(t,r){return this.binarizer.getBlackRow(t,r)}getBlackMatrix(){return(this.matrix===null||this.matrix===void 0)&&(this.matrix=this.binarizer.getBlackMatrix()),this.matrix}isCropSupported(){return this.binarizer.getLuminanceSource().isCropSupported()}crop(t,r,a,l){const s=this.binarizer.getLuminanceSource().crop(t,r,a,l);return new J(this.binarizer.createBinarizer(s))}isRotateSupported(){return this.binarizer.getLuminanceSource().isRotateSupported()}rotateCounterClockwise(){const t=this.binarizer.getLuminanceSource().rotateCounterClockwise();return new J(this.binarizer.createBinarizer(t))}rotateCounterClockwise45(){const t=this.binarizer.getLuminanceSource().rotateCounterClockwise45();return new J(this.binarizer.createBinarizer(t))}toString(){try{return this.getBlackMatrix().toString()}catch{return""}}}class ne extends y{static getChecksumInstance(){return new ne}}ne.kind="ChecksumException";class ue{constructor(t){this.source=t}getLuminanceSource(){return this.source}getWidth(){return this.source.getWidth()}getHeight(){return this.source.getHeight()}}class te{static arraycopy(t,r,a,l,s){for(;s--;)a[l++]=t[r++]}static currentTimeMillis(){return Date.now()}}class z extends y{}z.kind="IndexOutOfBoundsException";class Z extends z{constructor(t=void 0,r=void 0){super(r),this.index=t,this.message=r}}Z.kind="ArrayIndexOutOfBoundsException";class G{static fill(t,r){for(let a=0,l=t.length;a<l;a++)t[a]=r}static fillWithin(t,r,a,l){G.rangeCheck(t.length,r,a);for(let s=r;s<a;s++)t[s]=l}static rangeCheck(t,r,a){if(r>a)throw new I("fromIndex("+r+") > toIndex("+a+")");if(r<0)throw new Z(r);if(a>t)throw new Z(a)}static asList(...t){return t}static create(t,r,a){return Array.from({length:t}).map(s=>Array.from({length:r}).fill(a))}static createInt32Array(t,r,a){return Array.from({length:t}).map(s=>Int32Array.from({length:r}).fill(a))}static equals(t,r){if(!t||!r||!t.length||!r.length||t.length!==r.length)return!1;for(let a=0,l=t.length;a<l;a++)if(t[a]!==r[a])return!1;return!0}static hashCode(t){if(t===null)return 0;let r=1;for(const a of t)r=31*r+a;return r}static fillUint8Array(t,r){for(let a=0;a!==t.length;a++)t[a]=r}static copyOf(t,r){return t.slice(0,r)}static copyOfUint8Array(t,r){if(t.length<=r){const a=new Uint8Array(r);return a.set(t),a}return t.slice(0,r)}static copyOfRange(t,r,a){const l=a-r,s=new Int32Array(l);return te.arraycopy(t,r,s,0,l),s}static binarySearch(t,r,a){a===void 0&&(a=G.numberComparator);let l=0,s=t.length-1;for(;l<=s;){const u=s+l>>1,c=a(r,t[u]);if(c>0)l=u+1;else if(c<0)s=u-1;else return u}return-l-1}static numberComparator(t,r){return t-r}}class X{static numberOfTrailingZeros(t){let r;if(t===0)return 32;let a=31;return r=t<<16,r!==0&&(a-=16,t=r),r=t<<8,r!==0&&(a-=8,t=r),r=t<<4,r!==0&&(a-=4,t=r),r=t<<2,r!==0&&(a-=2,t=r),a-(t<<1>>>31)}static numberOfLeadingZeros(t){if(t===0)return 32;let r=1;return t>>>16||(r+=16,t<<=16),t>>>24||(r+=8,t<<=8),t>>>28||(r+=4,t<<=4),t>>>30||(r+=2,t<<=2),r-=t>>>31,r}static toHexString(t){return t.toString(16)}static toBinaryString(t){return String(parseInt(String(t),2))}static bitCount(t){return t=t-(t>>>1&1431655765),t=(t&858993459)+(t>>>2&858993459),t=t+(t>>>4)&252645135,t=t+(t>>>8),t=t+(t>>>16),t&63}static truncDivision(t,r){return Math.trunc(t/r)}static parseInt(t,r=void 0){return parseInt(t,r)}}X.MIN_VALUE_32_BITS=-2147483648,X.MAX_VALUE=Number.MAX_SAFE_INTEGER;class se{constructor(t,r){t===void 0?(this.size=0,this.bits=new Int32Array(1)):(this.size=t,r==null?this.bits=se.makeArray(t):this.bits=r)}getSize(){return this.size}getSizeInBytes(){return Math.floor((this.size+7)/8)}ensureCapacity(t){if(t>this.bits.length*32){const r=se.makeArray(t);te.arraycopy(this.bits,0,r,0,this.bits.length),this.bits=r}}get(t){return(this.bits[Math.floor(t/32)]&1<<(t&31))!==0}set(t){this.bits[Math.floor(t/32)]|=1<<(t&31)}flip(t){this.bits[Math.floor(t/32)]^=1<<(t&31)}getNextSet(t){const r=this.size;if(t>=r)return r;const a=this.bits;let l=Math.floor(t/32),s=a[l];s&=~((1<<(t&31))-1);const u=a.length;for(;s===0;){if(++l===u)return r;s=a[l]}const c=l*32+X.numberOfTrailingZeros(s);return c>r?r:c}getNextUnset(t){const r=this.size;if(t>=r)return r;const a=this.bits;let l=Math.floor(t/32),s=~a[l];s&=~((1<<(t&31))-1);const u=a.length;for(;s===0;){if(++l===u)return r;s=~a[l]}const c=l*32+X.numberOfTrailingZeros(s);return c>r?r:c}setBulk(t,r){this.bits[Math.floor(t/32)]=r}setRange(t,r){if(r<t||t<0||r>this.size)throw new I;if(r===t)return;r--;const a=Math.floor(t/32),l=Math.floor(r/32),s=this.bits;for(let u=a;u<=l;u++){const c=u>a?0:t&31,x=(2<<(u<l?31:r&31))-(1<<c);s[u]|=x}}clear(){const t=this.bits.length,r=this.bits;for(let a=0;a<t;a++)r[a]=0}isRange(t,r,a){if(r<t||t<0||r>this.size)throw new I;if(r===t)return!0;r--;const l=Math.floor(t/32),s=Math.floor(r/32),u=this.bits;for(let c=l;c<=s;c++){const h=c>l?0:t&31,w=(2<<(c<s?31:r&31))-(1<<h)&4294967295;if((u[c]&w)!==(a?w:0))return!1}return!0}appendBit(t){this.ensureCapacity(this.size+1),t&&(this.bits[Math.floor(this.size/32)]|=1<<(this.size&31)),this.size++}appendBits(t,r){if(r<0||r>32)throw new I("Num bits must be between 0 and 32");this.ensureCapacity(this.size+r);for(let a=r;a>0;a--)this.appendBit((t>>a-1&1)===1)}appendBitArray(t){const r=t.size;this.ensureCapacity(this.size+r);for(let a=0;a<r;a++)this.appendBit(t.get(a))}xor(t){if(this.size!==t.size)throw new I("Sizes don't match");const r=this.bits;for(let a=0,l=r.length;a<l;a++)r[a]^=t.bits[a]}toBytes(t,r,a,l){for(let s=0;s<l;s++){let u=0;for(let c=0;c<8;c++)this.get(t)&&(u|=1<<7-c),t++;r[a+s]=u}}getBitArray(){return this.bits}reverse(){const t=new Int32Array(this.bits.length),r=Math.floor((this.size-1)/32),a=r+1,l=this.bits;for(let s=0;s<a;s++){let u=l[s];u=u>>1&1431655765|(u&1431655765)<<1,u=u>>2&858993459|(u&858993459)<<2,u=u>>4&252645135|(u&252645135)<<4,u=u>>8&16711935|(u&16711935)<<8,u=u>>16&65535|(u&65535)<<16,t[r-s]=u}if(this.size!==a*32){const s=a*32-this.size;let u=t[0]>>>s;for(let c=1;c<a;c++){const h=t[c];u|=h<<32-s,t[c-1]=u,u=h>>>s}t[a-1]=u}this.bits=t}static makeArray(t){return new Int32Array(Math.floor((t+31)/32))}equals(t){if(!(t instanceof se))return!1;const r=t;return this.size===r.size&&G.equals(this.bits,r.bits)}hashCode(){return 31*this.size+G.hashCode(this.bits)}toString(){let t="";for(let r=0,a=this.size;r<a;r++)(r&7)===0&&(t+=" "),t+=this.get(r)?"X":".";return t}clone(){return new se(this.size,this.bits.slice())}}var Ee;(function(C){C[C.OTHER=0]="OTHER",C[C.PURE_BARCODE=1]="PURE_BARCODE",C[C.POSSIBLE_FORMATS=2]="POSSIBLE_FORMATS",C[C.TRY_HARDER=3]="TRY_HARDER",C[C.CHARACTER_SET=4]="CHARACTER_SET",C[C.ALLOWED_LENGTHS=5]="ALLOWED_LENGTHS",C[C.ASSUME_CODE_39_CHECK_DIGIT=6]="ASSUME_CODE_39_CHECK_DIGIT",C[C.ASSUME_GS1=7]="ASSUME_GS1",C[C.RETURN_CODABAR_START_END=8]="RETURN_CODABAR_START_END",C[C.NEED_RESULT_POINT_CALLBACK=9]="NEED_RESULT_POINT_CALLBACK",C[C.ALLOWED_EAN_EXTENSIONS=10]="ALLOWED_EAN_EXTENSIONS"})(Ee||(Ee={}));var me=Ee;class Q extends y{static getFormatInstance(){return new Q}}Q.kind="FormatException";var Se;(function(C){C[C.Cp437=0]="Cp437",C[C.ISO8859_1=1]="ISO8859_1",C[C.ISO8859_2=2]="ISO8859_2",C[C.ISO8859_3=3]="ISO8859_3",C[C.ISO8859_4=4]="ISO8859_4",C[C.ISO8859_5=5]="ISO8859_5",C[C.ISO8859_6=6]="ISO8859_6",C[C.ISO8859_7=7]="ISO8859_7",C[C.ISO8859_8=8]="ISO8859_8",C[C.ISO8859_9=9]="ISO8859_9",C[C.ISO8859_10=10]="ISO8859_10",C[C.ISO8859_11=11]="ISO8859_11",C[C.ISO8859_13=12]="ISO8859_13",C[C.ISO8859_14=13]="ISO8859_14",C[C.ISO8859_15=14]="ISO8859_15",C[C.ISO8859_16=15]="ISO8859_16",C[C.SJIS=16]="SJIS",C[C.Cp1250=17]="Cp1250",C[C.Cp1251=18]="Cp1251",C[C.Cp1252=19]="Cp1252",C[C.Cp1256=20]="Cp1256",C[C.UnicodeBigUnmarked=21]="UnicodeBigUnmarked",C[C.UTF8=22]="UTF8",C[C.ASCII=23]="ASCII",C[C.Big5=24]="Big5",C[C.GB18030=25]="GB18030",C[C.EUC_KR=26]="EUC_KR"})(Se||(Se={}));class ce{constructor(t,r,a,...l){this.valueIdentifier=t,this.name=a,typeof r=="number"?this.values=Int32Array.from([r]):this.values=r,this.otherEncodingNames=l,ce.VALUE_IDENTIFIER_TO_ECI.set(t,this),ce.NAME_TO_ECI.set(a,this);const s=this.values;for(let u=0,c=s.length;u!==c;u++){const h=s[u];ce.VALUES_TO_ECI.set(h,this)}for(const u of l)ce.NAME_TO_ECI.set(u,this)}getValueIdentifier(){return this.valueIdentifier}getName(){return this.name}getValue(){return this.values[0]}static getCharacterSetECIByValue(t){if(t<0||t>=900)throw new Q("incorect value");const r=ce.VALUES_TO_ECI.get(t);if(r===void 0)throw new Q("incorect value");return r}static getCharacterSetECIByName(t){const r=ce.NAME_TO_ECI.get(t);if(r===void 0)throw new Q("incorect value");return r}equals(t){if(!(t instanceof ce))return!1;const r=t;return this.getName()===r.getName()}}ce.VALUE_IDENTIFIER_TO_ECI=new Map,ce.VALUES_TO_ECI=new Map,ce.NAME_TO_ECI=new Map,ce.Cp437=new ce(Se.Cp437,Int32Array.from([0,2]),"Cp437"),ce.ISO8859_1=new ce(Se.ISO8859_1,Int32Array.from([1,3]),"ISO-8859-1","ISO88591","ISO8859_1"),ce.ISO8859_2=new ce(Se.ISO8859_2,4,"ISO-8859-2","ISO88592","ISO8859_2"),ce.ISO8859_3=new ce(Se.ISO8859_3,5,"ISO-8859-3","ISO88593","ISO8859_3"),ce.ISO8859_4=new ce(Se.ISO8859_4,6,"ISO-8859-4","ISO88594","ISO8859_4"),ce.ISO8859_5=new ce(Se.ISO8859_5,7,"ISO-8859-5","ISO88595","ISO8859_5"),ce.ISO8859_6=new ce(Se.ISO8859_6,8,"ISO-8859-6","ISO88596","ISO8859_6"),ce.ISO8859_7=new ce(Se.ISO8859_7,9,"ISO-8859-7","ISO88597","ISO8859_7"),ce.ISO8859_8=new ce(Se.ISO8859_8,10,"ISO-8859-8","ISO88598","ISO8859_8"),ce.ISO8859_9=new ce(Se.ISO8859_9,11,"ISO-8859-9","ISO88599","ISO8859_9"),ce.ISO8859_10=new ce(Se.ISO8859_10,12,"ISO-8859-10","ISO885910","ISO8859_10"),ce.ISO8859_11=new ce(Se.ISO8859_11,13,"ISO-8859-11","ISO885911","ISO8859_11"),ce.ISO8859_13=new ce(Se.ISO8859_13,15,"ISO-8859-13","ISO885913","ISO8859_13"),ce.ISO8859_14=new ce(Se.ISO8859_14,16,"ISO-8859-14","ISO885914","ISO8859_14"),ce.ISO8859_15=new ce(Se.ISO8859_15,17,"ISO-8859-15","ISO885915","ISO8859_15"),ce.ISO8859_16=new ce(Se.ISO8859_16,18,"ISO-8859-16","ISO885916","ISO8859_16"),ce.SJIS=new ce(Se.SJIS,20,"SJIS","Shift_JIS"),ce.Cp1250=new ce(Se.Cp1250,21,"Cp1250","windows-1250"),ce.Cp1251=new ce(Se.Cp1251,22,"Cp1251","windows-1251"),ce.Cp1252=new ce(Se.Cp1252,23,"Cp1252","windows-1252"),ce.Cp1256=new ce(Se.Cp1256,24,"Cp1256","windows-1256"),ce.UnicodeBigUnmarked=new ce(Se.UnicodeBigUnmarked,25,"UnicodeBigUnmarked","UTF-16BE","UnicodeBig"),ce.UTF8=new ce(Se.UTF8,26,"UTF8","UTF-8"),ce.ASCII=new ce(Se.ASCII,Int32Array.from([27,170]),"ASCII","US-ASCII"),ce.Big5=new ce(Se.Big5,28,"Big5"),ce.GB18030=new ce(Se.GB18030,29,"GB18030","GB2312","EUC_CN","GBK"),ce.EUC_KR=new ce(Se.EUC_KR,30,"EUC_KR","EUC-KR");class Ze extends y{}Ze.kind="UnsupportedOperationException";class qe{static decode(t,r){const a=this.encodingName(r);return this.customDecoder?this.customDecoder(t,a):typeof TextDecoder>"u"||this.shouldDecodeOnFallback(a)?this.decodeFallback(t,a):new TextDecoder(a).decode(t)}static shouldDecodeOnFallback(t){return!qe.isBrowser()&&t==="ISO-8859-1"}static encode(t,r){const a=this.encodingName(r);return this.customEncoder?this.customEncoder(t,a):typeof TextEncoder>"u"?this.encodeFallback(t):new TextEncoder().encode(t)}static isBrowser(){return typeof window<"u"&&{}.toString.call(window)==="[object Window]"}static encodingName(t){return typeof t=="string"?t:t.getName()}static encodingCharacterSet(t){return t instanceof ce?t:ce.getCharacterSetECIByName(t)}static decodeFallback(t,r){const a=this.encodingCharacterSet(r);if(qe.isDecodeFallbackSupported(a)){let l="";for(let s=0,u=t.length;s<u;s++){let c=t[s].toString(16);c.length<2&&(c="0"+c),l+="%"+c}return decodeURIComponent(l)}if(a.equals(ce.UnicodeBigUnmarked))return String.fromCharCode.apply(null,new Uint16Array(t.buffer));throw new Ze(`Encoding ${this.encodingName(r)} not supported by fallback.`)}static isDecodeFallbackSupported(t){return t.equals(ce.UTF8)||t.equals(ce.ISO8859_1)||t.equals(ce.ASCII)}static encodeFallback(t){const a=btoa(unescape(encodeURIComponent(t))).split(""),l=[];for(let s=0;s<a.length;s++)l.push(a[s].charCodeAt(0));return new Uint8Array(l)}}class de{static castAsNonUtf8Char(t,r=null){const a=r?r.getName():this.ISO88591;return qe.decode(new Uint8Array([t]),a)}static guessEncoding(t,r){if(r!=null&&r.get(me.CHARACTER_SET)!==void 0)return r.get(me.CHARACTER_SET).toString();const a=t.length;let l=!0,s=!0,u=!0,c=0,h=0,x=0,w=0,v=0,T=0,B=0,j=0,H=0,K=0,fe=0;const Te=t.length>3&&t[0]===239&&t[1]===187&&t[2]===191;for(let ve=0;ve<a&&(l||s||u);ve++){const be=t[ve]&255;u&&(c>0?(be&128)===0?u=!1:c--:(be&128)!==0&&((be&64)===0?u=!1:(c++,(be&32)===0?h++:(c++,(be&16)===0?x++:(c++,(be&8)===0?w++:u=!1))))),l&&(be>127&&be<160?l=!1:be>159&&(be<192||be===215||be===247)&&fe++),s&&(v>0?be<64||be===127||be>252?s=!1:v--:be===128||be===160||be>239?s=!1:be>160&&be<224?(T++,j=0,B++,B>H&&(H=B)):be>127?(v++,B=0,j++,j>K&&(K=j)):(B=0,j=0))}return u&&c>0&&(u=!1),s&&v>0&&(s=!1),u&&(Te||h+x+w>0)?de.UTF8:s&&(de.ASSUME_SHIFT_JIS||H>=3||K>=3)?de.SHIFT_JIS:l&&s?H===2&&T===2||fe*10>=a?de.SHIFT_JIS:de.ISO88591:l?de.ISO88591:s?de.SHIFT_JIS:u?de.UTF8:de.PLATFORM_DEFAULT_ENCODING}static format(t,...r){let a=-1;function l(u,c,h,x,w,v){if(u==="%%")return"%";if(r[++a]===void 0)return;u=x?parseInt(x.substr(1)):void 0;let T=w?parseInt(w.substr(1)):void 0,B;switch(v){case"s":B=r[a];break;case"c":B=r[a][0];break;case"f":B=parseFloat(r[a]).toFixed(u);break;case"p":B=parseFloat(r[a]).toPrecision(u);break;case"e":B=parseFloat(r[a]).toExponential(u);break;case"x":B=parseInt(r[a]).toString(T||16);break;case"d":B=parseFloat(parseInt(r[a],T||10).toPrecision(u)).toFixed(0);break}B=typeof B=="object"?JSON.stringify(B):(+B).toString(T);let j=parseInt(h),H=h&&h[0]+""=="0"?"0":" ";for(;B.length<j;)B=c!==void 0?B+H:H+B;return B}let s=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return t.replace(s,l)}static getBytes(t,r){return qe.encode(t,r)}static getCharCode(t,r=0){return t.charCodeAt(r)}static getCharAt(t){return String.fromCharCode(t)}}de.SHIFT_JIS=ce.SJIS.getName(),de.GB2312="GB2312",de.ISO88591=ce.ISO8859_1.getName(),de.EUC_JP="EUC_JP",de.UTF8=ce.UTF8.getName(),de.PLATFORM_DEFAULT_ENCODING=de.UTF8,de.ASSUME_SHIFT_JIS=!1;class Re{constructor(t=""){this.value=t}enableDecoding(t){return this.encoding=t,this}append(t){return typeof t=="string"?this.value+=t.toString():this.encoding?this.value+=de.castAsNonUtf8Char(t,this.encoding):this.value+=String.fromCharCode(t),this}appendChars(t,r,a){for(let l=r;r<r+a;l++)this.append(t[l]);return this}length(){return this.value.length}charAt(t){return this.value.charAt(t)}deleteCharAt(t){this.value=this.value.substr(0,t)+this.value.substring(t+1)}setCharAt(t,r){this.value=this.value.substr(0,t)+r+this.value.substr(t+1)}substring(t,r){return this.value.substring(t,r)}setLengthToZero(){this.value=""}toString(){return this.value}insert(t,r){this.value=this.value.substr(0,t)+r+this.value.substr(t+r.length)}}class _e{constructor(t,r,a,l){if(this.width=t,this.height=r,this.rowSize=a,this.bits=l,r==null&&(r=t),this.height=r,t<1||r<1)throw new I("Both dimensions must be greater than 0");a==null&&(a=Math.floor((t+31)/32)),this.rowSize=a,l==null&&(this.bits=new Int32Array(this.rowSize*this.height))}static parseFromBooleanArray(t){const r=t.length,a=t[0].length,l=new _e(a,r);for(let s=0;s<r;s++){const u=t[s];for(let c=0;c<a;c++)u[c]&&l.set(c,s)}return l}static parseFromString(t,r,a){if(t===null)throw new I("stringRepresentation cannot be null");const l=new Array(t.length);let s=0,u=0,c=-1,h=0,x=0;for(;x<t.length;)if(t.charAt(x)===`
`||t.charAt(x)==="\r"){if(s>u){if(c===-1)c=s-u;else if(s-u!==c)throw new I("row lengths do not match");u=s,h++}x++}else if(t.substring(x,x+r.length)===r)x+=r.length,l[s]=!0,s++;else if(t.substring(x,x+a.length)===a)x+=a.length,l[s]=!1,s++;else throw new I("illegal character encountered: "+t.substring(x));if(s>u){if(c===-1)c=s-u;else if(s-u!==c)throw new I("row lengths do not match");h++}const w=new _e(c,h);for(let v=0;v<s;v++)l[v]&&w.set(Math.floor(v%c),Math.floor(v/c));return w}get(t,r){const a=r*this.rowSize+Math.floor(t/32);return(this.bits[a]>>>(t&31)&1)!==0}set(t,r){const a=r*this.rowSize+Math.floor(t/32);this.bits[a]|=1<<(t&31)&4294967295}unset(t,r){const a=r*this.rowSize+Math.floor(t/32);this.bits[a]&=~(1<<(t&31)&4294967295)}flip(t,r){const a=r*this.rowSize+Math.floor(t/32);this.bits[a]^=1<<(t&31)&4294967295}xor(t){if(this.width!==t.getWidth()||this.height!==t.getHeight()||this.rowSize!==t.getRowSize())throw new I("input matrix dimensions do not match");const r=new se(Math.floor(this.width/32)+1),a=this.rowSize,l=this.bits;for(let s=0,u=this.height;s<u;s++){const c=s*a,h=t.getRow(s,r).getBitArray();for(let x=0;x<a;x++)l[c+x]^=h[x]}}clear(){const t=this.bits,r=t.length;for(let a=0;a<r;a++)t[a]=0}setRegion(t,r,a,l){if(r<0||t<0)throw new I("Left and top must be nonnegative");if(l<1||a<1)throw new I("Height and width must be at least 1");const s=t+a,u=r+l;if(u>this.height||s>this.width)throw new I("The region must fit inside the matrix");const c=this.rowSize,h=this.bits;for(let x=r;x<u;x++){const w=x*c;for(let v=t;v<s;v++)h[w+Math.floor(v/32)]|=1<<(v&31)&4294967295}}getRow(t,r){r==null||r.getSize()<this.width?r=new se(this.width):r.clear();const a=this.rowSize,l=this.bits,s=t*a;for(let u=0;u<a;u++)r.setBulk(u*32,l[s+u]);return r}setRow(t,r){te.arraycopy(r.getBitArray(),0,this.bits,t*this.rowSize,this.rowSize)}rotate180(){const t=this.getWidth(),r=this.getHeight();let a=new se(t),l=new se(t);for(let s=0,u=Math.floor((r+1)/2);s<u;s++)a=this.getRow(s,a),l=this.getRow(r-1-s,l),a.reverse(),l.reverse(),this.setRow(s,l),this.setRow(r-1-s,a)}getEnclosingRectangle(){const t=this.width,r=this.height,a=this.rowSize,l=this.bits;let s=t,u=r,c=-1,h=-1;for(let x=0;x<r;x++)for(let w=0;w<a;w++){const v=l[x*a+w];if(v!==0){if(x<u&&(u=x),x>h&&(h=x),w*32<s){let T=0;for(;(v<<31-T&4294967295)===0;)T++;w*32+T<s&&(s=w*32+T)}if(w*32+31>c){let T=31;for(;!(v>>>T);)T--;w*32+T>c&&(c=w*32+T)}}}return c<s||h<u?null:Int32Array.from([s,u,c-s+1,h-u+1])}getTopLeftOnBit(){const t=this.rowSize,r=this.bits;let a=0;for(;a<r.length&&r[a]===0;)a++;if(a===r.length)return null;const l=a/t;let s=a%t*32;const u=r[a];let c=0;for(;(u<<31-c&4294967295)===0;)c++;return s+=c,Int32Array.from([s,l])}getBottomRightOnBit(){const t=this.rowSize,r=this.bits;let a=r.length-1;for(;a>=0&&r[a]===0;)a--;if(a<0)return null;const l=Math.floor(a/t);let s=Math.floor(a%t)*32;const u=r[a];let c=31;for(;!(u>>>c);)c--;return s+=c,Int32Array.from([s,l])}getWidth(){return this.width}getHeight(){return this.height}getRowSize(){return this.rowSize}equals(t){if(!(t instanceof _e))return!1;const r=t;return this.width===r.width&&this.height===r.height&&this.rowSize===r.rowSize&&G.equals(this.bits,r.bits)}hashCode(){let t=this.width;return t=31*t+this.width,t=31*t+this.height,t=31*t+this.rowSize,t=31*t+G.hashCode(this.bits),t}toString(t="X ",r="  ",a=`
`){return this.buildToString(t,r,a)}buildToString(t,r,a){let l=new Re;for(let s=0,u=this.height;s<u;s++){for(let c=0,h=this.width;c<h;c++)l.append(this.get(c,s)?t:r);l.append(a)}return l.toString()}clone(){return new _e(this.width,this.height,this.rowSize,this.bits.slice())}}class W extends y{static getNotFoundInstance(){return new W}}W.kind="NotFoundException";class $ extends ue{constructor(t){super(t),this.luminances=$.EMPTY,this.buckets=new Int32Array($.LUMINANCE_BUCKETS)}getBlackRow(t,r){const a=this.getLuminanceSource(),l=a.getWidth();r==null||r.getSize()<l?r=new se(l):r.clear(),this.initArrays(l);const s=a.getRow(t,this.luminances),u=this.buckets;for(let h=0;h<l;h++)u[(s[h]&255)>>$.LUMINANCE_SHIFT]++;const c=$.estimateBlackPoint(u);if(l<3)for(let h=0;h<l;h++)(s[h]&255)<c&&r.set(h);else{let h=s[0]&255,x=s[1]&255;for(let w=1;w<l-1;w++){const v=s[w+1]&255;(x*4-h-v)/2<c&&r.set(w),h=x,x=v}}return r}getBlackMatrix(){const t=this.getLuminanceSource(),r=t.getWidth(),a=t.getHeight(),l=new _e(r,a);this.initArrays(r);const s=this.buckets;for(let h=1;h<5;h++){const x=Math.floor(a*h/5),w=t.getRow(x,this.luminances),v=Math.floor(r*4/5);for(let T=Math.floor(r/5);T<v;T++){const B=w[T]&255;s[B>>$.LUMINANCE_SHIFT]++}}const u=$.estimateBlackPoint(s),c=t.getMatrix();for(let h=0;h<a;h++){const x=h*r;for(let w=0;w<r;w++)(c[x+w]&255)<u&&l.set(w,h)}return l}createBinarizer(t){return new $(t)}initArrays(t){this.luminances.length<t&&(this.luminances=new Uint8ClampedArray(t));const r=this.buckets;for(let a=0;a<$.LUMINANCE_BUCKETS;a++)r[a]=0}static estimateBlackPoint(t){const r=t.length;let a=0,l=0,s=0;for(let w=0;w<r;w++)t[w]>s&&(l=w,s=t[w]),t[w]>a&&(a=t[w]);let u=0,c=0;for(let w=0;w<r;w++){const v=w-l,T=t[w]*v*v;T>c&&(u=w,c=T)}if(l>u){const w=l;l=u,u=w}if(u-l<=r/16)throw new W;let h=u-1,x=-1;for(let w=u-1;w>l;w--){const v=w-l,T=v*v*(u-w)*(a-t[w]);T>x&&(h=w,x=T)}return h<<$.LUMINANCE_SHIFT}}$.LUMINANCE_BITS=5,$.LUMINANCE_SHIFT=8-$.LUMINANCE_BITS,$.LUMINANCE_BUCKETS=1<<$.LUMINANCE_BITS,$.EMPTY=Uint8ClampedArray.from([0]);class Ve extends ${constructor(t){super(t),this.matrix=null}getBlackMatrix(){if(this.matrix!==null)return this.matrix;const t=this.getLuminanceSource(),r=t.getWidth(),a=t.getHeight();if(r>=Ve.MINIMUM_DIMENSION&&a>=Ve.MINIMUM_DIMENSION){const l=t.getMatrix();let s=r>>Ve.BLOCK_SIZE_POWER;(r&Ve.BLOCK_SIZE_MASK)!==0&&s++;let u=a>>Ve.BLOCK_SIZE_POWER;(a&Ve.BLOCK_SIZE_MASK)!==0&&u++;const c=Ve.calculateBlackPoints(l,s,u,r,a),h=new _e(r,a);Ve.calculateThresholdForBlock(l,s,u,r,a,c,h),this.matrix=h}else this.matrix=super.getBlackMatrix();return this.matrix}createBinarizer(t){return new Ve(t)}static calculateThresholdForBlock(t,r,a,l,s,u,c){const h=s-Ve.BLOCK_SIZE,x=l-Ve.BLOCK_SIZE;for(let w=0;w<a;w++){let v=w<<Ve.BLOCK_SIZE_POWER;v>h&&(v=h);const T=Ve.cap(w,2,a-3);for(let B=0;B<r;B++){let j=B<<Ve.BLOCK_SIZE_POWER;j>x&&(j=x);const H=Ve.cap(B,2,r-3);let K=0;for(let Te=-2;Te<=2;Te++){const ve=u[T+Te];K+=ve[H-2]+ve[H-1]+ve[H]+ve[H+1]+ve[H+2]}const fe=K/25;Ve.thresholdBlock(t,j,v,fe,l,c)}}}static cap(t,r,a){return t<r?r:t>a?a:t}static thresholdBlock(t,r,a,l,s,u){for(let c=0,h=a*s+r;c<Ve.BLOCK_SIZE;c++,h+=s)for(let x=0;x<Ve.BLOCK_SIZE;x++)(t[h+x]&255)<=l&&u.set(r+x,a+c)}static calculateBlackPoints(t,r,a,l,s){const u=s-Ve.BLOCK_SIZE,c=l-Ve.BLOCK_SIZE,h=new Array(a);for(let x=0;x<a;x++){h[x]=new Int32Array(r);let w=x<<Ve.BLOCK_SIZE_POWER;w>u&&(w=u);for(let v=0;v<r;v++){let T=v<<Ve.BLOCK_SIZE_POWER;T>c&&(T=c);let B=0,j=255,H=0;for(let fe=0,Te=w*l+T;fe<Ve.BLOCK_SIZE;fe++,Te+=l){for(let ve=0;ve<Ve.BLOCK_SIZE;ve++){const be=t[Te+ve]&255;B+=be,be<j&&(j=be),be>H&&(H=be)}if(H-j>Ve.MIN_DYNAMIC_RANGE)for(fe++,Te+=l;fe<Ve.BLOCK_SIZE;fe++,Te+=l)for(let ve=0;ve<Ve.BLOCK_SIZE;ve++)B+=t[Te+ve]&255}let K=B>>Ve.BLOCK_SIZE_POWER*2;if(H-j<=Ve.MIN_DYNAMIC_RANGE&&(K=j/2,x>0&&v>0)){const fe=(h[x-1][v]+2*h[x][v-1]+h[x-1][v-1])/4;j<fe&&(K=fe)}h[x][v]=K}}return h}}Ve.BLOCK_SIZE_POWER=3,Ve.BLOCK_SIZE=1<<Ve.BLOCK_SIZE_POWER,Ve.BLOCK_SIZE_MASK=Ve.BLOCK_SIZE-1,Ve.MINIMUM_DIMENSION=Ve.BLOCK_SIZE*5,Ve.MIN_DYNAMIC_RANGE=24;class we{constructor(t,r){this.width=t,this.height=r}getWidth(){return this.width}getHeight(){return this.height}isCropSupported(){return!1}crop(t,r,a,l){throw new Ze("This luminance source does not support cropping.")}isRotateSupported(){return!1}rotateCounterClockwise(){throw new Ze("This luminance source does not support rotation by 90 degrees.")}rotateCounterClockwise45(){throw new Ze("This luminance source does not support rotation by 45 degrees.")}toString(){const t=new Uint8ClampedArray(this.width);let r=new Re;for(let a=0;a<this.height;a++){const l=this.getRow(a,t);for(let s=0;s<this.width;s++){const u=l[s]&255;let c;u<64?c="#":u<128?c="+":u<192?c=".":c=" ",r.append(c)}r.append(`
`)}return r.toString()}}class Oe extends we{constructor(t){super(t.getWidth(),t.getHeight()),this.delegate=t}getRow(t,r){const a=this.delegate.getRow(t,r),l=this.getWidth();for(let s=0;s<l;s++)a[s]=255-(a[s]&255);return a}getMatrix(){const t=this.delegate.getMatrix(),r=this.getWidth()*this.getHeight(),a=new Uint8ClampedArray(r);for(let l=0;l<r;l++)a[l]=255-(t[l]&255);return a}isCropSupported(){return this.delegate.isCropSupported()}crop(t,r,a,l){return new Oe(this.delegate.crop(t,r,a,l))}isRotateSupported(){return this.delegate.isRotateSupported()}invert(){return this.delegate}rotateCounterClockwise(){return new Oe(this.delegate.rotateCounterClockwise())}rotateCounterClockwise45(){return new Oe(this.delegate.rotateCounterClockwise45())}}class Ie extends we{constructor(t){super(t.width,t.height),this.canvas=t,this.tempCanvasElement=null,this.buffer=Ie.makeBufferFromCanvasImageData(t)}static makeBufferFromCanvasImageData(t){const r=t.getContext("2d").getImageData(0,0,t.width,t.height);return Ie.toGrayscaleBuffer(r.data,t.width,t.height)}static toGrayscaleBuffer(t,r,a){const l=new Uint8ClampedArray(r*a);for(let s=0,u=0,c=t.length;s<c;s+=4,u++){let h;if(t[s+3]===0)h=255;else{const w=t[s],v=t[s+1],T=t[s+2];h=306*w+601*v+117*T+512>>10}l[u]=h}return l}getRow(t,r){if(t<0||t>=this.getHeight())throw new I("Requested row is outside the image: "+t);const a=this.getWidth(),l=t*a;return r===null?r=this.buffer.slice(l,l+a):(r.length<a&&(r=new Uint8ClampedArray(a)),r.set(this.buffer.slice(l,l+a))),r}getMatrix(){return this.buffer}isCropSupported(){return!0}crop(t,r,a,l){return super.crop(t,r,a,l),this}isRotateSupported(){return!0}rotateCounterClockwise(){return this.rotate(-90),this}rotateCounterClockwise45(){return this.rotate(-45),this}getTempCanvasElement(){if(this.tempCanvasElement===null){const t=this.canvas.ownerDocument.createElement("canvas");t.width=this.canvas.width,t.height=this.canvas.height,this.tempCanvasElement=t}return this.tempCanvasElement}rotate(t){const r=this.getTempCanvasElement(),a=r.getContext("2d"),l=t*Ie.DEGREE_TO_RADIANS,s=this.canvas.width,u=this.canvas.height,c=Math.ceil(Math.abs(Math.cos(l))*s+Math.abs(Math.sin(l))*u),h=Math.ceil(Math.abs(Math.sin(l))*s+Math.abs(Math.cos(l))*u);return r.width=c,r.height=h,a.translate(c/2,h/2),a.rotate(l),a.drawImage(this.canvas,s/-2,u/-2),this.buffer=Ie.makeBufferFromCanvasImageData(r),this}invert(){return new Oe(this)}}Ie.DEGREE_TO_RADIANS=Math.PI/180;class L{constructor(t,r,a){this.deviceId=t,this.label=r,this.kind="videoinput",this.groupId=a||void 0}toJSON(){return{kind:this.kind,groupId:this.groupId,deviceId:this.deviceId,label:this.label}}}var U=(globalThis||Uo||self||window||void 0)&&(globalThis||Uo||self||window||void 0).__awaiter||function(C,t,r,a){function l(s){return s instanceof r?s:new r(function(u){u(s)})}return new(r||(r=Promise))(function(s,u){function c(w){try{x(a.next(w))}catch(v){u(v)}}function h(w){try{x(a.throw(w))}catch(v){u(v)}}function x(w){w.done?s(w.value):l(w.value).then(c,h)}x((a=a.apply(C,t||[])).next())})};class Y{constructor(t,r=500,a){this.reader=t,this.timeBetweenScansMillis=r,this._hints=a,this._stopContinuousDecode=!1,this._stopAsyncDecode=!1,this._timeBetweenDecodingAttempts=0}get hasNavigator(){return typeof navigator<"u"}get isMediaDevicesSuported(){return this.hasNavigator&&!!navigator.mediaDevices}get canEnumerateDevices(){return!!(this.isMediaDevicesSuported&&navigator.mediaDevices.enumerateDevices)}get timeBetweenDecodingAttempts(){return this._timeBetweenDecodingAttempts}set timeBetweenDecodingAttempts(t){this._timeBetweenDecodingAttempts=t<0?0:t}set hints(t){this._hints=t||null}get hints(){return this._hints}listVideoInputDevices(){return U(this,void 0,void 0,function*(){if(!this.hasNavigator)throw new Error("Can't enumerate devices, navigator is not present.");if(!this.canEnumerateDevices)throw new Error("Can't enumerate devices, method not supported.");const t=yield navigator.mediaDevices.enumerateDevices(),r=[];for(const a of t){const l=a.kind==="video"?"videoinput":a.kind;if(l!=="videoinput")continue;const s=a.deviceId||a.id,u=a.label||`Video device ${r.length+1}`,c=a.groupId,h={deviceId:s,label:u,kind:l,groupId:c};r.push(h)}return r})}getVideoInputDevices(){return U(this,void 0,void 0,function*(){return(yield this.listVideoInputDevices()).map(r=>new L(r.deviceId,r.label))})}findDeviceById(t){return U(this,void 0,void 0,function*(){const r=yield this.listVideoInputDevices();return r?r.find(a=>a.deviceId===t):null})}decodeFromInputVideoDevice(t,r){return U(this,void 0,void 0,function*(){return yield this.decodeOnceFromVideoDevice(t,r)})}decodeOnceFromVideoDevice(t,r){return U(this,void 0,void 0,function*(){this.reset();let a;t?a={deviceId:{exact:t}}:a={facingMode:"environment"};const l={video:a};return yield this.decodeOnceFromConstraints(l,r)})}decodeOnceFromConstraints(t,r){return U(this,void 0,void 0,function*(){const a=yield navigator.mediaDevices.getUserMedia(t);return yield this.decodeOnceFromStream(a,r)})}decodeOnceFromStream(t,r){return U(this,void 0,void 0,function*(){this.reset();const a=yield this.attachStreamToVideo(t,r);return yield this.decodeOnce(a)})}decodeFromInputVideoDeviceContinuously(t,r,a){return U(this,void 0,void 0,function*(){return yield this.decodeFromVideoDevice(t,r,a)})}decodeFromVideoDevice(t,r,a){return U(this,void 0,void 0,function*(){let l;t?l={deviceId:{exact:t}}:l={facingMode:"environment"};const s={video:l};return yield this.decodeFromConstraints(s,r,a)})}decodeFromConstraints(t,r,a){return U(this,void 0,void 0,function*(){const l=yield navigator.mediaDevices.getUserMedia(t);return yield this.decodeFromStream(l,r,a)})}decodeFromStream(t,r,a){return U(this,void 0,void 0,function*(){this.reset();const l=yield this.attachStreamToVideo(t,r);return yield this.decodeContinuously(l,a)})}stopAsyncDecode(){this._stopAsyncDecode=!0}stopContinuousDecode(){this._stopContinuousDecode=!0}attachStreamToVideo(t,r){return U(this,void 0,void 0,function*(){const a=this.prepareVideoElement(r);return this.addVideoSource(a,t),this.videoElement=a,this.stream=t,yield this.playVideoOnLoadAsync(a),a})}playVideoOnLoadAsync(t){return new Promise((r,a)=>this.playVideoOnLoad(t,()=>r()))}playVideoOnLoad(t,r){this.videoEndedListener=()=>this.stopStreams(),this.videoCanPlayListener=()=>this.tryPlayVideo(t),t.addEventListener("ended",this.videoEndedListener),t.addEventListener("canplay",this.videoCanPlayListener),t.addEventListener("playing",r),this.tryPlayVideo(t)}isVideoPlaying(t){return t.currentTime>0&&!t.paused&&!t.ended&&t.readyState>2}tryPlayVideo(t){return U(this,void 0,void 0,function*(){if(this.isVideoPlaying(t)){console.warn("Trying to play video that is already playing.");return}try{yield t.play()}catch{console.warn("It was not possible to play the video.")}})}getMediaElement(t,r){const a=document.getElementById(t);if(!a)throw new _(`element with id '${t}' not found`);if(a.nodeName.toLowerCase()!==r.toLowerCase())throw new _(`element with id '${t}' must be an ${r} element`);return a}decodeFromImage(t,r){if(!t&&!r)throw new _("either imageElement with a src set or an url must be provided");return r&&!t?this.decodeFromImageUrl(r):this.decodeFromImageElement(t)}decodeFromVideo(t,r){if(!t&&!r)throw new _("Either an element with a src set or an URL must be provided");return r&&!t?this.decodeFromVideoUrl(r):this.decodeFromVideoElement(t)}decodeFromVideoContinuously(t,r,a){if(t===void 0&&r===void 0)throw new _("Either an element with a src set or an URL must be provided");return r&&!t?this.decodeFromVideoUrlContinuously(r,a):this.decodeFromVideoElementContinuously(t,a)}decodeFromImageElement(t){if(!t)throw new _("An image element must be provided.");this.reset();const r=this.prepareImageElement(t);this.imageElement=r;let a;return this.isImageLoaded(r)?a=this.decodeOnce(r,!1,!0):a=this._decodeOnLoadImage(r),a}decodeFromVideoElement(t){const r=this._decodeFromVideoElementSetup(t);return this._decodeOnLoadVideo(r)}decodeFromVideoElementContinuously(t,r){const a=this._decodeFromVideoElementSetup(t);return this._decodeOnLoadVideoContinuously(a,r)}_decodeFromVideoElementSetup(t){if(!t)throw new _("A video element must be provided.");this.reset();const r=this.prepareVideoElement(t);return this.videoElement=r,r}decodeFromImageUrl(t){if(!t)throw new _("An URL must be provided.");this.reset();const r=this.prepareImageElement();this.imageElement=r;const a=this._decodeOnLoadImage(r);return r.src=t,a}decodeFromVideoUrl(t){if(!t)throw new _("An URL must be provided.");this.reset();const r=this.prepareVideoElement(),a=this.decodeFromVideoElement(r);return r.src=t,a}decodeFromVideoUrlContinuously(t,r){if(!t)throw new _("An URL must be provided.");this.reset();const a=this.prepareVideoElement(),l=this.decodeFromVideoElementContinuously(a,r);return a.src=t,l}_decodeOnLoadImage(t){return new Promise((r,a)=>{this.imageLoadedListener=()=>this.decodeOnce(t,!1,!0).then(r,a),t.addEventListener("load",this.imageLoadedListener)})}_decodeOnLoadVideo(t){return U(this,void 0,void 0,function*(){return yield this.playVideoOnLoadAsync(t),yield this.decodeOnce(t)})}_decodeOnLoadVideoContinuously(t,r){return U(this,void 0,void 0,function*(){yield this.playVideoOnLoadAsync(t),this.decodeContinuously(t,r)})}isImageLoaded(t){return!(!t.complete||t.naturalWidth===0)}prepareImageElement(t){let r;return typeof t>"u"&&(r=document.createElement("img"),r.width=200,r.height=200),typeof t=="string"&&(r=this.getMediaElement(t,"img")),t instanceof HTMLImageElement&&(r=t),r}prepareVideoElement(t){let r;return!t&&typeof document<"u"&&(r=document.createElement("video"),r.width=200,r.height=200),typeof t=="string"&&(r=this.getMediaElement(t,"video")),t instanceof HTMLVideoElement&&(r=t),r.setAttribute("autoplay","true"),r.setAttribute("muted","true"),r.setAttribute("playsinline","true"),r}decodeOnce(t,r=!0,a=!0){this._stopAsyncDecode=!1;const l=(s,u)=>{if(this._stopAsyncDecode){u(new W("Video stream has ended before any code could be detected.")),this._stopAsyncDecode=void 0;return}try{const c=this.decode(t);s(c)}catch(c){const h=r&&c instanceof W,w=(c instanceof ne||c instanceof Q)&&a;if(h||w)return setTimeout(l,this._timeBetweenDecodingAttempts,s,u);u(c)}};return new Promise((s,u)=>l(s,u))}decodeContinuously(t,r){this._stopContinuousDecode=!1;const a=()=>{if(this._stopContinuousDecode){this._stopContinuousDecode=void 0;return}try{const l=this.decode(t);r(l,null),setTimeout(a,this.timeBetweenScansMillis)}catch(l){r(null,l);const s=l instanceof ne||l instanceof Q,u=l instanceof W;(s||u)&&setTimeout(a,this._timeBetweenDecodingAttempts)}};a()}decode(t){const r=this.createBinaryBitmap(t);return this.decodeBitmap(r)}_isHTMLVideoElement(t){return t.videoWidth!==0}drawFrameOnCanvas(t,r,a){r||(r={sx:0,sy:0,sWidth:t.videoWidth,sHeight:t.videoHeight,dx:0,dy:0,dWidth:t.videoWidth,dHeight:t.videoHeight}),a||(a=this.captureCanvasContext),a.drawImage(t,r.sx,r.sy,r.sWidth,r.sHeight,r.dx,r.dy,r.dWidth,r.dHeight)}drawImageOnCanvas(t,r,a=this.captureCanvasContext){r||(r={sx:0,sy:0,sWidth:t.naturalWidth,sHeight:t.naturalHeight,dx:0,dy:0,dWidth:t.naturalWidth,dHeight:t.naturalHeight}),a||(a=this.captureCanvasContext),a.drawImage(t,r.sx,r.sy,r.sWidth,r.sHeight,r.dx,r.dy,r.dWidth,r.dHeight)}createBinaryBitmap(t){this.getCaptureCanvasContext(t),this._isHTMLVideoElement(t)?this.drawFrameOnCanvas(t):this.drawImageOnCanvas(t);const r=this.getCaptureCanvas(t),a=new Ie(r),l=new Ve(a);return new J(l)}getCaptureCanvasContext(t){if(!this.captureCanvasContext){const a=this.getCaptureCanvas(t).getContext("2d");this.captureCanvasContext=a}return this.captureCanvasContext}getCaptureCanvas(t){if(!this.captureCanvas){const r=this.createCaptureCanvas(t);this.captureCanvas=r}return this.captureCanvas}decodeBitmap(t){return this.reader.decode(t,this._hints)}createCaptureCanvas(t){if(typeof document>"u")return this._destroyCaptureCanvas(),null;const r=document.createElement("canvas");let a,l;return typeof t<"u"&&(t instanceof HTMLVideoElement?(a=t.videoWidth,l=t.videoHeight):t instanceof HTMLImageElement&&(a=t.naturalWidth||t.width,l=t.naturalHeight||t.height)),r.style.width=a+"px",r.style.height=l+"px",r.width=a,r.height=l,r}stopStreams(){this.stream&&(this.stream.getVideoTracks().forEach(t=>t.stop()),this.stream=void 0),this._stopAsyncDecode===!1&&this.stopAsyncDecode(),this._stopContinuousDecode===!1&&this.stopContinuousDecode()}reset(){this.stopStreams(),this._destroyVideoElement(),this._destroyImageElement(),this._destroyCaptureCanvas()}_destroyVideoElement(){this.videoElement&&(typeof this.videoEndedListener<"u"&&this.videoElement.removeEventListener("ended",this.videoEndedListener),typeof this.videoPlayingEventListener<"u"&&this.videoElement.removeEventListener("playing",this.videoPlayingEventListener),typeof this.videoCanPlayListener<"u"&&this.videoElement.removeEventListener("loadedmetadata",this.videoCanPlayListener),this.cleanVideoSource(this.videoElement),this.videoElement=void 0)}_destroyImageElement(){this.imageElement&&(this.imageLoadedListener!==void 0&&this.imageElement.removeEventListener("load",this.imageLoadedListener),this.imageElement.src=void 0,this.imageElement.removeAttribute("src"),this.imageElement=void 0)}_destroyCaptureCanvas(){this.captureCanvasContext=void 0,this.captureCanvas=void 0}addVideoSource(t,r){try{t.srcObject=r}catch{t.src=URL.createObjectURL(r)}}cleanVideoSource(t){try{t.srcObject=null}catch{t.src=""}this.videoElement.removeAttribute("src")}}class ae{constructor(t,r,a=r==null?0:8*r.length,l,s,u=te.currentTimeMillis()){this.text=t,this.rawBytes=r,this.numBits=a,this.resultPoints=l,this.format=s,this.timestamp=u,this.text=t,this.rawBytes=r,a==null?this.numBits=r==null?0:8*r.length:this.numBits=a,this.resultPoints=l,this.format=s,this.resultMetadata=null,u==null?this.timestamp=te.currentTimeMillis():this.timestamp=u}getText(){return this.text}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}getResultPoints(){return this.resultPoints}getBarcodeFormat(){return this.format}getResultMetadata(){return this.resultMetadata}putMetadata(t,r){this.resultMetadata===null&&(this.resultMetadata=new Map),this.resultMetadata.set(t,r)}putAllMetadata(t){t!==null&&(this.resultMetadata===null?this.resultMetadata=t:this.resultMetadata=new Map(t))}addResultPoints(t){const r=this.resultPoints;if(r===null)this.resultPoints=t;else if(t!==null&&t.length>0){const a=new Array(r.length+t.length);te.arraycopy(r,0,a,0,r.length),te.arraycopy(t,0,a,r.length,t.length),this.resultPoints=a}}getTimestamp(){return this.timestamp}toString(){return this.text}}var Ce;(function(C){C[C.AZTEC=0]="AZTEC",C[C.CODABAR=1]="CODABAR",C[C.CODE_39=2]="CODE_39",C[C.CODE_93=3]="CODE_93",C[C.CODE_128=4]="CODE_128",C[C.DATA_MATRIX=5]="DATA_MATRIX",C[C.EAN_8=6]="EAN_8",C[C.EAN_13=7]="EAN_13",C[C.ITF=8]="ITF",C[C.MAXICODE=9]="MAXICODE",C[C.PDF_417=10]="PDF_417",C[C.QR_CODE=11]="QR_CODE",C[C.RSS_14=12]="RSS_14",C[C.RSS_EXPANDED=13]="RSS_EXPANDED",C[C.UPC_A=14]="UPC_A",C[C.UPC_E=15]="UPC_E",C[C.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(Ce||(Ce={}));var ie=Ce,ze;(function(C){C[C.OTHER=0]="OTHER",C[C.ORIENTATION=1]="ORIENTATION",C[C.BYTE_SEGMENTS=2]="BYTE_SEGMENTS",C[C.ERROR_CORRECTION_LEVEL=3]="ERROR_CORRECTION_LEVEL",C[C.ISSUE_NUMBER=4]="ISSUE_NUMBER",C[C.SUGGESTED_PRICE=5]="SUGGESTED_PRICE",C[C.POSSIBLE_COUNTRY=6]="POSSIBLE_COUNTRY",C[C.UPC_EAN_EXTENSION=7]="UPC_EAN_EXTENSION",C[C.PDF417_EXTRA_METADATA=8]="PDF417_EXTRA_METADATA",C[C.STRUCTURED_APPEND_SEQUENCE=9]="STRUCTURED_APPEND_SEQUENCE",C[C.STRUCTURED_APPEND_PARITY=10]="STRUCTURED_APPEND_PARITY"})(ze||(ze={}));var je=ze;class Je{constructor(t,r,a,l,s=-1,u=-1){this.rawBytes=t,this.text=r,this.byteSegments=a,this.ecLevel=l,this.structuredAppendSequenceNumber=s,this.structuredAppendParity=u,this.numBits=t==null?0:8*t.length}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}setNumBits(t){this.numBits=t}getText(){return this.text}getByteSegments(){return this.byteSegments}getECLevel(){return this.ecLevel}getErrorsCorrected(){return this.errorsCorrected}setErrorsCorrected(t){this.errorsCorrected=t}getErasures(){return this.erasures}setErasures(t){this.erasures=t}getOther(){return this.other}setOther(t){this.other=t}hasStructuredAppend(){return this.structuredAppendParity>=0&&this.structuredAppendSequenceNumber>=0}getStructuredAppendParity(){return this.structuredAppendParity}getStructuredAppendSequenceNumber(){return this.structuredAppendSequenceNumber}}class pt{exp(t){return this.expTable[t]}log(t){if(t===0)throw new I;return this.logTable[t]}static addOrSubtract(t,r){return t^r}}class At{constructor(t,r){if(r.length===0)throw new I;this.field=t;const a=r.length;if(a>1&&r[0]===0){let l=1;for(;l<a&&r[l]===0;)l++;l===a?this.coefficients=Int32Array.from([0]):(this.coefficients=new Int32Array(a-l),te.arraycopy(r,l,this.coefficients,0,this.coefficients.length))}else this.coefficients=r}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(t){return this.coefficients[this.coefficients.length-1-t]}evaluateAt(t){if(t===0)return this.getCoefficient(0);const r=this.coefficients;let a;if(t===1){a=0;for(let u=0,c=r.length;u!==c;u++){const h=r[u];a=pt.addOrSubtract(a,h)}return a}a=r[0];const l=r.length,s=this.field;for(let u=1;u<l;u++)a=pt.addOrSubtract(s.multiply(t,a),r[u]);return a}addOrSubtract(t){if(!this.field.equals(t.field))throw new I("GenericGFPolys do not have same GenericGF field");if(this.isZero())return t;if(t.isZero())return this;let r=this.coefficients,a=t.coefficients;if(r.length>a.length){const u=r;r=a,a=u}let l=new Int32Array(a.length);const s=a.length-r.length;te.arraycopy(a,0,l,0,s);for(let u=s;u<a.length;u++)l[u]=pt.addOrSubtract(r[u-s],a[u]);return new At(this.field,l)}multiply(t){if(!this.field.equals(t.field))throw new I("GenericGFPolys do not have same GenericGF field");if(this.isZero()||t.isZero())return this.field.getZero();const r=this.coefficients,a=r.length,l=t.coefficients,s=l.length,u=new Int32Array(a+s-1),c=this.field;for(let h=0;h<a;h++){const x=r[h];for(let w=0;w<s;w++)u[h+w]=pt.addOrSubtract(u[h+w],c.multiply(x,l[w]))}return new At(c,u)}multiplyScalar(t){if(t===0)return this.field.getZero();if(t===1)return this;const r=this.coefficients.length,a=this.field,l=new Int32Array(r),s=this.coefficients;for(let u=0;u<r;u++)l[u]=a.multiply(s[u],t);return new At(a,l)}multiplyByMonomial(t,r){if(t<0)throw new I;if(r===0)return this.field.getZero();const a=this.coefficients,l=a.length,s=new Int32Array(l+t),u=this.field;for(let c=0;c<l;c++)s[c]=u.multiply(a[c],r);return new At(u,s)}divide(t){if(!this.field.equals(t.field))throw new I("GenericGFPolys do not have same GenericGF field");if(t.isZero())throw new I("Divide by 0");const r=this.field;let a=r.getZero(),l=this;const s=t.getCoefficient(t.getDegree()),u=r.inverse(s);for(;l.getDegree()>=t.getDegree()&&!l.isZero();){const c=l.getDegree()-t.getDegree(),h=r.multiply(l.getCoefficient(l.getDegree()),u),x=t.multiplyByMonomial(c,h),w=r.buildMonomial(c,h);a=a.addOrSubtract(w),l=l.addOrSubtract(x)}return[a,l]}toString(){let t="";for(let r=this.getDegree();r>=0;r--){let a=this.getCoefficient(r);if(a!==0){if(a<0?(t+=" - ",a=-a):t.length>0&&(t+=" + "),r===0||a!==1){const l=this.field.log(a);l===0?t+="1":l===1?t+="a":(t+="a^",t+=l)}r!==0&&(r===1?t+="x":(t+="x^",t+=r))}}return t}}class We extends y{}We.kind="ArithmeticException";class Ue extends pt{constructor(t,r,a){super(),this.primitive=t,this.size=r,this.generatorBase=a;const l=new Int32Array(r);let s=1;for(let c=0;c<r;c++)l[c]=s,s*=2,s>=r&&(s^=t,s&=r-1);this.expTable=l;const u=new Int32Array(r);for(let c=0;c<r-1;c++)u[l[c]]=c;this.logTable=u,this.zero=new At(this,Int32Array.from([0])),this.one=new At(this,Int32Array.from([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(t,r){if(t<0)throw new I;if(r===0)return this.zero;const a=new Int32Array(t+1);return a[0]=r,new At(this,a)}inverse(t){if(t===0)throw new We;return this.expTable[this.size-this.logTable[t]-1]}multiply(t,r){return t===0||r===0?0:this.expTable[(this.logTable[t]+this.logTable[r])%(this.size-1)]}getSize(){return this.size}getGeneratorBase(){return this.generatorBase}toString(){return"GF(0x"+X.toHexString(this.primitive)+","+this.size+")"}equals(t){return t===this}}Ue.AZTEC_DATA_12=new Ue(4201,4096,1),Ue.AZTEC_DATA_10=new Ue(1033,1024,1),Ue.AZTEC_DATA_6=new Ue(67,64,1),Ue.AZTEC_PARAM=new Ue(19,16,1),Ue.QR_CODE_FIELD_256=new Ue(285,256,0),Ue.DATA_MATRIX_FIELD_256=new Ue(301,256,1),Ue.AZTEC_DATA_8=Ue.DATA_MATRIX_FIELD_256,Ue.MAXICODE_FIELD_64=Ue.AZTEC_DATA_6;class It extends y{}It.kind="ReedSolomonException";class Dt extends y{}Dt.kind="IllegalStateException";class jn{constructor(t){this.field=t}decode(t,r){const a=this.field,l=new At(a,t),s=new Int32Array(r);let u=!0;for(let B=0;B<r;B++){const j=l.evaluateAt(a.exp(B+a.getGeneratorBase()));s[s.length-1-B]=j,j!==0&&(u=!1)}if(u)return;const c=new At(a,s),h=this.runEuclideanAlgorithm(a.buildMonomial(r,1),c,r),x=h[0],w=h[1],v=this.findErrorLocations(x),T=this.findErrorMagnitudes(w,v);for(let B=0;B<v.length;B++){const j=t.length-1-a.log(v[B]);if(j<0)throw new It("Bad error location");t[j]=Ue.addOrSubtract(t[j],T[B])}}runEuclideanAlgorithm(t,r,a){if(t.getDegree()<r.getDegree()){const B=t;t=r,r=B}const l=this.field;let s=t,u=r,c=l.getZero(),h=l.getOne();for(;u.getDegree()>=(a/2|0);){let B=s,j=c;if(s=u,c=h,s.isZero())throw new It("r_{i-1} was zero");u=B;let H=l.getZero();const K=s.getCoefficient(s.getDegree()),fe=l.inverse(K);for(;u.getDegree()>=s.getDegree()&&!u.isZero();){const Te=u.getDegree()-s.getDegree(),ve=l.multiply(u.getCoefficient(u.getDegree()),fe);H=H.addOrSubtract(l.buildMonomial(Te,ve)),u=u.addOrSubtract(s.multiplyByMonomial(Te,ve))}if(h=H.multiply(c).addOrSubtract(j),u.getDegree()>=s.getDegree())throw new Dt("Division algorithm failed to reduce polynomial?")}const x=h.getCoefficient(0);if(x===0)throw new It("sigmaTilde(0) was zero");const w=l.inverse(x),v=h.multiplyScalar(w),T=u.multiplyScalar(w);return[v,T]}findErrorLocations(t){const r=t.getDegree();if(r===1)return Int32Array.from([t.getCoefficient(1)]);const a=new Int32Array(r);let l=0;const s=this.field;for(let u=1;u<s.getSize()&&l<r;u++)t.evaluateAt(u)===0&&(a[l]=s.inverse(u),l++);if(l!==r)throw new It("Error locator degree does not match number of roots");return a}findErrorMagnitudes(t,r){const a=r.length,l=new Int32Array(a),s=this.field;for(let u=0;u<a;u++){const c=s.inverse(r[u]);let h=1;for(let x=0;x<a;x++)if(u!==x){const w=s.multiply(r[x],c),v=(w&1)===0?w|1:w&-2;h=s.multiply(h,v)}l[u]=s.multiply(t.evaluateAt(c),s.inverse(h)),s.getGeneratorBase()!==0&&(l[u]=s.multiply(l[u],c))}return l}}var Mt;(function(C){C[C.UPPER=0]="UPPER",C[C.LOWER=1]="LOWER",C[C.MIXED=2]="MIXED",C[C.DIGIT=3]="DIGIT",C[C.PUNCT=4]="PUNCT",C[C.BINARY=5]="BINARY"})(Mt||(Mt={}));class ct{decode(t){this.ddata=t;let r=t.getBits(),a=this.extractBits(r),l=this.correctBits(a),s=ct.convertBoolArrayToByteArray(l),u=ct.getEncodedData(l),c=new Je(s,u,null,null);return c.setNumBits(l.length),c}static highLevelDecode(t){return this.getEncodedData(t)}static getEncodedData(t){let r=t.length,a=Mt.UPPER,l=Mt.UPPER,s="",u=0;for(;u<r;)if(l===Mt.BINARY){if(r-u<5)break;let c=ct.readCode(t,u,5);if(u+=5,c===0){if(r-u<11)break;c=ct.readCode(t,u,11)+31,u+=11}for(let h=0;h<c;h++){if(r-u<8){u=r;break}const x=ct.readCode(t,u,8);s+=de.castAsNonUtf8Char(x),u+=8}l=a}else{let c=l===Mt.DIGIT?4:5;if(r-u<c)break;let h=ct.readCode(t,u,c);u+=c;let x=ct.getCharacter(l,h);x.startsWith("CTRL_")?(a=l,l=ct.getTable(x.charAt(5)),x.charAt(6)==="L"&&(a=l)):(s+=x,l=a)}return s}static getTable(t){switch(t){case"L":return Mt.LOWER;case"P":return Mt.PUNCT;case"M":return Mt.MIXED;case"D":return Mt.DIGIT;case"B":return Mt.BINARY;default:return Mt.UPPER}}static getCharacter(t,r){switch(t){case Mt.UPPER:return ct.UPPER_TABLE[r];case Mt.LOWER:return ct.LOWER_TABLE[r];case Mt.MIXED:return ct.MIXED_TABLE[r];case Mt.PUNCT:return ct.PUNCT_TABLE[r];case Mt.DIGIT:return ct.DIGIT_TABLE[r];default:throw new Dt("Bad table")}}correctBits(t){let r,a;this.ddata.getNbLayers()<=2?(a=6,r=Ue.AZTEC_DATA_6):this.ddata.getNbLayers()<=8?(a=8,r=Ue.AZTEC_DATA_8):this.ddata.getNbLayers()<=22?(a=10,r=Ue.AZTEC_DATA_10):(a=12,r=Ue.AZTEC_DATA_12);let l=this.ddata.getNbDatablocks(),s=t.length/a;if(s<l)throw new Q;let u=t.length%a,c=new Int32Array(s);for(let T=0;T<s;T++,u+=a)c[T]=ct.readCode(t,u,a);try{new jn(r).decode(c,s-l)}catch(T){throw new Q(T)}let h=(1<<a)-1,x=0;for(let T=0;T<l;T++){let B=c[T];if(B===0||B===h)throw new Q;(B===1||B===h-1)&&x++}let w=new Array(l*a-x),v=0;for(let T=0;T<l;T++){let B=c[T];if(B===1||B===h-1)w.fill(B>1,v,v+a-1),v+=a-1;else for(let j=a-1;j>=0;--j)w[v++]=(B&1<<j)!==0}return w}extractBits(t){let r=this.ddata.isCompact(),a=this.ddata.getNbLayers(),l=(r?11:14)+a*4,s=new Int32Array(l),u=new Array(this.totalBitsInLayer(a,r));if(r)for(let c=0;c<s.length;c++)s[c]=c;else{let c=l+1+2*X.truncDivision(X.truncDivision(l,2)-1,15),h=l/2,x=X.truncDivision(c,2);for(let w=0;w<h;w++){let v=w+X.truncDivision(w,15);s[h-w-1]=x-v-1,s[h+w]=x+v+1}}for(let c=0,h=0;c<a;c++){let x=(a-c)*4+(r?9:12),w=c*2,v=l-1-w;for(let T=0;T<x;T++){let B=T*2;for(let j=0;j<2;j++)u[h+B+j]=t.get(s[w+j],s[w+T]),u[h+2*x+B+j]=t.get(s[w+T],s[v-j]),u[h+4*x+B+j]=t.get(s[v-j],s[v-T]),u[h+6*x+B+j]=t.get(s[v-T],s[w+j])}h+=x*8}return u}static readCode(t,r,a){let l=0;for(let s=r;s<r+a;s++)l<<=1,t[s]&&(l|=1);return l}static readByte(t,r){let a=t.length-r;return a>=8?ct.readCode(t,r,8):ct.readCode(t,r,a)<<8-a}static convertBoolArrayToByteArray(t){let r=new Uint8Array((t.length+7)/8);for(let a=0;a<r.length;a++)r[a]=ct.readByte(t,8*a);return r}totalBitsInLayer(t,r){return((r?88:112)+16*t)*t}}ct.UPPER_TABLE=["CTRL_PS"," ","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","CTRL_LL","CTRL_ML","CTRL_DL","CTRL_BS"],ct.LOWER_TABLE=["CTRL_PS"," ","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","CTRL_US","CTRL_ML","CTRL_DL","CTRL_BS"],ct.MIXED_TABLE=["CTRL_PS"," ","\\1","\\2","\\3","\\4","\\5","\\6","\\7","\b","	",`
`,"\\13","\f","\r","\\33","\\34","\\35","\\36","\\37","@","\\","^","_","`","|","~","\\177","CTRL_LL","CTRL_UL","CTRL_PL","CTRL_BS"],ct.PUNCT_TABLE=["","\r",`\r
`,". ",", ",": ","!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}","CTRL_UL"],ct.DIGIT_TABLE=["CTRL_PS"," ","0","1","2","3","4","5","6","7","8","9",",",".","CTRL_UL","CTRL_US"];class Qe{constructor(){}static round(t){return t===NaN?0:t<=Number.MIN_SAFE_INTEGER?Number.MIN_SAFE_INTEGER:t>=Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:t+(t<0?-.5:.5)|0}static distance(t,r,a,l){const s=t-a,u=r-l;return Math.sqrt(s*s+u*u)}static sum(t){let r=0;for(let a=0,l=t.length;a!==l;a++){const s=t[a];r+=s}return r}}class In{static floatToIntBits(t){return t}}In.MAX_VALUE=Number.MAX_SAFE_INTEGER;class Be{constructor(t,r){this.x=t,this.y=r}getX(){return this.x}getY(){return this.y}equals(t){if(t instanceof Be){const r=t;return this.x===r.x&&this.y===r.y}return!1}hashCode(){return 31*In.floatToIntBits(this.x)+In.floatToIntBits(this.y)}toString(){return"("+this.x+","+this.y+")"}static orderBestPatterns(t){const r=this.distance(t[0],t[1]),a=this.distance(t[1],t[2]),l=this.distance(t[0],t[2]);let s,u,c;if(a>=r&&a>=l?(u=t[0],s=t[1],c=t[2]):l>=a&&l>=r?(u=t[1],s=t[0],c=t[2]):(u=t[2],s=t[0],c=t[1]),this.crossProductZ(s,u,c)<0){const h=s;s=c,c=h}t[0]=s,t[1]=u,t[2]=c}static distance(t,r){return Qe.distance(t.x,t.y,r.x,r.y)}static crossProductZ(t,r,a){const l=r.x,s=r.y;return(a.x-l)*(t.y-s)-(a.y-s)*(t.x-l)}}class Ri{constructor(t,r){this.bits=t,this.points=r}getBits(){return this.bits}getPoints(){return this.points}}class As extends Ri{constructor(t,r,a,l,s){super(t,r),this.compact=a,this.nbDatablocks=l,this.nbLayers=s}getNbLayers(){return this.nbLayers}getNbDatablocks(){return this.nbDatablocks}isCompact(){return this.compact}}class Jt{constructor(t,r,a,l){this.image=t,this.height=t.getHeight(),this.width=t.getWidth(),r==null&&(r=Jt.INIT_SIZE),a==null&&(a=t.getWidth()/2|0),l==null&&(l=t.getHeight()/2|0);const s=r/2|0;if(this.leftInit=a-s,this.rightInit=a+s,this.upInit=l-s,this.downInit=l+s,this.upInit<0||this.leftInit<0||this.downInit>=this.height||this.rightInit>=this.width)throw new W}detect(){let t=this.leftInit,r=this.rightInit,a=this.upInit,l=this.downInit,s=!1,u=!0,c=!1,h=!1,x=!1,w=!1,v=!1;const T=this.width,B=this.height;for(;u;){u=!1;let j=!0;for(;(j||!h)&&r<T;)j=this.containsBlackPoint(a,l,r,!1),j?(r++,u=!0,h=!0):h||r++;if(r>=T){s=!0;break}let H=!0;for(;(H||!x)&&l<B;)H=this.containsBlackPoint(t,r,l,!0),H?(l++,u=!0,x=!0):x||l++;if(l>=B){s=!0;break}let K=!0;for(;(K||!w)&&t>=0;)K=this.containsBlackPoint(a,l,t,!1),K?(t--,u=!0,w=!0):w||t--;if(t<0){s=!0;break}let fe=!0;for(;(fe||!v)&&a>=0;)fe=this.containsBlackPoint(t,r,a,!0),fe?(a--,u=!0,v=!0):v||a--;if(a<0){s=!0;break}u&&(c=!0)}if(!s&&c){const j=r-t;let H=null;for(let ve=1;H===null&&ve<j;ve++)H=this.getBlackPointOnSegment(t,l-ve,t+ve,l);if(H==null)throw new W;let K=null;for(let ve=1;K===null&&ve<j;ve++)K=this.getBlackPointOnSegment(t,a+ve,t+ve,a);if(K==null)throw new W;let fe=null;for(let ve=1;fe===null&&ve<j;ve++)fe=this.getBlackPointOnSegment(r,a+ve,r-ve,a);if(fe==null)throw new W;let Te=null;for(let ve=1;Te===null&&ve<j;ve++)Te=this.getBlackPointOnSegment(r,l-ve,r-ve,l);if(Te==null)throw new W;return this.centerEdges(Te,H,fe,K)}else throw new W}getBlackPointOnSegment(t,r,a,l){const s=Qe.round(Qe.distance(t,r,a,l)),u=(a-t)/s,c=(l-r)/s,h=this.image;for(let x=0;x<s;x++){const w=Qe.round(t+x*u),v=Qe.round(r+x*c);if(h.get(w,v))return new Be(w,v)}return null}centerEdges(t,r,a,l){const s=t.getX(),u=t.getY(),c=r.getX(),h=r.getY(),x=a.getX(),w=a.getY(),v=l.getX(),T=l.getY(),B=Jt.CORR;return s<this.width/2?[new Be(v-B,T+B),new Be(c+B,h+B),new Be(x-B,w-B),new Be(s+B,u-B)]:[new Be(v+B,T+B),new Be(c+B,h-B),new Be(x-B,w+B),new Be(s-B,u-B)]}containsBlackPoint(t,r,a,l){const s=this.image;if(l){for(let u=t;u<=r;u++)if(s.get(u,a))return!0}else for(let u=t;u<=r;u++)if(s.get(a,u))return!0;return!1}}Jt.INIT_SIZE=10,Jt.CORR=1;class ml{static checkAndNudgePoints(t,r){const a=t.getWidth(),l=t.getHeight();let s=!0;for(let u=0;u<r.length&&s;u+=2){const c=Math.floor(r[u]),h=Math.floor(r[u+1]);if(c<-1||c>a||h<-1||h>l)throw new W;s=!1,c===-1?(r[u]=0,s=!0):c===a&&(r[u]=a-1,s=!0),h===-1?(r[u+1]=0,s=!0):h===l&&(r[u+1]=l-1,s=!0)}s=!0;for(let u=r.length-2;u>=0&&s;u-=2){const c=Math.floor(r[u]),h=Math.floor(r[u+1]);if(c<-1||c>a||h<-1||h>l)throw new W;s=!1,c===-1?(r[u]=0,s=!0):c===a&&(r[u]=a-1,s=!0),h===-1?(r[u+1]=0,s=!0):h===l&&(r[u+1]=l-1,s=!0)}}}class Hn{constructor(t,r,a,l,s,u,c,h,x){this.a11=t,this.a21=r,this.a31=a,this.a12=l,this.a22=s,this.a32=u,this.a13=c,this.a23=h,this.a33=x}static quadrilateralToQuadrilateral(t,r,a,l,s,u,c,h,x,w,v,T,B,j,H,K){const fe=Hn.quadrilateralToSquare(t,r,a,l,s,u,c,h);return Hn.squareToQuadrilateral(x,w,v,T,B,j,H,K).times(fe)}transformPoints(t){const r=t.length,a=this.a11,l=this.a12,s=this.a13,u=this.a21,c=this.a22,h=this.a23,x=this.a31,w=this.a32,v=this.a33;for(let T=0;T<r;T+=2){const B=t[T],j=t[T+1],H=s*B+h*j+v;t[T]=(a*B+u*j+x)/H,t[T+1]=(l*B+c*j+w)/H}}transformPointsWithValues(t,r){const a=this.a11,l=this.a12,s=this.a13,u=this.a21,c=this.a22,h=this.a23,x=this.a31,w=this.a32,v=this.a33,T=t.length;for(let B=0;B<T;B++){const j=t[B],H=r[B],K=s*j+h*H+v;t[B]=(a*j+u*H+x)/K,r[B]=(l*j+c*H+w)/K}}static squareToQuadrilateral(t,r,a,l,s,u,c,h){const x=t-a+s-c,w=r-l+u-h;if(x===0&&w===0)return new Hn(a-t,s-a,t,l-r,u-l,r,0,0,1);{const v=a-s,T=c-s,B=l-u,j=h-u,H=v*j-T*B,K=(x*j-T*w)/H,fe=(v*w-x*B)/H;return new Hn(a-t+K*a,c-t+fe*c,t,l-r+K*l,h-r+fe*h,r,K,fe,1)}}static quadrilateralToSquare(t,r,a,l,s,u,c,h){return Hn.squareToQuadrilateral(t,r,a,l,s,u,c,h).buildAdjoint()}buildAdjoint(){return new Hn(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)}times(t){return new Hn(this.a11*t.a11+this.a21*t.a12+this.a31*t.a13,this.a11*t.a21+this.a21*t.a22+this.a31*t.a23,this.a11*t.a31+this.a21*t.a32+this.a31*t.a33,this.a12*t.a11+this.a22*t.a12+this.a32*t.a13,this.a12*t.a21+this.a22*t.a22+this.a32*t.a23,this.a12*t.a31+this.a22*t.a32+this.a32*t.a33,this.a13*t.a11+this.a23*t.a12+this.a33*t.a13,this.a13*t.a21+this.a23*t.a22+this.a33*t.a23,this.a13*t.a31+this.a23*t.a32+this.a33*t.a33)}}class pl extends ml{sampleGrid(t,r,a,l,s,u,c,h,x,w,v,T,B,j,H,K,fe,Te,ve){const be=Hn.quadrilateralToQuadrilateral(l,s,u,c,h,x,w,v,T,B,j,H,K,fe,Te,ve);return this.sampleGridWithTransform(t,r,a,be)}sampleGridWithTransform(t,r,a,l){if(r<=0||a<=0)throw new W;const s=new _e(r,a),u=new Float32Array(2*r);for(let c=0;c<a;c++){const h=u.length,x=c+.5;for(let w=0;w<h;w+=2)u[w]=w/2+.5,u[w+1]=x;l.transformPoints(u),ml.checkAndNudgePoints(t,u);try{for(let w=0;w<h;w+=2)t.get(Math.floor(u[w]),Math.floor(u[w+1]))&&s.set(w/2,c)}catch{throw new W}}return s}}class Jn{static setGridSampler(t){Jn.gridSampler=t}static getInstance(){return Jn.gridSampler}}Jn.gridSampler=new pl;class vn{constructor(t,r){this.x=t,this.y=r}toResultPoint(){return new Be(this.getX(),this.getY())}getX(){return this.x}getY(){return this.y}}class Al{constructor(t){this.EXPECTED_CORNER_BITS=new Int32Array([3808,476,2107,1799]),this.image=t}detect(){return this.detectMirror(!1)}detectMirror(t){let r=this.getMatrixCenter(),a=this.getBullsEyeCorners(r);if(t){let u=a[0];a[0]=a[2],a[2]=u}this.extractParameters(a);let l=this.sampleGrid(this.image,a[this.shift%4],a[(this.shift+1)%4],a[(this.shift+2)%4],a[(this.shift+3)%4]),s=this.getMatrixCornerPoints(a);return new As(l,s,this.compact,this.nbDataBlocks,this.nbLayers)}extractParameters(t){if(!this.isValidPoint(t[0])||!this.isValidPoint(t[1])||!this.isValidPoint(t[2])||!this.isValidPoint(t[3]))throw new W;let r=2*this.nbCenterLayers,a=new Int32Array([this.sampleLine(t[0],t[1],r),this.sampleLine(t[1],t[2],r),this.sampleLine(t[2],t[3],r),this.sampleLine(t[3],t[0],r)]);this.shift=this.getRotation(a,r);let l=0;for(let u=0;u<4;u++){let c=a[(this.shift+u)%4];this.compact?(l<<=7,l+=c>>1&127):(l<<=10,l+=(c>>2&992)+(c>>1&31))}let s=this.getCorrectedParameterData(l,this.compact);this.compact?(this.nbLayers=(s>>6)+1,this.nbDataBlocks=(s&63)+1):(this.nbLayers=(s>>11)+1,this.nbDataBlocks=(s&2047)+1)}getRotation(t,r){let a=0;t.forEach((l,s,u)=>{let c=(l>>r-2<<1)+(l&1);a=(a<<3)+c}),a=((a&1)<<11)+(a>>1);for(let l=0;l<4;l++)if(X.bitCount(a^this.EXPECTED_CORNER_BITS[l])<=2)return l;throw new W}getCorrectedParameterData(t,r){let a,l;r?(a=7,l=2):(a=10,l=4);let s=a-l,u=new Int32Array(a);for(let h=a-1;h>=0;--h)u[h]=t&15,t>>=4;try{new jn(Ue.AZTEC_PARAM).decode(u,s)}catch{throw new W}let c=0;for(let h=0;h<l;h++)c=(c<<4)+u[h];return c}getBullsEyeCorners(t){let r=t,a=t,l=t,s=t,u=!0;for(this.nbCenterLayers=1;this.nbCenterLayers<9;this.nbCenterLayers++){let v=this.getFirstDifferent(r,u,1,-1),T=this.getFirstDifferent(a,u,1,1),B=this.getFirstDifferent(l,u,-1,1),j=this.getFirstDifferent(s,u,-1,-1);if(this.nbCenterLayers>2){let H=this.distancePoint(j,v)*this.nbCenterLayers/(this.distancePoint(s,r)*(this.nbCenterLayers+2));if(H<.75||H>1.25||!this.isWhiteOrBlackRectangle(v,T,B,j))break}r=v,a=T,l=B,s=j,u=!u}if(this.nbCenterLayers!==5&&this.nbCenterLayers!==7)throw new W;this.compact=this.nbCenterLayers===5;let c=new Be(r.getX()+.5,r.getY()-.5),h=new Be(a.getX()+.5,a.getY()+.5),x=new Be(l.getX()-.5,l.getY()+.5),w=new Be(s.getX()-.5,s.getY()-.5);return this.expandSquare([c,h,x,w],2*this.nbCenterLayers-3,2*this.nbCenterLayers)}getMatrixCenter(){let t,r,a,l;try{let c=new Jt(this.image).detect();t=c[0],r=c[1],a=c[2],l=c[3]}catch{let h=this.image.getWidth()/2,x=this.image.getHeight()/2;t=this.getFirstDifferent(new vn(h+7,x-7),!1,1,-1).toResultPoint(),r=this.getFirstDifferent(new vn(h+7,x+7),!1,1,1).toResultPoint(),a=this.getFirstDifferent(new vn(h-7,x+7),!1,-1,1).toResultPoint(),l=this.getFirstDifferent(new vn(h-7,x-7),!1,-1,-1).toResultPoint()}let s=Qe.round((t.getX()+l.getX()+r.getX()+a.getX())/4),u=Qe.round((t.getY()+l.getY()+r.getY()+a.getY())/4);try{let c=new Jt(this.image,15,s,u).detect();t=c[0],r=c[1],a=c[2],l=c[3]}catch{t=this.getFirstDifferent(new vn(s+7,u-7),!1,1,-1).toResultPoint(),r=this.getFirstDifferent(new vn(s+7,u+7),!1,1,1).toResultPoint(),a=this.getFirstDifferent(new vn(s-7,u+7),!1,-1,1).toResultPoint(),l=this.getFirstDifferent(new vn(s-7,u-7),!1,-1,-1).toResultPoint()}return s=Qe.round((t.getX()+l.getX()+r.getX()+a.getX())/4),u=Qe.round((t.getY()+l.getY()+r.getY()+a.getY())/4),new vn(s,u)}getMatrixCornerPoints(t){return this.expandSquare(t,2*this.nbCenterLayers,this.getDimension())}sampleGrid(t,r,a,l,s){let u=Jn.getInstance(),c=this.getDimension(),h=c/2-this.nbCenterLayers,x=c/2+this.nbCenterLayers;return u.sampleGrid(t,c,c,h,h,x,h,x,x,h,x,r.getX(),r.getY(),a.getX(),a.getY(),l.getX(),l.getY(),s.getX(),s.getY())}sampleLine(t,r,a){let l=0,s=this.distanceResultPoint(t,r),u=s/a,c=t.getX(),h=t.getY(),x=u*(r.getX()-t.getX())/s,w=u*(r.getY()-t.getY())/s;for(let v=0;v<a;v++)this.image.get(Qe.round(c+v*x),Qe.round(h+v*w))&&(l|=1<<a-v-1);return l}isWhiteOrBlackRectangle(t,r,a,l){let s=3;t=new vn(t.getX()-s,t.getY()+s),r=new vn(r.getX()-s,r.getY()-s),a=new vn(a.getX()+s,a.getY()-s),l=new vn(l.getX()+s,l.getY()+s);let u=this.getColor(l,t);if(u===0)return!1;let c=this.getColor(t,r);return c!==u||(c=this.getColor(r,a),c!==u)?!1:(c=this.getColor(a,l),c===u)}getColor(t,r){let a=this.distancePoint(t,r),l=(r.getX()-t.getX())/a,s=(r.getY()-t.getY())/a,u=0,c=t.getX(),h=t.getY(),x=this.image.get(t.getX(),t.getY()),w=Math.ceil(a);for(let T=0;T<w;T++)c+=l,h+=s,this.image.get(Qe.round(c),Qe.round(h))!==x&&u++;let v=u/a;return v>.1&&v<.9?0:v<=.1===x?1:-1}getFirstDifferent(t,r,a,l){let s=t.getX()+a,u=t.getY()+l;for(;this.isValid(s,u)&&this.image.get(s,u)===r;)s+=a,u+=l;for(s-=a,u-=l;this.isValid(s,u)&&this.image.get(s,u)===r;)s+=a;for(s-=a;this.isValid(s,u)&&this.image.get(s,u)===r;)u+=l;return u-=l,new vn(s,u)}expandSquare(t,r,a){let l=a/(2*r),s=t[0].getX()-t[2].getX(),u=t[0].getY()-t[2].getY(),c=(t[0].getX()+t[2].getX())/2,h=(t[0].getY()+t[2].getY())/2,x=new Be(c+l*s,h+l*u),w=new Be(c-l*s,h-l*u);s=t[1].getX()-t[3].getX(),u=t[1].getY()-t[3].getY(),c=(t[1].getX()+t[3].getX())/2,h=(t[1].getY()+t[3].getY())/2;let v=new Be(c+l*s,h+l*u),T=new Be(c-l*s,h-l*u);return[x,v,w,T]}isValid(t,r){return t>=0&&t<this.image.getWidth()&&r>0&&r<this.image.getHeight()}isValidPoint(t){let r=Qe.round(t.getX()),a=Qe.round(t.getY());return this.isValid(r,a)}distancePoint(t,r){return Qe.distance(t.getX(),t.getY(),r.getX(),r.getY())}distanceResultPoint(t,r){return Qe.distance(t.getX(),t.getY(),r.getX(),r.getY())}getDimension(){return this.compact?4*this.nbLayers+11:this.nbLayers<=4?4*this.nbLayers+15:4*this.nbLayers+2*(X.truncDivision(this.nbLayers-4,8)+1)+15}}class Oi{decode(t,r=null){let a=null,l=new Al(t.getBlackMatrix()),s=null,u=null;try{let w=l.detectMirror(!1);s=w.getPoints(),this.reportFoundResultPoints(r,s),u=new ct().decode(w)}catch(w){a=w}if(u==null)try{let w=l.detectMirror(!0);s=w.getPoints(),this.reportFoundResultPoints(r,s),u=new ct().decode(w)}catch(w){throw a??w}let c=new ae(u.getText(),u.getRawBytes(),u.getNumBits(),s,ie.AZTEC,te.currentTimeMillis()),h=u.getByteSegments();h!=null&&c.putMetadata(je.BYTE_SEGMENTS,h);let x=u.getECLevel();return x!=null&&c.putMetadata(je.ERROR_CORRECTION_LEVEL,x),c}reportFoundResultPoints(t,r){if(t!=null){let a=t.get(me.NEED_RESULT_POINT_CALLBACK);a!=null&&r.forEach((l,s,u)=>{a.foundPossibleResultPoint(l)})}}reset(){}}class Jo extends Y{constructor(t=500){super(new Oi,t)}}class Pt{decode(t,r){try{return this.doDecode(t,r)}catch{if(r&&r.get(me.TRY_HARDER)===!0&&t.isRotateSupported()){const s=t.rotateCounterClockwise(),u=this.doDecode(s,r),c=u.getResultMetadata();let h=270;c!==null&&c.get(je.ORIENTATION)===!0&&(h=h+c.get(je.ORIENTATION)%360),u.putMetadata(je.ORIENTATION,h);const x=u.getResultPoints();if(x!==null){const w=s.getHeight();for(let v=0;v<x.length;v++)x[v]=new Be(w-x[v].getY()-1,x[v].getX())}return u}else throw new W}}reset(){}doDecode(t,r){const a=t.getWidth(),l=t.getHeight();let s=new se(a);const u=r&&r.get(me.TRY_HARDER)===!0,c=Math.max(1,l>>(u?8:5));let h;u?h=l:h=15;const x=Math.trunc(l/2);for(let w=0;w<h;w++){const v=Math.trunc((w+1)/2),T=(w&1)===0,B=x+c*(T?v:-v);if(B<0||B>=l)break;try{s=t.getBlackRow(B,s)}catch{continue}for(let j=0;j<2;j++){if(j===1&&(s.reverse(),r&&r.get(me.NEED_RESULT_POINT_CALLBACK)===!0)){const H=new Map;r.forEach((K,fe)=>H.set(fe,K)),H.delete(me.NEED_RESULT_POINT_CALLBACK),r=H}try{const H=this.decodeRow(B,s,r);if(j===1){H.putMetadata(je.ORIENTATION,180);const K=H.getResultPoints();K!==null&&(K[0]=new Be(a-K[0].getX()-1,K[0].getY()),K[1]=new Be(a-K[1].getX()-1,K[1].getY()))}return H}catch{}}}throw new W}static recordPattern(t,r,a){const l=a.length;for(let x=0;x<l;x++)a[x]=0;const s=t.getSize();if(r>=s)throw new W;let u=!t.get(r),c=0,h=r;for(;h<s;){if(t.get(h)!==u)a[c]++;else{if(++c===l)break;a[c]=1,u=!u}h++}if(!(c===l||c===l-1&&h===s))throw new W}static recordPatternInReverse(t,r,a){let l=a.length,s=t.get(r);for(;r>0&&l>=0;)t.get(--r)!==s&&(l--,s=!s);if(l>=0)throw new W;Pt.recordPattern(t,r+1,a)}static patternMatchVariance(t,r,a){const l=t.length;let s=0,u=0;for(let x=0;x<l;x++)s+=t[x],u+=r[x];if(s<u)return Number.POSITIVE_INFINITY;const c=s/u;a*=c;let h=0;for(let x=0;x<l;x++){const w=t[x],v=r[x]*c,T=w>v?w-v:v-w;if(T>a)return Number.POSITIVE_INFINITY;h+=T}return h/s}}class Ne extends Pt{static findStartPattern(t){const r=t.getSize(),a=t.getNextSet(0);let l=0,s=Int32Array.from([0,0,0,0,0,0]),u=a,c=!1;const h=6;for(let x=a;x<r;x++)if(t.get(x)!==c)s[l]++;else{if(l===h-1){let w=Ne.MAX_AVG_VARIANCE,v=-1;for(let T=Ne.CODE_START_A;T<=Ne.CODE_START_C;T++){const B=Pt.patternMatchVariance(s,Ne.CODE_PATTERNS[T],Ne.MAX_INDIVIDUAL_VARIANCE);B<w&&(w=B,v=T)}if(v>=0&&t.isRange(Math.max(0,u-(x-u)/2),u,!1))return Int32Array.from([u,x,v]);u+=s[0]+s[1],s=s.slice(2,s.length-1),s[l-1]=0,s[l]=0,l--}else l++;s[l]=1,c=!c}throw new W}static decodeCode(t,r,a){Pt.recordPattern(t,a,r);let l=Ne.MAX_AVG_VARIANCE,s=-1;for(let u=0;u<Ne.CODE_PATTERNS.length;u++){const c=Ne.CODE_PATTERNS[u],h=this.patternMatchVariance(r,c,Ne.MAX_INDIVIDUAL_VARIANCE);h<l&&(l=h,s=u)}if(s>=0)return s;throw new W}decodeRow(t,r,a){const l=a&&a.get(me.ASSUME_GS1)===!0,s=Ne.findStartPattern(r),u=s[2];let c=0;const h=new Uint8Array(20);h[c++]=u;let x;switch(u){case Ne.CODE_START_A:x=Ne.CODE_CODE_A;break;case Ne.CODE_START_B:x=Ne.CODE_CODE_B;break;case Ne.CODE_START_C:x=Ne.CODE_CODE_C;break;default:throw new Q}let w=!1,v=!1,T="",B=s[0],j=s[1];const H=Int32Array.from([0,0,0,0,0,0]);let K=0,fe=0,Te=u,ve=0,be=!0,it=!1,$e=!1;for(;!w;){const ea=v;switch(v=!1,K=fe,fe=Ne.decodeCode(r,H,j),h[c++]=fe,fe!==Ne.CODE_STOP&&(be=!0),fe!==Ne.CODE_STOP&&(ve++,Te+=ve*fe),B=j,j+=H.reduce((Ms,_l)=>Ms+_l,0),fe){case Ne.CODE_START_A:case Ne.CODE_START_B:case Ne.CODE_START_C:throw new Q}switch(x){case Ne.CODE_CODE_A:if(fe<64)$e===it?T+=String.fromCharCode(32+fe):T+=String.fromCharCode(32+fe+128),$e=!1;else if(fe<96)$e===it?T+=String.fromCharCode(fe-64):T+=String.fromCharCode(fe+64),$e=!1;else switch(fe!==Ne.CODE_STOP&&(be=!1),fe){case Ne.CODE_FNC_1:l&&(T.length===0?T+="]C1":T+="");break;case Ne.CODE_FNC_2:case Ne.CODE_FNC_3:break;case Ne.CODE_FNC_4_A:!it&&$e?(it=!0,$e=!1):it&&$e?(it=!1,$e=!1):$e=!0;break;case Ne.CODE_SHIFT:v=!0,x=Ne.CODE_CODE_B;break;case Ne.CODE_CODE_B:x=Ne.CODE_CODE_B;break;case Ne.CODE_CODE_C:x=Ne.CODE_CODE_C;break;case Ne.CODE_STOP:w=!0;break}break;case Ne.CODE_CODE_B:if(fe<96)$e===it?T+=String.fromCharCode(32+fe):T+=String.fromCharCode(32+fe+128),$e=!1;else switch(fe!==Ne.CODE_STOP&&(be=!1),fe){case Ne.CODE_FNC_1:l&&(T.length===0?T+="]C1":T+="");break;case Ne.CODE_FNC_2:case Ne.CODE_FNC_3:break;case Ne.CODE_FNC_4_B:!it&&$e?(it=!0,$e=!1):it&&$e?(it=!1,$e=!1):$e=!0;break;case Ne.CODE_SHIFT:v=!0,x=Ne.CODE_CODE_A;break;case Ne.CODE_CODE_A:x=Ne.CODE_CODE_A;break;case Ne.CODE_CODE_C:x=Ne.CODE_CODE_C;break;case Ne.CODE_STOP:w=!0;break}break;case Ne.CODE_CODE_C:if(fe<100)fe<10&&(T+="0"),T+=fe;else switch(fe!==Ne.CODE_STOP&&(be=!1),fe){case Ne.CODE_FNC_1:l&&(T.length===0?T+="]C1":T+="");break;case Ne.CODE_CODE_A:x=Ne.CODE_CODE_A;break;case Ne.CODE_CODE_B:x=Ne.CODE_CODE_B;break;case Ne.CODE_STOP:w=!0;break}break}ea&&(x=x===Ne.CODE_CODE_A?Ne.CODE_CODE_B:Ne.CODE_CODE_A)}const nn=j-B;if(j=r.getNextUnset(j),!r.isRange(j,Math.min(r.getSize(),j+(j-B)/2),!1))throw new W;if(Te-=ve*K,Te%103!==K)throw new ne;const Yn=T.length;if(Yn===0)throw new W;Yn>0&&be&&(x===Ne.CODE_CODE_C?T=T.substring(0,Yn-2):T=T.substring(0,Yn-1));const Tn=(s[1]+s[0])/2,Nt=B+nn/2,wn=h.length,Fn=new Uint8Array(wn);for(let ea=0;ea<wn;ea++)Fn[ea]=h[ea];const Ma=[new Be(Tn,t),new Be(Nt,t)];return new ae(T,Fn,0,Ma,ie.CODE_128,new Date().getTime())}}Ne.CODE_PATTERNS=[Int32Array.from([2,1,2,2,2,2]),Int32Array.from([2,2,2,1,2,2]),Int32Array.from([2,2,2,2,2,1]),Int32Array.from([1,2,1,2,2,3]),Int32Array.from([1,2,1,3,2,2]),Int32Array.from([1,3,1,2,2,2]),Int32Array.from([1,2,2,2,1,3]),Int32Array.from([1,2,2,3,1,2]),Int32Array.from([1,3,2,2,1,2]),Int32Array.from([2,2,1,2,1,3]),Int32Array.from([2,2,1,3,1,2]),Int32Array.from([2,3,1,2,1,2]),Int32Array.from([1,1,2,2,3,2]),Int32Array.from([1,2,2,1,3,2]),Int32Array.from([1,2,2,2,3,1]),Int32Array.from([1,1,3,2,2,2]),Int32Array.from([1,2,3,1,2,2]),Int32Array.from([1,2,3,2,2,1]),Int32Array.from([2,2,3,2,1,1]),Int32Array.from([2,2,1,1,3,2]),Int32Array.from([2,2,1,2,3,1]),Int32Array.from([2,1,3,2,1,2]),Int32Array.from([2,2,3,1,1,2]),Int32Array.from([3,1,2,1,3,1]),Int32Array.from([3,1,1,2,2,2]),Int32Array.from([3,2,1,1,2,2]),Int32Array.from([3,2,1,2,2,1]),Int32Array.from([3,1,2,2,1,2]),Int32Array.from([3,2,2,1,1,2]),Int32Array.from([3,2,2,2,1,1]),Int32Array.from([2,1,2,1,2,3]),Int32Array.from([2,1,2,3,2,1]),Int32Array.from([2,3,2,1,2,1]),Int32Array.from([1,1,1,3,2,3]),Int32Array.from([1,3,1,1,2,3]),Int32Array.from([1,3,1,3,2,1]),Int32Array.from([1,1,2,3,1,3]),Int32Array.from([1,3,2,1,1,3]),Int32Array.from([1,3,2,3,1,1]),Int32Array.from([2,1,1,3,1,3]),Int32Array.from([2,3,1,1,1,3]),Int32Array.from([2,3,1,3,1,1]),Int32Array.from([1,1,2,1,3,3]),Int32Array.from([1,1,2,3,3,1]),Int32Array.from([1,3,2,1,3,1]),Int32Array.from([1,1,3,1,2,3]),Int32Array.from([1,1,3,3,2,1]),Int32Array.from([1,3,3,1,2,1]),Int32Array.from([3,1,3,1,2,1]),Int32Array.from([2,1,1,3,3,1]),Int32Array.from([2,3,1,1,3,1]),Int32Array.from([2,1,3,1,1,3]),Int32Array.from([2,1,3,3,1,1]),Int32Array.from([2,1,3,1,3,1]),Int32Array.from([3,1,1,1,2,3]),Int32Array.from([3,1,1,3,2,1]),Int32Array.from([3,3,1,1,2,1]),Int32Array.from([3,1,2,1,1,3]),Int32Array.from([3,1,2,3,1,1]),Int32Array.from([3,3,2,1,1,1]),Int32Array.from([3,1,4,1,1,1]),Int32Array.from([2,2,1,4,1,1]),Int32Array.from([4,3,1,1,1,1]),Int32Array.from([1,1,1,2,2,4]),Int32Array.from([1,1,1,4,2,2]),Int32Array.from([1,2,1,1,2,4]),Int32Array.from([1,2,1,4,2,1]),Int32Array.from([1,4,1,1,2,2]),Int32Array.from([1,4,1,2,2,1]),Int32Array.from([1,1,2,2,1,4]),Int32Array.from([1,1,2,4,1,2]),Int32Array.from([1,2,2,1,1,4]),Int32Array.from([1,2,2,4,1,1]),Int32Array.from([1,4,2,1,1,2]),Int32Array.from([1,4,2,2,1,1]),Int32Array.from([2,4,1,2,1,1]),Int32Array.from([2,2,1,1,1,4]),Int32Array.from([4,1,3,1,1,1]),Int32Array.from([2,4,1,1,1,2]),Int32Array.from([1,3,4,1,1,1]),Int32Array.from([1,1,1,2,4,2]),Int32Array.from([1,2,1,1,4,2]),Int32Array.from([1,2,1,2,4,1]),Int32Array.from([1,1,4,2,1,2]),Int32Array.from([1,2,4,1,1,2]),Int32Array.from([1,2,4,2,1,1]),Int32Array.from([4,1,1,2,1,2]),Int32Array.from([4,2,1,1,1,2]),Int32Array.from([4,2,1,2,1,1]),Int32Array.from([2,1,2,1,4,1]),Int32Array.from([2,1,4,1,2,1]),Int32Array.from([4,1,2,1,2,1]),Int32Array.from([1,1,1,1,4,3]),Int32Array.from([1,1,1,3,4,1]),Int32Array.from([1,3,1,1,4,1]),Int32Array.from([1,1,4,1,1,3]),Int32Array.from([1,1,4,3,1,1]),Int32Array.from([4,1,1,1,1,3]),Int32Array.from([4,1,1,3,1,1]),Int32Array.from([1,1,3,1,4,1]),Int32Array.from([1,1,4,1,3,1]),Int32Array.from([3,1,1,1,4,1]),Int32Array.from([4,1,1,1,3,1]),Int32Array.from([2,1,1,4,1,2]),Int32Array.from([2,1,1,2,1,4]),Int32Array.from([2,1,1,2,3,2]),Int32Array.from([2,3,3,1,1,1,2])],Ne.MAX_AVG_VARIANCE=.25,Ne.MAX_INDIVIDUAL_VARIANCE=.7,Ne.CODE_SHIFT=98,Ne.CODE_CODE_C=99,Ne.CODE_CODE_B=100,Ne.CODE_CODE_A=101,Ne.CODE_FNC_1=102,Ne.CODE_FNC_2=97,Ne.CODE_FNC_3=96,Ne.CODE_FNC_4_A=101,Ne.CODE_FNC_4_B=100,Ne.CODE_START_A=103,Ne.CODE_START_B=104,Ne.CODE_START_C=105,Ne.CODE_STOP=106;class Bt extends Pt{constructor(t=!1,r=!1){super(),this.usingCheckDigit=t,this.extendedMode=r,this.decodeRowResult="",this.counters=new Int32Array(9)}decodeRow(t,r,a){let l=this.counters;l.fill(0),this.decodeRowResult="";let s=Bt.findAsteriskPattern(r,l),u=r.getNextSet(s[1]),c=r.getSize(),h,x;do{Bt.recordPattern(r,u,l);let H=Bt.toNarrowWidePattern(l);if(H<0)throw new W;h=Bt.patternToChar(H),this.decodeRowResult+=h,x=u;for(let K of l)u+=K;u=r.getNextSet(u)}while(h!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);let w=0;for(let H of l)w+=H;let v=u-x-w;if(u!==c&&v*2<w)throw new W;if(this.usingCheckDigit){let H=this.decodeRowResult.length-1,K=0;for(let fe=0;fe<H;fe++)K+=Bt.ALPHABET_STRING.indexOf(this.decodeRowResult.charAt(fe));if(this.decodeRowResult.charAt(H)!==Bt.ALPHABET_STRING.charAt(K%43))throw new ne;this.decodeRowResult=this.decodeRowResult.substring(0,H)}if(this.decodeRowResult.length===0)throw new W;let T;this.extendedMode?T=Bt.decodeExtended(this.decodeRowResult):T=this.decodeRowResult;let B=(s[1]+s[0])/2,j=x+w/2;return new ae(T,null,0,[new Be(B,t),new Be(j,t)],ie.CODE_39,new Date().getTime())}static findAsteriskPattern(t,r){let a=t.getSize(),l=t.getNextSet(0),s=0,u=l,c=!1,h=r.length;for(let x=l;x<a;x++)if(t.get(x)!==c)r[s]++;else{if(s===h-1){if(this.toNarrowWidePattern(r)===Bt.ASTERISK_ENCODING&&t.isRange(Math.max(0,u-Math.floor((x-u)/2)),u,!1))return[u,x];u+=r[0]+r[1],r.copyWithin(0,2,2+s-1),r[s-1]=0,r[s]=0,s--}else s++;r[s]=1,c=!c}throw new W}static toNarrowWidePattern(t){let r=t.length,a=0,l;do{let s=2147483647;for(let h of t)h<s&&h>a&&(s=h);a=s,l=0;let u=0,c=0;for(let h=0;h<r;h++){let x=t[h];x>a&&(c|=1<<r-1-h,l++,u+=x)}if(l===3){for(let h=0;h<r&&l>0;h++){let x=t[h];if(x>a&&(l--,x*2>=u))return-1}return c}}while(l>3);return-1}static patternToChar(t){for(let r=0;r<Bt.CHARACTER_ENCODINGS.length;r++)if(Bt.CHARACTER_ENCODINGS[r]===t)return Bt.ALPHABET_STRING.charAt(r);if(t===Bt.ASTERISK_ENCODING)return"*";throw new W}static decodeExtended(t){let r=t.length,a="";for(let l=0;l<r;l++){let s=t.charAt(l);if(s==="+"||s==="$"||s==="%"||s==="/"){let u=t.charAt(l+1),c="\0";switch(s){case"+":if(u>="A"&&u<="Z")c=String.fromCharCode(u.charCodeAt(0)+32);else throw new Q;break;case"$":if(u>="A"&&u<="Z")c=String.fromCharCode(u.charCodeAt(0)-64);else throw new Q;break;case"%":if(u>="A"&&u<="E")c=String.fromCharCode(u.charCodeAt(0)-38);else if(u>="F"&&u<="J")c=String.fromCharCode(u.charCodeAt(0)-11);else if(u>="K"&&u<="O")c=String.fromCharCode(u.charCodeAt(0)+16);else if(u>="P"&&u<="T")c=String.fromCharCode(u.charCodeAt(0)+43);else if(u==="U")c="\0";else if(u==="V")c="@";else if(u==="W")c="`";else if(u==="X"||u==="Y"||u==="Z")c="";else throw new Q;break;case"/":if(u>="A"&&u<="O")c=String.fromCharCode(u.charCodeAt(0)-32);else if(u==="Z")c=":";else throw new Q;break}a+=c,l++}else a+=s}return a}}Bt.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",Bt.CHARACTER_ENCODINGS=[52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,168,162,138,42],Bt.ASTERISK_ENCODING=148;class nt extends Pt{constructor(){super(...arguments),this.narrowLineWidth=-1}decodeRow(t,r,a){let l=this.decodeStart(r),s=this.decodeEnd(r),u=new Re;nt.decodeMiddle(r,l[1],s[0],u);let c=u.toString(),h=null;a!=null&&(h=a.get(me.ALLOWED_LENGTHS)),h==null&&(h=nt.DEFAULT_ALLOWED_LENGTHS);let x=c.length,w=!1,v=0;for(let j of h){if(x===j){w=!0;break}j>v&&(v=j)}if(!w&&x>v&&(w=!0),!w)throw new Q;const T=[new Be(l[1],t),new Be(s[0],t)];return new ae(c,null,0,T,ie.ITF,new Date().getTime())}static decodeMiddle(t,r,a,l){let s=new Int32Array(10),u=new Int32Array(5),c=new Int32Array(5);for(s.fill(0),u.fill(0),c.fill(0);r<a;){Pt.recordPattern(t,r,s);for(let x=0;x<5;x++){let w=2*x;u[x]=s[w],c[x]=s[w+1]}let h=nt.decodeDigit(u);l.append(h.toString()),h=this.decodeDigit(c),l.append(h.toString()),s.forEach(function(x){r+=x})}}decodeStart(t){let r=nt.skipWhiteSpace(t),a=nt.findGuardPattern(t,r,nt.START_PATTERN);return this.narrowLineWidth=(a[1]-a[0])/4,this.validateQuietZone(t,a[0]),a}validateQuietZone(t,r){let a=this.narrowLineWidth*10;a=a<r?a:r;for(let l=r-1;a>0&&l>=0&&!t.get(l);l--)a--;if(a!==0)throw new W}static skipWhiteSpace(t){const r=t.getSize(),a=t.getNextSet(0);if(a===r)throw new W;return a}decodeEnd(t){t.reverse();try{let r=nt.skipWhiteSpace(t),a;try{a=nt.findGuardPattern(t,r,nt.END_PATTERN_REVERSED[0])}catch(s){s instanceof W&&(a=nt.findGuardPattern(t,r,nt.END_PATTERN_REVERSED[1]))}this.validateQuietZone(t,a[0]);let l=a[0];return a[0]=t.getSize()-a[1],a[1]=t.getSize()-l,a}finally{t.reverse()}}static findGuardPattern(t,r,a){let l=a.length,s=new Int32Array(l),u=t.getSize(),c=!1,h=0,x=r;s.fill(0);for(let w=r;w<u;w++)if(t.get(w)!==c)s[h]++;else{if(h===l-1){if(Pt.patternMatchVariance(s,a,nt.MAX_INDIVIDUAL_VARIANCE)<nt.MAX_AVG_VARIANCE)return[x,w];x+=s[0]+s[1],te.arraycopy(s,2,s,0,h-1),s[h-1]=0,s[h]=0,h--}else h++;s[h]=1,c=!c}throw new W}static decodeDigit(t){let r=nt.MAX_AVG_VARIANCE,a=-1,l=nt.PATTERNS.length;for(let s=0;s<l;s++){let u=nt.PATTERNS[s],c=Pt.patternMatchVariance(t,u,nt.MAX_INDIVIDUAL_VARIANCE);c<r?(r=c,a=s):c===r&&(a=-1)}if(a>=0)return a%10;throw new W}}nt.PATTERNS=[Int32Array.from([1,1,2,2,1]),Int32Array.from([2,1,1,1,2]),Int32Array.from([1,2,1,1,2]),Int32Array.from([2,2,1,1,1]),Int32Array.from([1,1,2,1,2]),Int32Array.from([2,1,2,1,1]),Int32Array.from([1,2,2,1,1]),Int32Array.from([1,1,1,2,2]),Int32Array.from([2,1,1,2,1]),Int32Array.from([1,2,1,2,1]),Int32Array.from([1,1,3,3,1]),Int32Array.from([3,1,1,1,3]),Int32Array.from([1,3,1,1,3]),Int32Array.from([3,3,1,1,1]),Int32Array.from([1,1,3,1,3]),Int32Array.from([3,1,3,1,1]),Int32Array.from([1,3,3,1,1]),Int32Array.from([1,1,1,3,3]),Int32Array.from([3,1,1,3,1]),Int32Array.from([1,3,1,3,1])],nt.MAX_AVG_VARIANCE=.38,nt.MAX_INDIVIDUAL_VARIANCE=.5,nt.DEFAULT_ALLOWED_LENGTHS=[6,8,10,12,14],nt.START_PATTERN=Int32Array.from([1,1,1,1]),nt.END_PATTERN_REVERSED=[Int32Array.from([1,1,2]),Int32Array.from([1,1,3])];class Qt extends Pt{constructor(){super(...arguments),this.decodeRowStringBuffer=""}static findStartGuardPattern(t){let r=!1,a,l=0,s=Int32Array.from([0,0,0]);for(;!r;){s=Int32Array.from([0,0,0]),a=Qt.findGuardPattern(t,l,!1,this.START_END_PATTERN,s);let u=a[0];l=a[1];let c=u-(l-u);c>=0&&(r=t.isRange(c,u,!1))}return a}static checkChecksum(t){return Qt.checkStandardUPCEANChecksum(t)}static checkStandardUPCEANChecksum(t){let r=t.length;if(r===0)return!1;let a=parseInt(t.charAt(r-1),10);return Qt.getStandardUPCEANChecksum(t.substring(0,r-1))===a}static getStandardUPCEANChecksum(t){let r=t.length,a=0;for(let l=r-1;l>=0;l-=2){let s=t.charAt(l).charCodeAt(0)-48;if(s<0||s>9)throw new Q;a+=s}a*=3;for(let l=r-2;l>=0;l-=2){let s=t.charAt(l).charCodeAt(0)-48;if(s<0||s>9)throw new Q;a+=s}return(1e3-a)%10}static decodeEnd(t,r){return Qt.findGuardPattern(t,r,!1,Qt.START_END_PATTERN,new Int32Array(Qt.START_END_PATTERN.length).fill(0))}static findGuardPatternWithoutCounters(t,r,a,l){return this.findGuardPattern(t,r,a,l,new Int32Array(l.length))}static findGuardPattern(t,r,a,l,s){let u=t.getSize();r=a?t.getNextUnset(r):t.getNextSet(r);let c=0,h=r,x=l.length,w=a;for(let v=r;v<u;v++)if(t.get(v)!==w)s[c]++;else{if(c===x-1){if(Pt.patternMatchVariance(s,l,Qt.MAX_INDIVIDUAL_VARIANCE)<Qt.MAX_AVG_VARIANCE)return Int32Array.from([h,v]);h+=s[0]+s[1];let T=s.slice(2,s.length-1);for(let B=0;B<c-1;B++)s[B]=T[B];s[c-1]=0,s[c]=0,c--}else c++;s[c]=1,w=!w}throw new W}static decodeDigit(t,r,a,l){this.recordPattern(t,a,r);let s=this.MAX_AVG_VARIANCE,u=-1,c=l.length;for(let h=0;h<c;h++){let x=l[h],w=Pt.patternMatchVariance(r,x,Qt.MAX_INDIVIDUAL_VARIANCE);w<s&&(s=w,u=h)}if(u>=0)return u;throw new W}}Qt.MAX_AVG_VARIANCE=.48,Qt.MAX_INDIVIDUAL_VARIANCE=.7,Qt.START_END_PATTERN=Int32Array.from([1,1,1]),Qt.MIDDLE_PATTERN=Int32Array.from([1,1,1,1,1]),Qt.END_PATTERN=Int32Array.from([1,1,1,1,1,1]),Qt.L_PATTERNS=[Int32Array.from([3,2,1,1]),Int32Array.from([2,2,2,1]),Int32Array.from([2,1,2,2]),Int32Array.from([1,4,1,1]),Int32Array.from([1,1,3,2]),Int32Array.from([1,2,3,1]),Int32Array.from([1,1,1,4]),Int32Array.from([1,3,1,2]),Int32Array.from([1,2,1,3]),Int32Array.from([3,1,1,2])];class ri{constructor(){this.CHECK_DIGIT_ENCODINGS=[24,20,18,17,12,6,3,10,9,5],this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(t,r,a){let l=this.decodeRowStringBuffer,s=this.decodeMiddle(r,a,l),u=l.toString(),c=ri.parseExtensionString(u),h=[new Be((a[0]+a[1])/2,t),new Be(s,t)],x=new ae(u,null,0,h,ie.UPC_EAN_EXTENSION,new Date().getTime());return c!=null&&x.putAllMetadata(c),x}decodeMiddle(t,r,a){let l=this.decodeMiddleCounters;l[0]=0,l[1]=0,l[2]=0,l[3]=0;let s=t.getSize(),u=r[1],c=0;for(let x=0;x<5&&u<s;x++){let w=Qt.decodeDigit(t,l,u,Qt.L_AND_G_PATTERNS);a+=String.fromCharCode(48+w%10);for(let v of l)u+=v;w>=10&&(c|=1<<4-x),x!==4&&(u=t.getNextSet(u),u=t.getNextUnset(u))}if(a.length!==5)throw new W;let h=this.determineCheckDigit(c);if(ri.extensionChecksum(a.toString())!==h)throw new W;return u}static extensionChecksum(t){let r=t.length,a=0;for(let l=r-2;l>=0;l-=2)a+=t.charAt(l).charCodeAt(0)-48;a*=3;for(let l=r-1;l>=0;l-=2)a+=t.charAt(l).charCodeAt(0)-48;return a*=3,a%10}determineCheckDigit(t){for(let r=0;r<10;r++)if(t===this.CHECK_DIGIT_ENCODINGS[r])return r;throw new W}static parseExtensionString(t){if(t.length!==5)return null;let r=ri.parseExtension5String(t);return r==null?null:new Map([[je.SUGGESTED_PRICE,r]])}static parseExtension5String(t){let r;switch(t.charAt(0)){case"0":r="Â£";break;case"5":r="$";break;case"9":switch(t){case"90000":return null;case"99991":return"0.00";case"99990":return"Used"}r="";break;default:r="";break}let a=parseInt(t.substring(1)),l=(a/100).toString(),s=a%100,u=s<10?"0"+s:s.toString();return r+l+"."+u}}class yl{constructor(){this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(t,r,a){let l=this.decodeRowStringBuffer,s=this.decodeMiddle(r,a,l),u=l.toString(),c=yl.parseExtensionString(u),h=[new Be((a[0]+a[1])/2,t),new Be(s,t)],x=new ae(u,null,0,h,ie.UPC_EAN_EXTENSION,new Date().getTime());return c!=null&&x.putAllMetadata(c),x}decodeMiddle(t,r,a){let l=this.decodeMiddleCounters;l[0]=0,l[1]=0,l[2]=0,l[3]=0;let s=t.getSize(),u=r[1],c=0;for(let h=0;h<2&&u<s;h++){let x=Qt.decodeDigit(t,l,u,Qt.L_AND_G_PATTERNS);a+=String.fromCharCode(48+x%10);for(let w of l)u+=w;x>=10&&(c|=1<<1-h),h!==1&&(u=t.getNextSet(u),u=t.getNextUnset(u))}if(a.length!==2)throw new W;if(parseInt(a.toString())%4!==c)throw new W;return u}static parseExtensionString(t){return t.length!==2?null:new Map([[je.ISSUE_NUMBER,parseInt(t)]])}}class ai{static decodeRow(t,r,a){let l=Qt.findGuardPattern(r,a,!1,this.EXTENSION_START_PATTERN,new Int32Array(this.EXTENSION_START_PATTERN.length).fill(0));try{return new ri().decodeRow(t,r,l)}catch{return new yl().decodeRow(t,r,l)}}}ai.EXTENSION_START_PATTERN=Int32Array.from([1,1,2]);class ft extends Qt{constructor(){super(),this.decodeRowStringBuffer="",ft.L_AND_G_PATTERNS=ft.L_PATTERNS.map(t=>Int32Array.from(t));for(let t=10;t<20;t++){let r=ft.L_PATTERNS[t-10],a=new Int32Array(r.length);for(let l=0;l<r.length;l++)a[l]=r[r.length-l-1];ft.L_AND_G_PATTERNS[t]=a}}decodeRow(t,r,a){let l=ft.findStartGuardPattern(r),s=a==null?null:a.get(me.NEED_RESULT_POINT_CALLBACK);if(s!=null){const be=new Be((l[0]+l[1])/2,t);s.foundPossibleResultPoint(be)}let u=this.decodeMiddle(r,l,this.decodeRowStringBuffer),c=u.rowOffset,h=u.resultString;if(s!=null){const be=new Be(c,t);s.foundPossibleResultPoint(be)}let x=this.decodeEnd(r,c);if(s!=null){const be=new Be((x[0]+x[1])/2,t);s.foundPossibleResultPoint(be)}let w=x[1],v=w+(w-x[0]);if(v>=r.getSize()||!r.isRange(w,v,!1))throw new W;let T=h.toString();if(T.length<8)throw new Q;if(!ft.checkChecksum(T))throw new ne;let B=(l[1]+l[0])/2,j=(x[1]+x[0])/2,H=this.getBarcodeFormat(),K=[new Be(B,t),new Be(j,t)],fe=new ae(T,null,0,K,H,new Date().getTime()),Te=0;try{let be=ai.decodeRow(t,r,x[1]);fe.putMetadata(je.UPC_EAN_EXTENSION,be.getText()),fe.putAllMetadata(be.getResultMetadata()),fe.addResultPoints(be.getResultPoints()),Te=be.getText().length}catch{}let ve=a==null?null:a.get(me.ALLOWED_EAN_EXTENSIONS);if(ve!=null){let be=!1;for(let it in ve)if(Te.toString()===it){be=!0;break}if(!be)throw new W}return fe}decodeEnd(t,r){return ft.findGuardPattern(t,r,!1,ft.START_END_PATTERN,new Int32Array(ft.START_END_PATTERN.length).fill(0))}static checkChecksum(t){return ft.checkStandardUPCEANChecksum(t)}static checkStandardUPCEANChecksum(t){let r=t.length;if(r===0)return!1;let a=parseInt(t.charAt(r-1),10);return ft.getStandardUPCEANChecksum(t.substring(0,r-1))===a}static getStandardUPCEANChecksum(t){let r=t.length,a=0;for(let l=r-1;l>=0;l-=2){let s=t.charAt(l).charCodeAt(0)-48;if(s<0||s>9)throw new Q;a+=s}a*=3;for(let l=r-2;l>=0;l-=2){let s=t.charAt(l).charCodeAt(0)-48;if(s<0||s>9)throw new Q;a+=s}return(1e3-a)%10}}class hr extends ft{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(t,r,a){let l=this.decodeMiddleCounters;l[0]=0,l[1]=0,l[2]=0,l[3]=0;let s=t.getSize(),u=r[1],c=0;for(let x=0;x<6&&u<s;x++){let w=ft.decodeDigit(t,l,u,ft.L_AND_G_PATTERNS);a+=String.fromCharCode(48+w%10);for(let v of l)u+=v;w>=10&&(c|=1<<5-x)}a=hr.determineFirstDigit(a,c),u=ft.findGuardPattern(t,u,!0,ft.MIDDLE_PATTERN,new Int32Array(ft.MIDDLE_PATTERN.length).fill(0))[1];for(let x=0;x<6&&u<s;x++){let w=ft.decodeDigit(t,l,u,ft.L_PATTERNS);a+=String.fromCharCode(48+w);for(let v of l)u+=v}return{rowOffset:u,resultString:a}}getBarcodeFormat(){return ie.EAN_13}static determineFirstDigit(t,r){for(let a=0;a<10;a++)if(r===this.FIRST_DIGIT_ENCODINGS[a])return t=String.fromCharCode(48+a)+t,t;throw new W}}hr.FIRST_DIGIT_ENCODINGS=[0,11,13,14,19,25,28,21,22,26];class Lr extends ft{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(t,r,a){const l=this.decodeMiddleCounters;l[0]=0,l[1]=0,l[2]=0,l[3]=0;let s=t.getSize(),u=r[1];for(let h=0;h<4&&u<s;h++){let x=ft.decodeDigit(t,l,u,ft.L_PATTERNS);a+=String.fromCharCode(48+x);for(let w of l)u+=w}u=ft.findGuardPattern(t,u,!0,ft.MIDDLE_PATTERN,new Int32Array(ft.MIDDLE_PATTERN.length).fill(0))[1];for(let h=0;h<4&&u<s;h++){let x=ft.decodeDigit(t,l,u,ft.L_PATTERNS);a+=String.fromCharCode(48+x);for(let w of l)u+=w}return{rowOffset:u,resultString:a}}getBarcodeFormat(){return ie.EAN_8}}class ii extends ft{constructor(){super(...arguments),this.ean13Reader=new hr}getBarcodeFormat(){return ie.UPC_A}decode(t,r){return this.maybeReturnResult(this.ean13Reader.decode(t))}decodeRow(t,r,a){return this.maybeReturnResult(this.ean13Reader.decodeRow(t,r,a))}decodeMiddle(t,r,a){return this.ean13Reader.decodeMiddle(t,r,a)}maybeReturnResult(t){let r=t.getText();if(r.charAt(0)==="0"){let a=new ae(r.substring(1),null,null,t.getResultPoints(),ie.UPC_A);return t.getResultMetadata()!=null&&a.putAllMetadata(t.getResultMetadata()),a}else throw new W}reset(){this.ean13Reader.reset()}}class Sn extends ft{constructor(){super(),this.decodeMiddleCounters=new Int32Array(4)}decodeMiddle(t,r,a){const l=this.decodeMiddleCounters.map(x=>x);l[0]=0,l[1]=0,l[2]=0,l[3]=0;const s=t.getSize();let u=r[1],c=0;for(let x=0;x<6&&u<s;x++){const w=Sn.decodeDigit(t,l,u,Sn.L_AND_G_PATTERNS);a+=String.fromCharCode(48+w%10);for(let v of l)u+=v;w>=10&&(c|=1<<5-x)}let h=Sn.determineNumSysAndCheckDigit(a,c);return{rowOffset:u,resultString:h}}decodeEnd(t,r){return Sn.findGuardPatternWithoutCounters(t,r,!0,Sn.MIDDLE_END_PATTERN)}checkChecksum(t){return ft.checkChecksum(Sn.convertUPCEtoUPCA(t))}static determineNumSysAndCheckDigit(t,r){for(let a=0;a<=1;a++)for(let l=0;l<10;l++)if(r===this.NUMSYS_AND_CHECK_DIGIT_PATTERNS[a][l]){let s=String.fromCharCode(48+a),u=String.fromCharCode(48+l);return s+t+u}throw W.getNotFoundInstance()}getBarcodeFormat(){return ie.UPC_E}static convertUPCEtoUPCA(t){const r=t.slice(1,7).split("").map(s=>s.charCodeAt(0)),a=new Re;a.append(t.charAt(0));let l=r[5];switch(l){case 0:case 1:case 2:a.appendChars(r,0,2),a.append(l),a.append("0000"),a.appendChars(r,2,3);break;case 3:a.appendChars(r,0,3),a.append("00000"),a.appendChars(r,3,2);break;case 4:a.appendChars(r,0,4),a.append("00000"),a.append(r[4]);break;default:a.appendChars(r,0,5),a.append("0000"),a.append(l);break}return t.length>=8&&a.append(t.charAt(7)),a.toString()}}Sn.MIDDLE_END_PATTERN=Int32Array.from([1,1,1,1,1,1]),Sn.NUMSYS_AND_CHECK_DIGIT_PATTERNS=[Int32Array.from([56,52,50,49,44,38,35,42,41,37]),Int32Array.from([7,11,13,14,19,25,28,21,22,26])];class wl extends Pt{constructor(t){super();let r=t==null?null:t.get(me.POSSIBLE_FORMATS),a=[];p(r)?(a.push(new hr),a.push(new ii),a.push(new Lr),a.push(new Sn)):(r.indexOf(ie.EAN_13)>-1&&a.push(new hr),r.indexOf(ie.UPC_A)>-1&&a.push(new ii),r.indexOf(ie.EAN_8)>-1&&a.push(new Lr),r.indexOf(ie.UPC_E)>-1&&a.push(new Sn)),this.readers=a}decodeRow(t,r,a){for(let l of this.readers)try{const s=l.decodeRow(t,r,a),u=s.getBarcodeFormat()===ie.EAN_13&&s.getText().charAt(0)==="0",c=a==null?null:a.get(me.POSSIBLE_FORMATS),h=c==null||c.includes(ie.UPC_A);if(u&&h){const x=s.getRawBytes(),w=new ae(s.getText().substring(1),x,x?x.length:null,s.getResultPoints(),ie.UPC_A);return w.putAllMetadata(s.getResultMetadata()),w}return s}catch{}throw new W}reset(){for(let t of this.readers)t.reset()}}class pn extends Pt{constructor(){super(),this.decodeFinderCounters=new Int32Array(4),this.dataCharacterCounters=new Int32Array(8),this.oddRoundingErrors=new Array(4),this.evenRoundingErrors=new Array(4),this.oddCounts=new Array(this.dataCharacterCounters.length/2),this.evenCounts=new Array(this.dataCharacterCounters.length/2)}getDecodeFinderCounters(){return this.decodeFinderCounters}getDataCharacterCounters(){return this.dataCharacterCounters}getOddRoundingErrors(){return this.oddRoundingErrors}getEvenRoundingErrors(){return this.evenRoundingErrors}getOddCounts(){return this.oddCounts}getEvenCounts(){return this.evenCounts}parseFinderValue(t,r){for(let a=0;a<r.length;a++)if(Pt.patternMatchVariance(t,r[a],pn.MAX_INDIVIDUAL_VARIANCE)<pn.MAX_AVG_VARIANCE)return a;throw new W}static count(t){return Qe.sum(new Int32Array(t))}static increment(t,r){let a=0,l=r[0];for(let s=1;s<t.length;s++)r[s]>l&&(l=r[s],a=s);t[a]++}static decrement(t,r){let a=0,l=r[0];for(let s=1;s<t.length;s++)r[s]<l&&(l=r[s],a=s);t[a]--}static isFinderPattern(t){let r=t[0]+t[1],a=r+t[2]+t[3],l=r/a;if(l>=pn.MIN_FINDER_PATTERN_RATIO&&l<=pn.MAX_FINDER_PATTERN_RATIO){let s=Number.MAX_SAFE_INTEGER,u=Number.MIN_SAFE_INTEGER;for(let c of t)c>u&&(u=c),c<s&&(s=c);return u<10*s}return!1}}pn.MAX_AVG_VARIANCE=.2,pn.MAX_INDIVIDUAL_VARIANCE=.45,pn.MIN_FINDER_PATTERN_RATIO=9.5/12,pn.MAX_FINDER_PATTERN_RATIO=12.5/14;class kr{constructor(t,r){this.value=t,this.checksumPortion=r}getValue(){return this.value}getChecksumPortion(){return this.checksumPortion}toString(){return this.value+"("+this.checksumPortion+")"}equals(t){if(!(t instanceof kr))return!1;const r=t;return this.value===r.value&&this.checksumPortion===r.checksumPortion}hashCode(){return this.value^this.checksumPortion}}class Ur{constructor(t,r,a,l,s){this.value=t,this.startEnd=r,this.value=t,this.startEnd=r,this.resultPoints=new Array,this.resultPoints.push(new Be(a,s)),this.resultPoints.push(new Be(l,s))}getValue(){return this.value}getStartEnd(){return this.startEnd}getResultPoints(){return this.resultPoints}equals(t){if(!(t instanceof Ur))return!1;const r=t;return this.value===r.value}hashCode(){return this.value}}class dr{constructor(){}static getRSSvalue(t,r,a){let l=0;for(let h of t)l+=h;let s=0,u=0,c=t.length;for(let h=0;h<c-1;h++){let x;for(x=1,u|=1<<h;x<t[h];x++,u&=~(1<<h)){let w=dr.combins(l-x-1,c-h-2);if(a&&u===0&&l-x-(c-h-1)>=c-h-1&&(w-=dr.combins(l-x-(c-h),c-h-2)),c-h-1>1){let v=0;for(let T=l-x-(c-h-2);T>r;T--)v+=dr.combins(l-x-T-1,c-h-3);w-=v*(c-1-h)}else l-x>r&&w--;s+=w}l-=x}return s}static combins(t,r){let a,l;t-r>r?(l=r,a=t-r):(l=t-r,a=r);let s=1,u=1;for(let c=t;c>a;c--)s*=c,u<=l&&(s/=u,u++);for(;u<=l;)s/=u,u++;return s}}class ys{static buildBitArray(t){let r=t.length*2-1;t[t.length-1].getRightChar()==null&&(r-=1);let a=12*r,l=new se(a),s=0,c=t[0].getRightChar().getValue();for(let h=11;h>=0;--h)(c&1<<h)!=0&&l.set(s),s++;for(let h=1;h<t.length;++h){let x=t[h],w=x.getLeftChar().getValue();for(let v=11;v>=0;--v)(w&1<<v)!=0&&l.set(s),s++;if(x.getRightChar()!=null){let v=x.getRightChar().getValue();for(let T=11;T>=0;--T)(v&1<<T)!=0&&l.set(s),s++}}return l}}class Fr{constructor(t,r){r?this.decodedInformation=null:(this.finished=t,this.decodedInformation=r)}getDecodedInformation(){return this.decodedInformation}isFinished(){return this.finished}}class _i{constructor(t){this.newPosition=t}getNewPosition(){return this.newPosition}}class En extends _i{constructor(t,r){super(t),this.value=r}getValue(){return this.value}isFNC1(){return this.value===En.FNC1}}En.FNC1="$";class Sr extends _i{constructor(t,r,a){super(t),a?(this.remaining=!0,this.remainingValue=this.remainingValue):(this.remaining=!1,this.remainingValue=0),this.newString=r}getNewString(){return this.newString}isRemaining(){return this.remaining}getRemainingValue(){return this.remainingValue}}class Mn extends _i{constructor(t,r,a){if(super(t),r<0||r>10||a<0||a>10)throw new Q;this.firstDigit=r,this.secondDigit=a}getFirstDigit(){return this.firstDigit}getSecondDigit(){return this.secondDigit}getValue(){return this.firstDigit*10+this.secondDigit}isFirstDigitFNC1(){return this.firstDigit===Mn.FNC1}isSecondDigitFNC1(){return this.secondDigit===Mn.FNC1}isAnyFNC1(){return this.firstDigit===Mn.FNC1||this.secondDigit===Mn.FNC1}}Mn.FNC1=10;class De{constructor(){}static parseFieldsInGeneralPurpose(t){if(!t)return null;if(t.length<2)throw new W;let r=t.substring(0,2);for(let s of De.TWO_DIGIT_DATA_LENGTH)if(s[0]===r)return s[1]===De.VARIABLE_LENGTH?De.processVariableAI(2,s[2],t):De.processFixedAI(2,s[1],t);if(t.length<3)throw new W;let a=t.substring(0,3);for(let s of De.THREE_DIGIT_DATA_LENGTH)if(s[0]===a)return s[1]===De.VARIABLE_LENGTH?De.processVariableAI(3,s[2],t):De.processFixedAI(3,s[1],t);for(let s of De.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH)if(s[0]===a)return s[1]===De.VARIABLE_LENGTH?De.processVariableAI(4,s[2],t):De.processFixedAI(4,s[1],t);if(t.length<4)throw new W;let l=t.substring(0,4);for(let s of De.FOUR_DIGIT_DATA_LENGTH)if(s[0]===l)return s[1]===De.VARIABLE_LENGTH?De.processVariableAI(4,s[2],t):De.processFixedAI(4,s[1],t);throw new W}static processFixedAI(t,r,a){if(a.length<t)throw new W;let l=a.substring(0,t);if(a.length<t+r)throw new W;let s=a.substring(t,t+r),u=a.substring(t+r),c="("+l+")"+s,h=De.parseFieldsInGeneralPurpose(u);return h==null?c:c+h}static processVariableAI(t,r,a){let l=a.substring(0,t),s;a.length<t+r?s=a.length:s=t+r;let u=a.substring(t,s),c=a.substring(s),h="("+l+")"+u,x=De.parseFieldsInGeneralPurpose(c);return x==null?h:h+x}}De.VARIABLE_LENGTH=[],De.TWO_DIGIT_DATA_LENGTH=[["00",18],["01",14],["02",14],["10",De.VARIABLE_LENGTH,20],["11",6],["12",6],["13",6],["15",6],["17",6],["20",2],["21",De.VARIABLE_LENGTH,20],["22",De.VARIABLE_LENGTH,29],["30",De.VARIABLE_LENGTH,8],["37",De.VARIABLE_LENGTH,8],["90",De.VARIABLE_LENGTH,30],["91",De.VARIABLE_LENGTH,30],["92",De.VARIABLE_LENGTH,30],["93",De.VARIABLE_LENGTH,30],["94",De.VARIABLE_LENGTH,30],["95",De.VARIABLE_LENGTH,30],["96",De.VARIABLE_LENGTH,30],["97",De.VARIABLE_LENGTH,3],["98",De.VARIABLE_LENGTH,30],["99",De.VARIABLE_LENGTH,30]],De.THREE_DIGIT_DATA_LENGTH=[["240",De.VARIABLE_LENGTH,30],["241",De.VARIABLE_LENGTH,30],["242",De.VARIABLE_LENGTH,6],["250",De.VARIABLE_LENGTH,30],["251",De.VARIABLE_LENGTH,30],["253",De.VARIABLE_LENGTH,17],["254",De.VARIABLE_LENGTH,20],["400",De.VARIABLE_LENGTH,30],["401",De.VARIABLE_LENGTH,30],["402",17],["403",De.VARIABLE_LENGTH,30],["410",13],["411",13],["412",13],["413",13],["414",13],["420",De.VARIABLE_LENGTH,20],["421",De.VARIABLE_LENGTH,15],["422",3],["423",De.VARIABLE_LENGTH,15],["424",3],["425",3],["426",3]],De.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH=[["310",6],["311",6],["312",6],["313",6],["314",6],["315",6],["316",6],["320",6],["321",6],["322",6],["323",6],["324",6],["325",6],["326",6],["327",6],["328",6],["329",6],["330",6],["331",6],["332",6],["333",6],["334",6],["335",6],["336",6],["340",6],["341",6],["342",6],["343",6],["344",6],["345",6],["346",6],["347",6],["348",6],["349",6],["350",6],["351",6],["352",6],["353",6],["354",6],["355",6],["356",6],["357",6],["360",6],["361",6],["362",6],["363",6],["364",6],["365",6],["366",6],["367",6],["368",6],["369",6],["390",De.VARIABLE_LENGTH,15],["391",De.VARIABLE_LENGTH,18],["392",De.VARIABLE_LENGTH,15],["393",De.VARIABLE_LENGTH,18],["703",De.VARIABLE_LENGTH,30]],De.FOUR_DIGIT_DATA_LENGTH=[["7001",13],["7002",De.VARIABLE_LENGTH,30],["7003",10],["8001",14],["8002",De.VARIABLE_LENGTH,20],["8003",De.VARIABLE_LENGTH,30],["8004",De.VARIABLE_LENGTH,30],["8005",6],["8006",18],["8007",De.VARIABLE_LENGTH,30],["8008",De.VARIABLE_LENGTH,12],["8018",18],["8020",De.VARIABLE_LENGTH,25],["8100",6],["8101",10],["8102",2],["8110",De.VARIABLE_LENGTH,70],["8200",De.VARIABLE_LENGTH,70]];class Bn{constructor(t){this.buffer=new Re,this.information=t}decodeAllCodes(t,r){let a=r,l=null;do{let s=this.decodeGeneralPurposeField(a,l),u=De.parseFieldsInGeneralPurpose(s.getNewString());if(u!=null&&t.append(u),s.isRemaining()?l=""+s.getRemainingValue():l=null,a===s.getNewPosition())break;a=s.getNewPosition()}while(!0);return t.toString()}isStillNumeric(t){if(t+7>this.information.getSize())return t+4<=this.information.getSize();for(let r=t;r<t+3;++r)if(this.information.get(r))return!0;return this.information.get(t+3)}decodeNumeric(t){if(t+7>this.information.getSize()){let s=this.extractNumericValueFromBitArray(t,4);return s===0?new Mn(this.information.getSize(),Mn.FNC1,Mn.FNC1):new Mn(this.information.getSize(),s-1,Mn.FNC1)}let r=this.extractNumericValueFromBitArray(t,7),a=(r-8)/11,l=(r-8)%11;return new Mn(t+7,a,l)}extractNumericValueFromBitArray(t,r){return Bn.extractNumericValueFromBitArray(this.information,t,r)}static extractNumericValueFromBitArray(t,r,a){let l=0;for(let s=0;s<a;++s)t.get(r+s)&&(l|=1<<a-s-1);return l}decodeGeneralPurposeField(t,r){this.buffer.setLengthToZero(),r!=null&&this.buffer.append(r),this.current.setPosition(t);let a=this.parseBlocks();return a!=null&&a.isRemaining()?new Sr(this.current.getPosition(),this.buffer.toString(),a.getRemainingValue()):new Sr(this.current.getPosition(),this.buffer.toString())}parseBlocks(){let t,r;do{let a=this.current.getPosition();if(this.current.isAlpha()?(r=this.parseAlphaBlock(),t=r.isFinished()):this.current.isIsoIec646()?(r=this.parseIsoIec646Block(),t=r.isFinished()):(r=this.parseNumericBlock(),t=r.isFinished()),!(a!==this.current.getPosition())&&!t)break}while(!t);return r.getDecodedInformation()}parseNumericBlock(){for(;this.isStillNumeric(this.current.getPosition());){let t=this.decodeNumeric(this.current.getPosition());if(this.current.setPosition(t.getNewPosition()),t.isFirstDigitFNC1()){let r;return t.isSecondDigitFNC1()?r=new Sr(this.current.getPosition(),this.buffer.toString()):r=new Sr(this.current.getPosition(),this.buffer.toString(),t.getSecondDigit()),new Fr(!0,r)}if(this.buffer.append(t.getFirstDigit()),t.isSecondDigitFNC1()){let r=new Sr(this.current.getPosition(),this.buffer.toString());return new Fr(!0,r)}this.buffer.append(t.getSecondDigit())}return this.isNumericToAlphaNumericLatch(this.current.getPosition())&&(this.current.setAlpha(),this.current.incrementPosition(4)),new Fr(!1)}parseIsoIec646Block(){for(;this.isStillIsoIec646(this.current.getPosition());){let t=this.decodeIsoIec646(this.current.getPosition());if(this.current.setPosition(t.getNewPosition()),t.isFNC1()){let r=new Sr(this.current.getPosition(),this.buffer.toString());return new Fr(!0,r)}this.buffer.append(t.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setAlpha()),new Fr(!1)}parseAlphaBlock(){for(;this.isStillAlpha(this.current.getPosition());){let t=this.decodeAlphanumeric(this.current.getPosition());if(this.current.setPosition(t.getNewPosition()),t.isFNC1()){let r=new Sr(this.current.getPosition(),this.buffer.toString());return new Fr(!0,r)}this.buffer.append(t.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setIsoIec646()),new Fr(!1)}isStillIsoIec646(t){if(t+5>this.information.getSize())return!1;let r=this.extractNumericValueFromBitArray(t,5);if(r>=5&&r<16)return!0;if(t+7>this.information.getSize())return!1;let a=this.extractNumericValueFromBitArray(t,7);if(a>=64&&a<116)return!0;if(t+8>this.information.getSize())return!1;let l=this.extractNumericValueFromBitArray(t,8);return l>=232&&l<253}decodeIsoIec646(t){let r=this.extractNumericValueFromBitArray(t,5);if(r===15)return new En(t+5,En.FNC1);if(r>=5&&r<15)return new En(t+5,"0"+(r-5));let a=this.extractNumericValueFromBitArray(t,7);if(a>=64&&a<90)return new En(t+7,""+(a+1));if(a>=90&&a<116)return new En(t+7,""+(a+7));let l=this.extractNumericValueFromBitArray(t,8),s;switch(l){case 232:s="!";break;case 233:s='"';break;case 234:s="%";break;case 235:s="&";break;case 236:s="'";break;case 237:s="(";break;case 238:s=")";break;case 239:s="*";break;case 240:s="+";break;case 241:s=",";break;case 242:s="-";break;case 243:s=".";break;case 244:s="/";break;case 245:s=":";break;case 246:s=";";break;case 247:s="<";break;case 248:s="=";break;case 249:s=">";break;case 250:s="?";break;case 251:s="_";break;case 252:s=" ";break;default:throw new Q}return new En(t+8,s)}isStillAlpha(t){if(t+5>this.information.getSize())return!1;let r=this.extractNumericValueFromBitArray(t,5);if(r>=5&&r<16)return!0;if(t+6>this.information.getSize())return!1;let a=this.extractNumericValueFromBitArray(t,6);return a>=16&&a<63}decodeAlphanumeric(t){let r=this.extractNumericValueFromBitArray(t,5);if(r===15)return new En(t+5,En.FNC1);if(r>=5&&r<15)return new En(t+5,"0"+(r-5));let a=this.extractNumericValueFromBitArray(t,6);if(a>=32&&a<58)return new En(t+6,""+(a+33));let l;switch(a){case 58:l="*";break;case 59:l=",";break;case 60:l="-";break;case 61:l=".";break;case 62:l="/";break;default:throw new Dt("Decoding invalid alphanumeric value: "+a)}return new En(t+6,l)}isAlphaTo646ToAlphaLatch(t){if(t+1>this.information.getSize())return!1;for(let r=0;r<5&&r+t<this.information.getSize();++r)if(r===2){if(!this.information.get(t+2))return!1}else if(this.information.get(t+r))return!1;return!0}isAlphaOr646ToNumericLatch(t){if(t+3>this.information.getSize())return!1;for(let r=t;r<t+3;++r)if(this.information.get(r))return!1;return!0}isNumericToAlphaNumericLatch(t){if(t+1>this.information.getSize())return!1;for(let r=0;r<4&&r+t<this.information.getSize();++r)if(this.information.get(t+r))return!1;return!0}}class sn{constructor(t){this.information=t,this.generalDecoder=new Bn(t)}getInformation(){return this.information}getGeneralDecoder(){return this.generalDecoder}}class Rt extends sn{constructor(t){super(t)}encodeCompressedGtin(t,r){t.append("(01)");let a=t.length();t.append("9"),this.encodeCompressedGtinWithoutAI(t,r,a)}encodeCompressedGtinWithoutAI(t,r,a){for(let l=0;l<4;++l){let s=this.getGeneralDecoder().extractNumericValueFromBitArray(r+10*l,10);s/100===0&&t.append("0"),s/10===0&&t.append("0"),t.append(s)}Rt.appendCheckDigit(t,a)}static appendCheckDigit(t,r){let a=0;for(let l=0;l<13;l++){let s=t.charAt(l+r).charCodeAt(0)-48;a+=(l&1)===0?3*s:s}a=10-a%10,a===10&&(a=0),t.append(a)}}Rt.GTIN_SIZE=40;class $n extends Rt{constructor(t){super(t)}parseInformation(){let t=new Re;t.append("(01)");let r=t.length(),a=this.getGeneralDecoder().extractNumericValueFromBitArray($n.HEADER_SIZE,4);return t.append(a),this.encodeCompressedGtinWithoutAI(t,$n.HEADER_SIZE+4,r),this.getGeneralDecoder().decodeAllCodes(t,$n.HEADER_SIZE+44)}}$n.HEADER_SIZE=4;class wa extends sn{constructor(t){super(t)}parseInformation(){let t=new Re;return this.getGeneralDecoder().decodeAllCodes(t,wa.HEADER_SIZE)}}wa.HEADER_SIZE=5;class Ii extends Rt{constructor(t){super(t)}encodeCompressedWeight(t,r,a){let l=this.getGeneralDecoder().extractNumericValueFromBitArray(r,a);this.addWeightCode(t,l);let s=this.checkWeight(l),u=1e5;for(let c=0;c<5;++c)s/u===0&&t.append("0"),u/=10;t.append(s)}}class Vr extends Ii{constructor(t){super(t)}parseInformation(){if(this.getInformation().getSize()!=Vr.HEADER_SIZE+Ii.GTIN_SIZE+Vr.WEIGHT_SIZE)throw new W;let t=new Re;return this.encodeCompressedGtin(t,Vr.HEADER_SIZE),this.encodeCompressedWeight(t,Vr.HEADER_SIZE+Ii.GTIN_SIZE,Vr.WEIGHT_SIZE),t.toString()}}Vr.HEADER_SIZE=5,Vr.WEIGHT_SIZE=15;class ws extends Vr{constructor(t){super(t)}addWeightCode(t,r){t.append("(3103)")}checkWeight(t){return t}}class li extends Vr{constructor(t){super(t)}addWeightCode(t,r){r<1e4?t.append("(3202)"):t.append("(3203)")}checkWeight(t){return t<1e4?t:t-1e4}}class Pn extends Rt{constructor(t){super(t)}parseInformation(){if(this.getInformation().getSize()<Pn.HEADER_SIZE+Rt.GTIN_SIZE)throw new W;let t=new Re;this.encodeCompressedGtin(t,Pn.HEADER_SIZE);let r=this.getGeneralDecoder().extractNumericValueFromBitArray(Pn.HEADER_SIZE+Rt.GTIN_SIZE,Pn.LAST_DIGIT_SIZE);t.append("(392"),t.append(r),t.append(")");let a=this.getGeneralDecoder().decodeGeneralPurposeField(Pn.HEADER_SIZE+Rt.GTIN_SIZE+Pn.LAST_DIGIT_SIZE,null);return t.append(a.getNewString()),t.toString()}}Pn.HEADER_SIZE=8,Pn.LAST_DIGIT_SIZE=2;class en extends Rt{constructor(t){super(t)}parseInformation(){if(this.getInformation().getSize()<en.HEADER_SIZE+Rt.GTIN_SIZE)throw new W;let t=new Re;this.encodeCompressedGtin(t,en.HEADER_SIZE);let r=this.getGeneralDecoder().extractNumericValueFromBitArray(en.HEADER_SIZE+Rt.GTIN_SIZE,en.LAST_DIGIT_SIZE);t.append("(393"),t.append(r),t.append(")");let a=this.getGeneralDecoder().extractNumericValueFromBitArray(en.HEADER_SIZE+Rt.GTIN_SIZE+en.LAST_DIGIT_SIZE,en.FIRST_THREE_DIGITS_SIZE);a/100==0&&t.append("0"),a/10==0&&t.append("0"),t.append(a);let l=this.getGeneralDecoder().decodeGeneralPurposeField(en.HEADER_SIZE+Rt.GTIN_SIZE+en.LAST_DIGIT_SIZE+en.FIRST_THREE_DIGITS_SIZE,null);return t.append(l.getNewString()),t.toString()}}en.HEADER_SIZE=8,en.LAST_DIGIT_SIZE=2,en.FIRST_THREE_DIGITS_SIZE=10;class Et extends Ii{constructor(t,r,a){super(t),this.dateCode=a,this.firstAIdigits=r}parseInformation(){if(this.getInformation().getSize()!=Et.HEADER_SIZE+Et.GTIN_SIZE+Et.WEIGHT_SIZE+Et.DATE_SIZE)throw new W;let t=new Re;return this.encodeCompressedGtin(t,Et.HEADER_SIZE),this.encodeCompressedWeight(t,Et.HEADER_SIZE+Et.GTIN_SIZE,Et.WEIGHT_SIZE),this.encodeCompressedDate(t,Et.HEADER_SIZE+Et.GTIN_SIZE+Et.WEIGHT_SIZE),t.toString()}encodeCompressedDate(t,r){let a=this.getGeneralDecoder().extractNumericValueFromBitArray(r,Et.DATE_SIZE);if(a==38400)return;t.append("("),t.append(this.dateCode),t.append(")");let l=a%32;a/=32;let s=a%12+1;a/=12;let u=a;u/10==0&&t.append("0"),t.append(u),s/10==0&&t.append("0"),t.append(s),l/10==0&&t.append("0"),t.append(l)}addWeightCode(t,r){t.append("("),t.append(this.firstAIdigits),t.append(r/1e5),t.append(")")}checkWeight(t){return t%1e5}}Et.HEADER_SIZE=8,Et.WEIGHT_SIZE=20,Et.DATE_SIZE=16;function ba(C){try{if(C.get(1))return new $n(C);if(!C.get(2))return new wa(C);switch(Bn.extractNumericValueFromBitArray(C,1,4)){case 4:return new ws(C);case 5:return new li(C)}switch(Bn.extractNumericValueFromBitArray(C,1,5)){case 12:return new Pn(C);case 13:return new en(C)}switch(Bn.extractNumericValueFromBitArray(C,1,7)){case 56:return new Et(C,"310","11");case 57:return new Et(C,"320","11");case 58:return new Et(C,"310","13");case 59:return new Et(C,"320","13");case 60:return new Et(C,"310","15");case 61:return new Et(C,"320","15");case 62:return new Et(C,"310","17");case 63:return new Et(C,"320","17")}}catch(t){throw console.log(t),new Dt("unknown decoder: "+C)}}class Ln{constructor(t,r,a,l){this.leftchar=t,this.rightchar=r,this.finderpattern=a,this.maybeLast=l}mayBeLast(){return this.maybeLast}getLeftChar(){return this.leftchar}getRightChar(){return this.rightchar}getFinderPattern(){return this.finderpattern}mustBeLast(){return this.rightchar==null}toString(){return"[ "+this.leftchar+", "+this.rightchar+" : "+(this.finderpattern==null?"null":this.finderpattern.getValue())+" ]"}static equals(t,r){return t instanceof Ln?Ln.equalsOrNull(t.leftchar,r.leftchar)&&Ln.equalsOrNull(t.rightchar,r.rightchar)&&Ln.equalsOrNull(t.finderpattern,r.finderpattern):!1}static equalsOrNull(t,r){return t===null?r===null:Ln.equals(t,r)}hashCode(){return this.leftchar.getValue()^this.rightchar.getValue()^this.finderpattern.getValue()}}class tn{constructor(t,r,a){this.pairs=t,this.rowNumber=r,this.wasReversed=a}getPairs(){return this.pairs}getRowNumber(){return this.rowNumber}isReversed(){return this.wasReversed}isEquivalent(t){return this.checkEqualitity(this,t)}toString(){return"{ "+this.pairs+" }"}equals(t,r){return t instanceof tn?this.checkEqualitity(t,r)&&t.wasReversed===r.wasReversed:!1}checkEqualitity(t,r){if(!t||!r)return;let a;return t.forEach((l,s)=>{r.forEach(u=>{l.getLeftChar().getValue()===u.getLeftChar().getValue()&&l.getRightChar().getValue()===u.getRightChar().getValue()&&l.getFinderPatter().getValue()===u.getFinderPatter().getValue()&&(a=!0)})}),a}}class ye extends pn{constructor(t){super(...arguments),this.pairs=new Array(ye.MAX_PAIRS),this.rows=new Array,this.startEnd=[2],this.verbose=t===!0}decodeRow(t,r,a){this.pairs.length=0,this.startFromEven=!1;try{return ye.constructResult(this.decodeRow2pairs(t,r))}catch(l){this.verbose&&console.log(l)}return this.pairs.length=0,this.startFromEven=!0,ye.constructResult(this.decodeRow2pairs(t,r))}reset(){this.pairs.length=0,this.rows.length=0}decodeRow2pairs(t,r){let a=!1;for(;!a;)try{this.pairs.push(this.retrieveNextPair(r,this.pairs,t))}catch(s){if(s instanceof W){if(!this.pairs.length)throw new W;a=!0}}if(this.checkChecksum())return this.pairs;let l;if(this.rows.length?l=!0:l=!1,this.storeRow(t,!1),l){let s=this.checkRowsBoolean(!1);if(s!=null||(s=this.checkRowsBoolean(!0),s!=null))return s}throw new W}checkRowsBoolean(t){if(this.rows.length>25)return this.rows.length=0,null;this.pairs.length=0,t&&(this.rows=this.rows.reverse());let r=null;try{r=this.checkRows(new Array,0)}catch(a){this.verbose&&console.log(a)}return t&&(this.rows=this.rows.reverse()),r}checkRows(t,r){for(let a=r;a<this.rows.length;a++){let l=this.rows[a];this.pairs.length=0;for(let u of t)this.pairs.push(u.getPairs());if(this.pairs.push(l.getPairs()),!ye.isValidSequence(this.pairs))continue;if(this.checkChecksum())return this.pairs;let s=new Array(t);s.push(l);try{return this.checkRows(s,a+1)}catch(u){this.verbose&&console.log(u)}}throw new W}static isValidSequence(t){for(let r of ye.FINDER_PATTERN_SEQUENCES){if(t.length>r.length)continue;let a=!0;for(let l=0;l<t.length;l++)if(t[l].getFinderPattern().getValue()!=r[l]){a=!1;break}if(a)return!0}return!1}storeRow(t,r){let a=0,l=!1,s=!1;for(;a<this.rows.length;){let u=this.rows[a];if(u.getRowNumber()>t){s=u.isEquivalent(this.pairs);break}l=u.isEquivalent(this.pairs),a++}s||l||ye.isPartialRow(this.pairs,this.rows)||(this.rows.push(a,new tn(this.pairs,t,r)),this.removePartialRows(this.pairs,this.rows))}removePartialRows(t,r){for(let a of r)if(a.getPairs().length!==t.length){for(let l of a.getPairs())for(let s of t)if(Ln.equals(l,s))break}}static isPartialRow(t,r){for(let a of r){let l=!0;for(let s of t){let u=!1;for(let c of a.getPairs())if(s.equals(c)){u=!0;break}if(!u){l=!1;break}}if(l)return!0}return!1}getRows(){return this.rows}static constructResult(t){let r=ys.buildBitArray(t),l=ba(r).parseInformation(),s=t[0].getFinderPattern().getResultPoints(),u=t[t.length-1].getFinderPattern().getResultPoints(),c=[s[0],s[1],u[0],u[1]];return new ae(l,null,null,c,ie.RSS_EXPANDED,null)}checkChecksum(){let t=this.pairs.get(0),r=t.getLeftChar(),a=t.getRightChar();if(a==null)return!1;let l=a.getChecksumPortion(),s=2;for(let c=1;c<this.pairs.size();++c){let h=this.pairs.get(c);l+=h.getLeftChar().getChecksumPortion(),s++;let x=h.getRightChar();x!=null&&(l+=x.getChecksumPortion(),s++)}return l%=211,211*(s-4)+l==r.getValue()}static getNextSecondBar(t,r){let a;return t.get(r)?(a=t.getNextUnset(r),a=t.getNextSet(a)):(a=t.getNextSet(r),a=t.getNextUnset(a)),a}retrieveNextPair(t,r,a){let l=r.length%2==0;this.startFromEven&&(l=!l);let s,u=!0,c=-1;do this.findNextPair(t,r,c),s=this.parseFoundFinderPattern(t,a,l),s==null?c=ye.getNextSecondBar(t,this.startEnd[0]):u=!1;while(u);let h=this.decodeDataCharacter(t,s,l,!0);if(!this.isEmptyPair(r)&&r[r.length-1].mustBeLast())throw new W;let x;try{x=this.decodeDataCharacter(t,s,l,!1)}catch(w){x=null,this.verbose&&console.log(w)}return new Ln(h,x,s,!0)}isEmptyPair(t){return t.length===0}findNextPair(t,r,a){let l=this.getDecodeFinderCounters();l[0]=0,l[1]=0,l[2]=0,l[3]=0;let s=t.getSize(),u;a>=0?u=a:this.isEmptyPair(r)?u=0:u=r[r.length-1].getFinderPattern().getStartEnd()[1];let c=r.length%2!=0;this.startFromEven&&(c=!c);let h=!1;for(;u<s&&(h=!t.get(u),!!h);)u++;let x=0,w=u;for(let v=u;v<s;v++)if(t.get(v)!=h)l[x]++;else{if(x==3){if(c&&ye.reverseCounters(l),ye.isFinderPattern(l)){this.startEnd[0]=w,this.startEnd[1]=v;return}c&&ye.reverseCounters(l),w+=l[0]+l[1],l[0]=l[2],l[1]=l[3],l[2]=0,l[3]=0,x--}else x++;l[x]=1,h=!h}throw new W}static reverseCounters(t){let r=t.length;for(let a=0;a<r/2;++a){let l=t[a];t[a]=t[r-a-1],t[r-a-1]=l}}parseFoundFinderPattern(t,r,a){let l,s,u;if(a){let x=this.startEnd[0]-1;for(;x>=0&&!t.get(x);)x--;x++,l=this.startEnd[0]-x,s=x,u=this.startEnd[1]}else s=this.startEnd[0],u=t.getNextUnset(this.startEnd[1]+1),l=u-this.startEnd[1];let c=this.getDecodeFinderCounters();te.arraycopy(c,0,c,1,c.length-1),c[0]=l;let h;try{h=this.parseFinderValue(c,ye.FINDER_PATTERNS)}catch{return null}return new Ur(h,[s,u],s,u,r)}decodeDataCharacter(t,r,a,l){let s=this.getDataCharacterCounters();for(let Nt=0;Nt<s.length;Nt++)s[Nt]=0;if(l)ye.recordPatternInReverse(t,r.getStartEnd()[0],s);else{ye.recordPattern(t,r.getStartEnd()[1],s);for(let Nt=0,wn=s.length-1;Nt<wn;Nt++,wn--){let Fn=s[Nt];s[Nt]=s[wn],s[wn]=Fn}}let u=17,c=Qe.sum(new Int32Array(s))/u,h=(r.getStartEnd()[1]-r.getStartEnd()[0])/15;if(Math.abs(c-h)/h>.3)throw new W;let x=this.getOddCounts(),w=this.getEvenCounts(),v=this.getOddRoundingErrors(),T=this.getEvenRoundingErrors();for(let Nt=0;Nt<s.length;Nt++){let wn=1*s[Nt]/c,Fn=wn+.5;if(Fn<1){if(wn<.3)throw new W;Fn=1}else if(Fn>8){if(wn>8.7)throw new W;Fn=8}let Ma=Nt/2;(Nt&1)==0?(x[Ma]=Fn,v[Ma]=wn-Fn):(w[Ma]=Fn,T[Ma]=wn-Fn)}this.adjustOddEvenCounts(u);let B=4*r.getValue()+(a?0:2)+(l?0:1)-1,j=0,H=0;for(let Nt=x.length-1;Nt>=0;Nt--){if(ye.isNotA1left(r,a,l)){let wn=ye.WEIGHTS[B][2*Nt];H+=x[Nt]*wn}j+=x[Nt]}let K=0;for(let Nt=w.length-1;Nt>=0;Nt--)if(ye.isNotA1left(r,a,l)){let wn=ye.WEIGHTS[B][2*Nt+1];K+=w[Nt]*wn}let fe=H+K;if((j&1)!=0||j>13||j<4)throw new W;let Te=(13-j)/2,ve=ye.SYMBOL_WIDEST[Te],be=9-ve,it=dr.getRSSvalue(x,ve,!0),$e=dr.getRSSvalue(w,be,!1),nn=ye.EVEN_TOTAL_SUBSET[Te],Yn=ye.GSUM[Te],Tn=it*nn+$e+Yn;return new kr(Tn,fe)}static isNotA1left(t,r,a){return!(t.getValue()==0&&r&&a)}adjustOddEvenCounts(t){let r=Qe.sum(new Int32Array(this.getOddCounts())),a=Qe.sum(new Int32Array(this.getEvenCounts())),l=!1,s=!1;r>13?s=!0:r<4&&(l=!0);let u=!1,c=!1;a>13?c=!0:a<4&&(u=!0);let h=r+a-t,x=(r&1)==1,w=(a&1)==0;if(h==1)if(x){if(w)throw new W;s=!0}else{if(!w)throw new W;c=!0}else if(h==-1)if(x){if(w)throw new W;l=!0}else{if(!w)throw new W;u=!0}else if(h==0){if(x){if(!w)throw new W;r<a?(l=!0,c=!0):(s=!0,u=!0)}else if(w)throw new W}else throw new W;if(l){if(s)throw new W;ye.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(s&&ye.decrement(this.getOddCounts(),this.getOddRoundingErrors()),u){if(c)throw new W;ye.increment(this.getEvenCounts(),this.getOddRoundingErrors())}c&&ye.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}ye.SYMBOL_WIDEST=[7,5,4,3,1],ye.EVEN_TOTAL_SUBSET=[4,20,52,104,204],ye.GSUM=[0,348,1388,2948,3988],ye.FINDER_PATTERNS=[Int32Array.from([1,8,4,1]),Int32Array.from([3,6,4,1]),Int32Array.from([3,4,6,1]),Int32Array.from([3,2,8,1]),Int32Array.from([2,6,5,1]),Int32Array.from([2,2,9,1])],ye.WEIGHTS=[[1,3,9,27,81,32,96,77],[20,60,180,118,143,7,21,63],[189,145,13,39,117,140,209,205],[193,157,49,147,19,57,171,91],[62,186,136,197,169,85,44,132],[185,133,188,142,4,12,36,108],[113,128,173,97,80,29,87,50],[150,28,84,41,123,158,52,156],[46,138,203,187,139,206,196,166],[76,17,51,153,37,111,122,155],[43,129,176,106,107,110,119,146],[16,48,144,10,30,90,59,177],[109,116,137,200,178,112,125,164],[70,210,208,202,184,130,179,115],[134,191,151,31,93,68,204,190],[148,22,66,198,172,94,71,2],[6,18,54,162,64,192,154,40],[120,149,25,75,14,42,126,167],[79,26,78,23,69,207,199,175],[103,98,83,38,114,131,182,124],[161,61,183,127,170,88,53,159],[55,165,73,8,24,72,5,15],[45,135,194,160,58,174,100,89]],ye.FINDER_PAT_A=0,ye.FINDER_PAT_B=1,ye.FINDER_PAT_C=2,ye.FINDER_PAT_D=3,ye.FINDER_PAT_E=4,ye.FINDER_PAT_F=5,ye.FINDER_PATTERN_SEQUENCES=[[ye.FINDER_PAT_A,ye.FINDER_PAT_A],[ye.FINDER_PAT_A,ye.FINDER_PAT_B,ye.FINDER_PAT_B],[ye.FINDER_PAT_A,ye.FINDER_PAT_C,ye.FINDER_PAT_B,ye.FINDER_PAT_D],[ye.FINDER_PAT_A,ye.FINDER_PAT_E,ye.FINDER_PAT_B,ye.FINDER_PAT_D,ye.FINDER_PAT_C],[ye.FINDER_PAT_A,ye.FINDER_PAT_E,ye.FINDER_PAT_B,ye.FINDER_PAT_D,ye.FINDER_PAT_D,ye.FINDER_PAT_F],[ye.FINDER_PAT_A,ye.FINDER_PAT_E,ye.FINDER_PAT_B,ye.FINDER_PAT_D,ye.FINDER_PAT_E,ye.FINDER_PAT_F,ye.FINDER_PAT_F],[ye.FINDER_PAT_A,ye.FINDER_PAT_A,ye.FINDER_PAT_B,ye.FINDER_PAT_B,ye.FINDER_PAT_C,ye.FINDER_PAT_C,ye.FINDER_PAT_D,ye.FINDER_PAT_D],[ye.FINDER_PAT_A,ye.FINDER_PAT_A,ye.FINDER_PAT_B,ye.FINDER_PAT_B,ye.FINDER_PAT_C,ye.FINDER_PAT_C,ye.FINDER_PAT_D,ye.FINDER_PAT_E,ye.FINDER_PAT_E],[ye.FINDER_PAT_A,ye.FINDER_PAT_A,ye.FINDER_PAT_B,ye.FINDER_PAT_B,ye.FINDER_PAT_C,ye.FINDER_PAT_C,ye.FINDER_PAT_D,ye.FINDER_PAT_E,ye.FINDER_PAT_F,ye.FINDER_PAT_F],[ye.FINDER_PAT_A,ye.FINDER_PAT_A,ye.FINDER_PAT_B,ye.FINDER_PAT_B,ye.FINDER_PAT_C,ye.FINDER_PAT_D,ye.FINDER_PAT_D,ye.FINDER_PAT_E,ye.FINDER_PAT_E,ye.FINDER_PAT_F,ye.FINDER_PAT_F]],ye.MAX_PAIRS=11;class bs extends kr{constructor(t,r,a){super(t,r),this.count=0,this.finderPattern=a}getFinderPattern(){return this.finderPattern}getCount(){return this.count}incrementCount(){this.count++}}class St extends pn{constructor(){super(...arguments),this.possibleLeftPairs=[],this.possibleRightPairs=[]}decodeRow(t,r,a){const l=this.decodePair(r,!1,t,a);St.addOrTally(this.possibleLeftPairs,l),r.reverse();let s=this.decodePair(r,!0,t,a);St.addOrTally(this.possibleRightPairs,s),r.reverse();for(let u of this.possibleLeftPairs)if(u.getCount()>1){for(let c of this.possibleRightPairs)if(c.getCount()>1&&St.checkChecksum(u,c))return St.constructResult(u,c)}throw new W}static addOrTally(t,r){if(r==null)return;let a=!1;for(let l of t)if(l.getValue()===r.getValue()){l.incrementCount(),a=!0;break}a||t.push(r)}reset(){this.possibleLeftPairs.length=0,this.possibleRightPairs.length=0}static constructResult(t,r){let a=4537077*t.getValue()+r.getValue(),l=new String(a).toString(),s=new Re;for(let x=13-l.length;x>0;x--)s.append("0");s.append(l);let u=0;for(let x=0;x<13;x++){let w=s.charAt(x).charCodeAt(0)-48;u+=(x&1)===0?3*w:w}u=10-u%10,u===10&&(u=0),s.append(u.toString());let c=t.getFinderPattern().getResultPoints(),h=r.getFinderPattern().getResultPoints();return new ae(s.toString(),null,0,[c[0],c[1],h[0],h[1]],ie.RSS_14,new Date().getTime())}static checkChecksum(t,r){let a=(t.getChecksumPortion()+16*r.getChecksumPortion())%79,l=9*t.getFinderPattern().getValue()+r.getFinderPattern().getValue();return l>72&&l--,l>8&&l--,a===l}decodePair(t,r,a,l){try{let s=this.findFinderPattern(t,r),u=this.parseFoundFinderPattern(t,a,r,s),c=l==null?null:l.get(me.NEED_RESULT_POINT_CALLBACK);if(c!=null){let w=(s[0]+s[1])/2;r&&(w=t.getSize()-1-w),c.foundPossibleResultPoint(new Be(w,a))}let h=this.decodeDataCharacter(t,u,!0),x=this.decodeDataCharacter(t,u,!1);return new bs(1597*h.getValue()+x.getValue(),h.getChecksumPortion()+4*x.getChecksumPortion(),u)}catch{return null}}decodeDataCharacter(t,r,a){let l=this.getDataCharacterCounters();for(let K=0;K<l.length;K++)l[K]=0;if(a)Pt.recordPatternInReverse(t,r.getStartEnd()[0],l);else{Pt.recordPattern(t,r.getStartEnd()[1]+1,l);for(let K=0,fe=l.length-1;K<fe;K++,fe--){let Te=l[K];l[K]=l[fe],l[fe]=Te}}let s=a?16:15,u=Qe.sum(new Int32Array(l))/s,c=this.getOddCounts(),h=this.getEvenCounts(),x=this.getOddRoundingErrors(),w=this.getEvenRoundingErrors();for(let K=0;K<l.length;K++){let fe=l[K]/u,Te=Math.floor(fe+.5);Te<1?Te=1:Te>8&&(Te=8);let ve=Math.floor(K/2);(K&1)===0?(c[ve]=Te,x[ve]=fe-Te):(h[ve]=Te,w[ve]=fe-Te)}this.adjustOddEvenCounts(a,s);let v=0,T=0;for(let K=c.length-1;K>=0;K--)T*=9,T+=c[K],v+=c[K];let B=0,j=0;for(let K=h.length-1;K>=0;K--)B*=9,B+=h[K],j+=h[K];let H=T+3*B;if(a){if((v&1)!==0||v>12||v<4)throw new W;let K=(12-v)/2,fe=St.OUTSIDE_ODD_WIDEST[K],Te=9-fe,ve=dr.getRSSvalue(c,fe,!1),be=dr.getRSSvalue(h,Te,!0),it=St.OUTSIDE_EVEN_TOTAL_SUBSET[K],$e=St.OUTSIDE_GSUM[K];return new kr(ve*it+be+$e,H)}else{if((j&1)!==0||j>10||j<4)throw new W;let K=(10-j)/2,fe=St.INSIDE_ODD_WIDEST[K],Te=9-fe,ve=dr.getRSSvalue(c,fe,!0),be=dr.getRSSvalue(h,Te,!1),it=St.INSIDE_ODD_TOTAL_SUBSET[K],$e=St.INSIDE_GSUM[K];return new kr(be*it+ve+$e,H)}}findFinderPattern(t,r){let a=this.getDecodeFinderCounters();a[0]=0,a[1]=0,a[2]=0,a[3]=0;let l=t.getSize(),s=!1,u=0;for(;u<l&&(s=!t.get(u),r!==s);)u++;let c=0,h=u;for(let x=u;x<l;x++)if(t.get(x)!==s)a[c]++;else{if(c===3){if(pn.isFinderPattern(a))return[h,x];h+=a[0]+a[1],a[0]=a[2],a[1]=a[3],a[2]=0,a[3]=0,c--}else c++;a[c]=1,s=!s}throw new W}parseFoundFinderPattern(t,r,a,l){let s=t.get(l[0]),u=l[0]-1;for(;u>=0&&s!==t.get(u);)u--;u++;const c=l[0]-u,h=this.getDecodeFinderCounters(),x=new Int32Array(h.length);te.arraycopy(h,0,x,1,h.length-1),x[0]=c;const w=this.parseFinderValue(x,St.FINDER_PATTERNS);let v=u,T=l[1];return a&&(v=t.getSize()-1-v,T=t.getSize()-1-T),new Ur(w,[u,l[1]],v,T,r)}adjustOddEvenCounts(t,r){let a=Qe.sum(new Int32Array(this.getOddCounts())),l=Qe.sum(new Int32Array(this.getEvenCounts())),s=!1,u=!1,c=!1,h=!1;t?(a>12?u=!0:a<4&&(s=!0),l>12?h=!0:l<4&&(c=!0)):(a>11?u=!0:a<5&&(s=!0),l>10?h=!0:l<4&&(c=!0));let x=a+l-r,w=(a&1)===(t?1:0),v=(l&1)===1;if(x===1)if(w){if(v)throw new W;u=!0}else{if(!v)throw new W;h=!0}else if(x===-1)if(w){if(v)throw new W;s=!0}else{if(!v)throw new W;c=!0}else if(x===0){if(w){if(!v)throw new W;a<l?(s=!0,h=!0):(u=!0,c=!0)}else if(v)throw new W}else throw new W;if(s){if(u)throw new W;pn.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(u&&pn.decrement(this.getOddCounts(),this.getOddRoundingErrors()),c){if(h)throw new W;pn.increment(this.getEvenCounts(),this.getOddRoundingErrors())}h&&pn.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}St.OUTSIDE_EVEN_TOTAL_SUBSET=[1,10,34,70,126],St.INSIDE_ODD_TOTAL_SUBSET=[4,20,48,81],St.OUTSIDE_GSUM=[0,161,961,2015,2715],St.INSIDE_GSUM=[0,336,1036,1516],St.OUTSIDE_ODD_WIDEST=[8,6,4,3,1],St.INSIDE_ODD_WIDEST=[2,4,6,8],St.FINDER_PATTERNS=[Int32Array.from([3,8,2,1]),Int32Array.from([3,5,5,1]),Int32Array.from([3,3,7,1]),Int32Array.from([3,1,9,1]),Int32Array.from([2,7,4,1]),Int32Array.from([2,5,6,1]),Int32Array.from([2,3,8,1]),Int32Array.from([1,5,7,1]),Int32Array.from([1,3,9,1])];class er extends Pt{constructor(t,r){super(),this.readers=[],this.verbose=r===!0;const a=t?t.get(me.POSSIBLE_FORMATS):null,l=t&&t.get(me.ASSUME_CODE_39_CHECK_DIGIT)!==void 0;a?((a.includes(ie.EAN_13)||a.includes(ie.UPC_A)||a.includes(ie.EAN_8)||a.includes(ie.UPC_E))&&this.readers.push(new wl(t)),a.includes(ie.CODE_39)&&this.readers.push(new Bt(l)),a.includes(ie.CODE_128)&&this.readers.push(new Ne),a.includes(ie.ITF)&&this.readers.push(new nt),a.includes(ie.RSS_14)&&this.readers.push(new St),a.includes(ie.RSS_EXPANDED)&&this.readers.push(new ye(this.verbose))):(this.readers.push(new wl(t)),this.readers.push(new Bt),this.readers.push(new wl(t)),this.readers.push(new Ne),this.readers.push(new nt),this.readers.push(new St),this.readers.push(new ye(this.verbose)))}decodeRow(t,r,a){for(let l=0;l<this.readers.length;l++)try{return this.readers[l].decodeRow(t,r,a)}catch{}throw new W}reset(){this.readers.forEach(t=>t.reset())}}class $o extends Y{constructor(t=500,r){super(new er(r),t,r)}}class mt{constructor(t,r,a){this.ecCodewords=t,this.ecBlocks=[r],a&&this.ecBlocks.push(a)}getECCodewords(){return this.ecCodewords}getECBlocks(){return this.ecBlocks}}class xt{constructor(t,r){this.count=t,this.dataCodewords=r}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class st{constructor(t,r,a,l,s,u){this.versionNumber=t,this.symbolSizeRows=r,this.symbolSizeColumns=a,this.dataRegionSizeRows=l,this.dataRegionSizeColumns=s,this.ecBlocks=u;let c=0;const h=u.getECCodewords(),x=u.getECBlocks();for(let w of x)c+=w.getCount()*(w.getDataCodewords()+h);this.totalCodewords=c}getVersionNumber(){return this.versionNumber}getSymbolSizeRows(){return this.symbolSizeRows}getSymbolSizeColumns(){return this.symbolSizeColumns}getDataRegionSizeRows(){return this.dataRegionSizeRows}getDataRegionSizeColumns(){return this.dataRegionSizeColumns}getTotalCodewords(){return this.totalCodewords}getECBlocks(){return this.ecBlocks}static getVersionForDimensions(t,r){if((t&1)!==0||(r&1)!==0)throw new Q;for(let a of st.VERSIONS)if(a.symbolSizeRows===t&&a.symbolSizeColumns===r)return a;throw new Q}toString(){return""+this.versionNumber}static buildVersions(){return[new st(1,10,10,8,8,new mt(5,new xt(1,3))),new st(2,12,12,10,10,new mt(7,new xt(1,5))),new st(3,14,14,12,12,new mt(10,new xt(1,8))),new st(4,16,16,14,14,new mt(12,new xt(1,12))),new st(5,18,18,16,16,new mt(14,new xt(1,18))),new st(6,20,20,18,18,new mt(18,new xt(1,22))),new st(7,22,22,20,20,new mt(20,new xt(1,30))),new st(8,24,24,22,22,new mt(24,new xt(1,36))),new st(9,26,26,24,24,new mt(28,new xt(1,44))),new st(10,32,32,14,14,new mt(36,new xt(1,62))),new st(11,36,36,16,16,new mt(42,new xt(1,86))),new st(12,40,40,18,18,new mt(48,new xt(1,114))),new st(13,44,44,20,20,new mt(56,new xt(1,144))),new st(14,48,48,22,22,new mt(68,new xt(1,174))),new st(15,52,52,24,24,new mt(42,new xt(2,102))),new st(16,64,64,14,14,new mt(56,new xt(2,140))),new st(17,72,72,16,16,new mt(36,new xt(4,92))),new st(18,80,80,18,18,new mt(48,new xt(4,114))),new st(19,88,88,20,20,new mt(56,new xt(4,144))),new st(20,96,96,22,22,new mt(68,new xt(4,174))),new st(21,104,104,24,24,new mt(56,new xt(6,136))),new st(22,120,120,18,18,new mt(68,new xt(6,175))),new st(23,132,132,20,20,new mt(62,new xt(8,163))),new st(24,144,144,22,22,new mt(62,new xt(8,156),new xt(2,155))),new st(25,8,18,6,16,new mt(7,new xt(1,5))),new st(26,8,32,6,14,new mt(11,new xt(1,10))),new st(27,12,26,10,24,new mt(14,new xt(1,16))),new st(28,12,36,10,16,new mt(18,new xt(1,22))),new st(29,16,36,14,16,new mt(24,new xt(1,32))),new st(30,16,48,14,22,new mt(28,new xt(1,49)))]}}st.VERSIONS=st.buildVersions();class Ea{constructor(t){const r=t.getHeight();if(r<8||r>144||(r&1)!==0)throw new Q;this.version=Ea.readVersion(t),this.mappingBitMatrix=this.extractDataRegion(t),this.readMappingMatrix=new _e(this.mappingBitMatrix.getWidth(),this.mappingBitMatrix.getHeight())}getVersion(){return this.version}static readVersion(t){const r=t.getHeight(),a=t.getWidth();return st.getVersionForDimensions(r,a)}readCodewords(){const t=new Int8Array(this.version.getTotalCodewords());let r=0,a=4,l=0;const s=this.mappingBitMatrix.getHeight(),u=this.mappingBitMatrix.getWidth();let c=!1,h=!1,x=!1,w=!1;do if(a===s&&l===0&&!c)t[r++]=this.readCorner1(s,u)&255,a-=2,l+=2,c=!0;else if(a===s-2&&l===0&&(u&3)!==0&&!h)t[r++]=this.readCorner2(s,u)&255,a-=2,l+=2,h=!0;else if(a===s+4&&l===2&&(u&7)===0&&!x)t[r++]=this.readCorner3(s,u)&255,a-=2,l+=2,x=!0;else if(a===s-2&&l===0&&(u&7)===4&&!w)t[r++]=this.readCorner4(s,u)&255,a-=2,l+=2,w=!0;else{do a<s&&l>=0&&!this.readMappingMatrix.get(l,a)&&(t[r++]=this.readUtah(a,l,s,u)&255),a-=2,l+=2;while(a>=0&&l<u);a+=1,l+=3;do a>=0&&l<u&&!this.readMappingMatrix.get(l,a)&&(t[r++]=this.readUtah(a,l,s,u)&255),a+=2,l-=2;while(a<s&&l>=0);a+=3,l+=1}while(a<s||l<u);if(r!==this.version.getTotalCodewords())throw new Q;return t}readModule(t,r,a,l){return t<0&&(t+=a,r+=4-(a+4&7)),r<0&&(r+=l,t+=4-(l+4&7)),this.readMappingMatrix.set(r,t),this.mappingBitMatrix.get(r,t)}readUtah(t,r,a,l){let s=0;return this.readModule(t-2,r-2,a,l)&&(s|=1),s<<=1,this.readModule(t-2,r-1,a,l)&&(s|=1),s<<=1,this.readModule(t-1,r-2,a,l)&&(s|=1),s<<=1,this.readModule(t-1,r-1,a,l)&&(s|=1),s<<=1,this.readModule(t-1,r,a,l)&&(s|=1),s<<=1,this.readModule(t,r-2,a,l)&&(s|=1),s<<=1,this.readModule(t,r-1,a,l)&&(s|=1),s<<=1,this.readModule(t,r,a,l)&&(s|=1),s}readCorner1(t,r){let a=0;return this.readModule(t-1,0,t,r)&&(a|=1),a<<=1,this.readModule(t-1,1,t,r)&&(a|=1),a<<=1,this.readModule(t-1,2,t,r)&&(a|=1),a<<=1,this.readModule(0,r-2,t,r)&&(a|=1),a<<=1,this.readModule(0,r-1,t,r)&&(a|=1),a<<=1,this.readModule(1,r-1,t,r)&&(a|=1),a<<=1,this.readModule(2,r-1,t,r)&&(a|=1),a<<=1,this.readModule(3,r-1,t,r)&&(a|=1),a}readCorner2(t,r){let a=0;return this.readModule(t-3,0,t,r)&&(a|=1),a<<=1,this.readModule(t-2,0,t,r)&&(a|=1),a<<=1,this.readModule(t-1,0,t,r)&&(a|=1),a<<=1,this.readModule(0,r-4,t,r)&&(a|=1),a<<=1,this.readModule(0,r-3,t,r)&&(a|=1),a<<=1,this.readModule(0,r-2,t,r)&&(a|=1),a<<=1,this.readModule(0,r-1,t,r)&&(a|=1),a<<=1,this.readModule(1,r-1,t,r)&&(a|=1),a}readCorner3(t,r){let a=0;return this.readModule(t-1,0,t,r)&&(a|=1),a<<=1,this.readModule(t-1,r-1,t,r)&&(a|=1),a<<=1,this.readModule(0,r-3,t,r)&&(a|=1),a<<=1,this.readModule(0,r-2,t,r)&&(a|=1),a<<=1,this.readModule(0,r-1,t,r)&&(a|=1),a<<=1,this.readModule(1,r-3,t,r)&&(a|=1),a<<=1,this.readModule(1,r-2,t,r)&&(a|=1),a<<=1,this.readModule(1,r-1,t,r)&&(a|=1),a}readCorner4(t,r){let a=0;return this.readModule(t-3,0,t,r)&&(a|=1),a<<=1,this.readModule(t-2,0,t,r)&&(a|=1),a<<=1,this.readModule(t-1,0,t,r)&&(a|=1),a<<=1,this.readModule(0,r-2,t,r)&&(a|=1),a<<=1,this.readModule(0,r-1,t,r)&&(a|=1),a<<=1,this.readModule(1,r-1,t,r)&&(a|=1),a<<=1,this.readModule(2,r-1,t,r)&&(a|=1),a<<=1,this.readModule(3,r-1,t,r)&&(a|=1),a}extractDataRegion(t){const r=this.version.getSymbolSizeRows(),a=this.version.getSymbolSizeColumns();if(t.getHeight()!==r)throw new I("Dimension of bitMatrix must match the version size");const l=this.version.getDataRegionSizeRows(),s=this.version.getDataRegionSizeColumns(),u=r/l|0,c=a/s|0,h=u*l,x=c*s,w=new _e(x,h);for(let v=0;v<u;++v){const T=v*l;for(let B=0;B<c;++B){const j=B*s;for(let H=0;H<l;++H){const K=v*(l+2)+1+H,fe=T+H;for(let Te=0;Te<s;++Te){const ve=B*(s+2)+1+Te;if(t.get(ve,K)){const be=j+Te;w.set(be,fe)}}}}}return w}}class Ca{constructor(t,r){this.numDataCodewords=t,this.codewords=r}static getDataBlocks(t,r){const a=r.getECBlocks();let l=0;const s=a.getECBlocks();for(let H of s)l+=H.getCount();const u=new Array(l);let c=0;for(let H of s)for(let K=0;K<H.getCount();K++){const fe=H.getDataCodewords(),Te=a.getECCodewords()+fe;u[c++]=new Ca(fe,new Uint8Array(Te))}const x=u[0].codewords.length-a.getECCodewords(),w=x-1;let v=0;for(let H=0;H<w;H++)for(let K=0;K<c;K++)u[K].codewords[H]=t[v++];const T=r.getVersionNumber()===24,B=T?8:c;for(let H=0;H<B;H++)u[H].codewords[x-1]=t[v++];const j=u[0].codewords.length;for(let H=x;H<j;H++)for(let K=0;K<c;K++){const fe=T?(K+8)%c:K,Te=T&&fe>7?H-1:H;u[fe].codewords[Te]=t[v++]}if(v!==t.length)throw new I;return u}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}class tr{constructor(t){this.bytes=t,this.byteOffset=0,this.bitOffset=0}getBitOffset(){return this.bitOffset}getByteOffset(){return this.byteOffset}readBits(t){if(t<1||t>32||t>this.available())throw new I(""+t);let r=0,a=this.bitOffset,l=this.byteOffset;const s=this.bytes;if(a>0){const u=8-a,c=t<u?t:u,h=u-c,x=255>>8-c<<h;r=(s[l]&x)>>h,t-=c,a+=c,a===8&&(a=0,l++)}if(t>0){for(;t>=8;)r=r<<8|s[l]&255,l++,t-=8;if(t>0){const u=8-t,c=255>>u<<u;r=r<<t|(s[l]&c)>>u,a+=t}}return this.bitOffset=a,this.byteOffset=l,r}available(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset}}var yt;(function(C){C[C.PAD_ENCODE=0]="PAD_ENCODE",C[C.ASCII_ENCODE=1]="ASCII_ENCODE",C[C.C40_ENCODE=2]="C40_ENCODE",C[C.TEXT_ENCODE=3]="TEXT_ENCODE",C[C.ANSIX12_ENCODE=4]="ANSIX12_ENCODE",C[C.EDIFACT_ENCODE=5]="EDIFACT_ENCODE",C[C.BASE256_ENCODE=6]="BASE256_ENCODE"})(yt||(yt={}));class Tr{static decode(t){const r=new tr(t),a=new Re,l=new Re,s=new Array;let u=yt.ASCII_ENCODE;do if(u===yt.ASCII_ENCODE)u=this.decodeAsciiSegment(r,a,l);else{switch(u){case yt.C40_ENCODE:this.decodeC40Segment(r,a);break;case yt.TEXT_ENCODE:this.decodeTextSegment(r,a);break;case yt.ANSIX12_ENCODE:this.decodeAnsiX12Segment(r,a);break;case yt.EDIFACT_ENCODE:this.decodeEdifactSegment(r,a);break;case yt.BASE256_ENCODE:this.decodeBase256Segment(r,a,s);break;default:throw new Q}u=yt.ASCII_ENCODE}while(u!==yt.PAD_ENCODE&&r.available()>0);return l.length()>0&&a.append(l.toString()),new Je(t,a.toString(),s.length===0?null:s,null)}static decodeAsciiSegment(t,r,a){let l=!1;do{let s=t.readBits(8);if(s===0)throw new Q;if(s<=128)return l&&(s+=128),r.append(String.fromCharCode(s-1)),yt.ASCII_ENCODE;if(s===129)return yt.PAD_ENCODE;if(s<=229){const u=s-130;u<10&&r.append("0"),r.append(""+u)}else switch(s){case 230:return yt.C40_ENCODE;case 231:return yt.BASE256_ENCODE;case 232:r.append("");break;case 233:case 234:break;case 235:l=!0;break;case 236:r.append("[)>05"),a.insert(0,"");break;case 237:r.append("[)>06"),a.insert(0,"");break;case 238:return yt.ANSIX12_ENCODE;case 239:return yt.TEXT_ENCODE;case 240:return yt.EDIFACT_ENCODE;case 241:break;default:if(s!==254||t.available()!==0)throw new Q;break}}while(t.available()>0);return yt.ASCII_ENCODE}static decodeC40Segment(t,r){let a=!1;const l=[];let s=0;do{if(t.available()===8)return;const u=t.readBits(8);if(u===254)return;this.parseTwoBytes(u,t.readBits(8),l);for(let c=0;c<3;c++){const h=l[c];switch(s){case 0:if(h<3)s=h+1;else if(h<this.C40_BASIC_SET_CHARS.length){const x=this.C40_BASIC_SET_CHARS[h];a?(r.append(String.fromCharCode(x.charCodeAt(0)+128)),a=!1):r.append(x)}else throw new Q;break;case 1:a?(r.append(String.fromCharCode(h+128)),a=!1):r.append(String.fromCharCode(h)),s=0;break;case 2:if(h<this.C40_SHIFT2_SET_CHARS.length){const x=this.C40_SHIFT2_SET_CHARS[h];a?(r.append(String.fromCharCode(x.charCodeAt(0)+128)),a=!1):r.append(x)}else switch(h){case 27:r.append("");break;case 30:a=!0;break;default:throw new Q}s=0;break;case 3:a?(r.append(String.fromCharCode(h+224)),a=!1):r.append(String.fromCharCode(h+96)),s=0;break;default:throw new Q}}}while(t.available()>0)}static decodeTextSegment(t,r){let a=!1,l=[],s=0;do{if(t.available()===8)return;const u=t.readBits(8);if(u===254)return;this.parseTwoBytes(u,t.readBits(8),l);for(let c=0;c<3;c++){const h=l[c];switch(s){case 0:if(h<3)s=h+1;else if(h<this.TEXT_BASIC_SET_CHARS.length){const x=this.TEXT_BASIC_SET_CHARS[h];a?(r.append(String.fromCharCode(x.charCodeAt(0)+128)),a=!1):r.append(x)}else throw new Q;break;case 1:a?(r.append(String.fromCharCode(h+128)),a=!1):r.append(String.fromCharCode(h)),s=0;break;case 2:if(h<this.TEXT_SHIFT2_SET_CHARS.length){const x=this.TEXT_SHIFT2_SET_CHARS[h];a?(r.append(String.fromCharCode(x.charCodeAt(0)+128)),a=!1):r.append(x)}else switch(h){case 27:r.append("");break;case 30:a=!0;break;default:throw new Q}s=0;break;case 3:if(h<this.TEXT_SHIFT3_SET_CHARS.length){const x=this.TEXT_SHIFT3_SET_CHARS[h];a?(r.append(String.fromCharCode(x.charCodeAt(0)+128)),a=!1):r.append(x),s=0}else throw new Q;break;default:throw new Q}}}while(t.available()>0)}static decodeAnsiX12Segment(t,r){const a=[];do{if(t.available()===8)return;const l=t.readBits(8);if(l===254)return;this.parseTwoBytes(l,t.readBits(8),a);for(let s=0;s<3;s++){const u=a[s];switch(u){case 0:r.append("\r");break;case 1:r.append("*");break;case 2:r.append(">");break;case 3:r.append(" ");break;default:if(u<14)r.append(String.fromCharCode(u+44));else if(u<40)r.append(String.fromCharCode(u+51));else throw new Q;break}}}while(t.available()>0)}static parseTwoBytes(t,r,a){let l=(t<<8)+r-1,s=Math.floor(l/1600);a[0]=s,l-=s*1600,s=Math.floor(l/40),a[1]=s,a[2]=l-s*40}static decodeEdifactSegment(t,r){do{if(t.available()<=16)return;for(let a=0;a<4;a++){let l=t.readBits(6);if(l===31){const s=8-t.getBitOffset();s!==8&&t.readBits(s);return}(l&32)===0&&(l|=64),r.append(String.fromCharCode(l))}}while(t.available()>0)}static decodeBase256Segment(t,r,a){let l=1+t.getByteOffset();const s=this.unrandomize255State(t.readBits(8),l++);let u;if(s===0?u=t.available()/8|0:s<250?u=s:u=250*(s-249)+this.unrandomize255State(t.readBits(8),l++),u<0)throw new Q;const c=new Uint8Array(u);for(let h=0;h<u;h++){if(t.available()<8)throw new Q;c[h]=this.unrandomize255State(t.readBits(8),l++)}a.push(c);try{r.append(qe.decode(c,de.ISO88591))}catch(h){throw new Dt("Platform does not support required encoding: "+h.message)}}static unrandomize255State(t,r){const a=149*r%255+1,l=t-a;return l>=0?l:l+256}}Tr.C40_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],Tr.C40_SHIFT2_SET_CHARS=["!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","@","[","\\","]","^","_"],Tr.TEXT_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],Tr.TEXT_SHIFT2_SET_CHARS=Tr.C40_SHIFT2_SET_CHARS,Tr.TEXT_SHIFT3_SET_CHARS=["`","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","{","|","}","~",""];class eu{constructor(){this.rsDecoder=new jn(Ue.DATA_MATRIX_FIELD_256)}decode(t){const r=new Ea(t),a=r.getVersion(),l=r.readCodewords(),s=Ca.getDataBlocks(l,a);let u=0;for(let x of s)u+=x.getNumDataCodewords();const c=new Uint8Array(u),h=s.length;for(let x=0;x<h;x++){const w=s[x],v=w.getCodewords(),T=w.getNumDataCodewords();this.correctErrors(v,T);for(let B=0;B<T;B++)c[B*h+x]=v[B]}return Tr.decode(c)}correctErrors(t,r){const a=new Int32Array(t);try{this.rsDecoder.decode(a,t.length-r)}catch{throw new ne}for(let l=0;l<r;l++)t[l]=a[l]}}class Gt{constructor(t){this.image=t,this.rectangleDetector=new Jt(this.image)}detect(){const t=this.rectangleDetector.detect();let r=this.detectSolid1(t);if(r=this.detectSolid2(r),r[3]=this.correctTopRight(r),!r[3])throw new W;r=this.shiftToModuleCenter(r);const a=r[0],l=r[1],s=r[2],u=r[3];let c=this.transitionsBetween(a,u)+1,h=this.transitionsBetween(s,u)+1;(c&1)===1&&(c+=1),(h&1)===1&&(h+=1),4*c<7*h&&4*h<7*c&&(c=h=Math.max(c,h));let x=Gt.sampleGrid(this.image,a,l,s,u,c,h);return new Ri(x,[a,l,s,u])}static shiftPoint(t,r,a){let l=(r.getX()-t.getX())/(a+1),s=(r.getY()-t.getY())/(a+1);return new Be(t.getX()+l,t.getY()+s)}static moveAway(t,r,a){let l=t.getX(),s=t.getY();return l<r?l-=1:l+=1,s<a?s-=1:s+=1,new Be(l,s)}detectSolid1(t){let r=t[0],a=t[1],l=t[3],s=t[2],u=this.transitionsBetween(r,a),c=this.transitionsBetween(a,l),h=this.transitionsBetween(l,s),x=this.transitionsBetween(s,r),w=u,v=[s,r,a,l];return w>c&&(w=c,v[0]=r,v[1]=a,v[2]=l,v[3]=s),w>h&&(w=h,v[0]=a,v[1]=l,v[2]=s,v[3]=r),w>x&&(v[0]=l,v[1]=s,v[2]=r,v[3]=a),v}detectSolid2(t){let r=t[0],a=t[1],l=t[2],s=t[3],u=this.transitionsBetween(r,s),c=Gt.shiftPoint(a,l,(u+1)*4),h=Gt.shiftPoint(l,a,(u+1)*4),x=this.transitionsBetween(c,r),w=this.transitionsBetween(h,s);return x<w?(t[0]=r,t[1]=a,t[2]=l,t[3]=s):(t[0]=a,t[1]=l,t[2]=s,t[3]=r),t}correctTopRight(t){let r=t[0],a=t[1],l=t[2],s=t[3],u=this.transitionsBetween(r,s),c=this.transitionsBetween(a,s),h=Gt.shiftPoint(r,a,(c+1)*4),x=Gt.shiftPoint(l,a,(u+1)*4);u=this.transitionsBetween(h,s),c=this.transitionsBetween(x,s);let w=new Be(s.getX()+(l.getX()-a.getX())/(u+1),s.getY()+(l.getY()-a.getY())/(u+1)),v=new Be(s.getX()+(r.getX()-a.getX())/(c+1),s.getY()+(r.getY()-a.getY())/(c+1));if(!this.isValid(w))return this.isValid(v)?v:null;if(!this.isValid(v))return w;let T=this.transitionsBetween(h,w)+this.transitionsBetween(x,w),B=this.transitionsBetween(h,v)+this.transitionsBetween(x,v);return T>B?w:v}shiftToModuleCenter(t){let r=t[0],a=t[1],l=t[2],s=t[3],u=this.transitionsBetween(r,s)+1,c=this.transitionsBetween(l,s)+1,h=Gt.shiftPoint(r,a,c*4),x=Gt.shiftPoint(l,a,u*4);u=this.transitionsBetween(h,s)+1,c=this.transitionsBetween(x,s)+1,(u&1)===1&&(u+=1),(c&1)===1&&(c+=1);let w=(r.getX()+a.getX()+l.getX()+s.getX())/4,v=(r.getY()+a.getY()+l.getY()+s.getY())/4;r=Gt.moveAway(r,w,v),a=Gt.moveAway(a,w,v),l=Gt.moveAway(l,w,v),s=Gt.moveAway(s,w,v);let T,B;return h=Gt.shiftPoint(r,a,c*4),h=Gt.shiftPoint(h,s,u*4),T=Gt.shiftPoint(a,r,c*4),T=Gt.shiftPoint(T,l,u*4),x=Gt.shiftPoint(l,s,c*4),x=Gt.shiftPoint(x,a,u*4),B=Gt.shiftPoint(s,l,c*4),B=Gt.shiftPoint(B,r,u*4),[h,T,x,B]}isValid(t){return t.getX()>=0&&t.getX()<this.image.getWidth()&&t.getY()>0&&t.getY()<this.image.getHeight()}static sampleGrid(t,r,a,l,s,u,c){return Jn.getInstance().sampleGrid(t,u,c,.5,.5,u-.5,.5,u-.5,c-.5,.5,c-.5,r.getX(),r.getY(),s.getX(),s.getY(),l.getX(),l.getY(),a.getX(),a.getY())}transitionsBetween(t,r){let a=Math.trunc(t.getX()),l=Math.trunc(t.getY()),s=Math.trunc(r.getX()),u=Math.trunc(r.getY()),c=Math.abs(u-l)>Math.abs(s-a);if(c){let H=a;a=l,l=H,H=s,s=u,u=H}let h=Math.abs(s-a),x=Math.abs(u-l),w=-h/2,v=l<u?1:-1,T=a<s?1:-1,B=0,j=this.image.get(c?l:a,c?a:l);for(let H=a,K=l;H!==s;H+=T){let fe=this.image.get(c?K:H,c?H:K);if(fe!==j&&(B++,j=fe),w+=x,w>0){if(K===u)break;K+=v,w-=h}}return B}}class Nr{constructor(){this.decoder=new eu}decode(t,r=null){let a,l;if(r!=null&&r.has(me.PURE_BARCODE)){const x=Nr.extractPureBits(t.getBlackMatrix());a=this.decoder.decode(x),l=Nr.NO_POINTS}else{const x=new Gt(t.getBlackMatrix()).detect();a=this.decoder.decode(x.getBits()),l=x.getPoints()}const s=a.getRawBytes(),u=new ae(a.getText(),s,8*s.length,l,ie.DATA_MATRIX,te.currentTimeMillis()),c=a.getByteSegments();c!=null&&u.putMetadata(je.BYTE_SEGMENTS,c);const h=a.getECLevel();return h!=null&&u.putMetadata(je.ERROR_CORRECTION_LEVEL,h),u}reset(){}static extractPureBits(t){const r=t.getTopLeftOnBit(),a=t.getBottomRightOnBit();if(r==null||a==null)throw new W;const l=this.moduleSize(r,t);let s=r[1];const u=a[1];let c=r[0];const x=(a[0]-c+1)/l,w=(u-s+1)/l;if(x<=0||w<=0)throw new W;const v=l/2;s+=v,c+=v;const T=new _e(x,w);for(let B=0;B<w;B++){const j=s+B*l;for(let H=0;H<x;H++)t.get(c+H*l,j)&&T.set(H,B)}return T}static moduleSize(t,r){const a=r.getWidth();let l=t[0];const s=t[1];for(;l<a&&r.get(l,s);)l++;if(l===a)throw new W;const u=l-t[0];if(u===0)throw new W;return u}}Nr.NO_POINTS=[];class Di extends Y{constructor(t=500){super(new Nr,t)}}var va;(function(C){C[C.L=0]="L",C[C.M=1]="M",C[C.Q=2]="Q",C[C.H=3]="H"})(va||(va={}));class lt{constructor(t,r,a){this.value=t,this.stringValue=r,this.bits=a,lt.FOR_BITS.set(a,this),lt.FOR_VALUE.set(t,this)}getValue(){return this.value}getBits(){return this.bits}static fromString(t){switch(t){case"L":return lt.L;case"M":return lt.M;case"Q":return lt.Q;case"H":return lt.H;default:throw new _(t+"not available")}}toString(){return this.stringValue}equals(t){if(!(t instanceof lt))return!1;const r=t;return this.value===r.value}static forBits(t){if(t<0||t>=lt.FOR_BITS.size)throw new I;return lt.FOR_BITS.get(t)}}lt.FOR_BITS=new Map,lt.FOR_VALUE=new Map,lt.L=new lt(va.L,"L",1),lt.M=new lt(va.M,"M",0),lt.Q=new lt(va.Q,"Q",3),lt.H=new lt(va.H,"H",2);class hn{constructor(t){this.errorCorrectionLevel=lt.forBits(t>>3&3),this.dataMask=t&7}static numBitsDiffering(t,r){return X.bitCount(t^r)}static decodeFormatInformation(t,r){const a=hn.doDecodeFormatInformation(t,r);return a!==null?a:hn.doDecodeFormatInformation(t^hn.FORMAT_INFO_MASK_QR,r^hn.FORMAT_INFO_MASK_QR)}static doDecodeFormatInformation(t,r){let a=Number.MAX_SAFE_INTEGER,l=0;for(const s of hn.FORMAT_INFO_DECODE_LOOKUP){const u=s[0];if(u===t||u===r)return new hn(s[1]);let c=hn.numBitsDiffering(t,u);c<a&&(l=s[1],a=c),t!==r&&(c=hn.numBitsDiffering(r,u),c<a&&(l=s[1],a=c))}return a<=3?new hn(l):null}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getDataMask(){return this.dataMask}hashCode(){return this.errorCorrectionLevel.getBits()<<3|this.dataMask}equals(t){if(!(t instanceof hn))return!1;const r=t;return this.errorCorrectionLevel===r.errorCorrectionLevel&&this.dataMask===r.dataMask}}hn.FORMAT_INFO_MASK_QR=21522,hn.FORMAT_INFO_DECODE_LOOKUP=[Int32Array.from([21522,0]),Int32Array.from([20773,1]),Int32Array.from([24188,2]),Int32Array.from([23371,3]),Int32Array.from([17913,4]),Int32Array.from([16590,5]),Int32Array.from([20375,6]),Int32Array.from([19104,7]),Int32Array.from([30660,8]),Int32Array.from([29427,9]),Int32Array.from([32170,10]),Int32Array.from([30877,11]),Int32Array.from([26159,12]),Int32Array.from([25368,13]),Int32Array.from([27713,14]),Int32Array.from([26998,15]),Int32Array.from([5769,16]),Int32Array.from([5054,17]),Int32Array.from([7399,18]),Int32Array.from([6608,19]),Int32Array.from([1890,20]),Int32Array.from([597,21]),Int32Array.from([3340,22]),Int32Array.from([2107,23]),Int32Array.from([13663,24]),Int32Array.from([12392,25]),Int32Array.from([16177,26]),Int32Array.from([14854,27]),Int32Array.from([9396,28]),Int32Array.from([8579,29]),Int32Array.from([11994,30]),Int32Array.from([11245,31])];class ee{constructor(t,...r){this.ecCodewordsPerBlock=t,this.ecBlocks=r}getECCodewordsPerBlock(){return this.ecCodewordsPerBlock}getNumBlocks(){let t=0;const r=this.ecBlocks;for(const a of r)t+=a.getCount();return t}getTotalECCodewords(){return this.ecCodewordsPerBlock*this.getNumBlocks()}getECBlocks(){return this.ecBlocks}}class M{constructor(t,r){this.count=t,this.dataCodewords=r}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class ke{constructor(t,r,...a){this.versionNumber=t,this.alignmentPatternCenters=r,this.ecBlocks=a;let l=0;const s=a[0].getECCodewordsPerBlock(),u=a[0].getECBlocks();for(const c of u)l+=c.getCount()*(c.getDataCodewords()+s);this.totalCodewords=l}getVersionNumber(){return this.versionNumber}getAlignmentPatternCenters(){return this.alignmentPatternCenters}getTotalCodewords(){return this.totalCodewords}getDimensionForVersion(){return 17+4*this.versionNumber}getECBlocksForLevel(t){return this.ecBlocks[t.getValue()]}static getProvisionalVersionForDimension(t){if(t%4!==1)throw new Q;try{return this.getVersionForNumber((t-17)/4)}catch{throw new Q}}static getVersionForNumber(t){if(t<1||t>40)throw new I;return ke.VERSIONS[t-1]}static decodeVersionInformation(t){let r=Number.MAX_SAFE_INTEGER,a=0;for(let l=0;l<ke.VERSION_DECODE_INFO.length;l++){const s=ke.VERSION_DECODE_INFO[l];if(s===t)return ke.getVersionForNumber(l+7);const u=hn.numBitsDiffering(t,s);u<r&&(a=l+7,r=u)}return r<=3?ke.getVersionForNumber(a):null}buildFunctionPattern(){const t=this.getDimensionForVersion(),r=new _e(t);r.setRegion(0,0,9,9),r.setRegion(t-8,0,8,9),r.setRegion(0,t-8,9,8);const a=this.alignmentPatternCenters.length;for(let l=0;l<a;l++){const s=this.alignmentPatternCenters[l]-2;for(let u=0;u<a;u++)l===0&&(u===0||u===a-1)||l===a-1&&u===0||r.setRegion(this.alignmentPatternCenters[u]-2,s,5,5)}return r.setRegion(6,9,1,t-17),r.setRegion(9,6,t-17,1),this.versionNumber>6&&(r.setRegion(t-11,0,3,6),r.setRegion(0,t-11,6,3)),r}toString(){return""+this.versionNumber}}ke.VERSION_DECODE_INFO=Int32Array.from([31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017]),ke.VERSIONS=[new ke(1,new Int32Array(0),new ee(7,new M(1,19)),new ee(10,new M(1,16)),new ee(13,new M(1,13)),new ee(17,new M(1,9))),new ke(2,Int32Array.from([6,18]),new ee(10,new M(1,34)),new ee(16,new M(1,28)),new ee(22,new M(1,22)),new ee(28,new M(1,16))),new ke(3,Int32Array.from([6,22]),new ee(15,new M(1,55)),new ee(26,new M(1,44)),new ee(18,new M(2,17)),new ee(22,new M(2,13))),new ke(4,Int32Array.from([6,26]),new ee(20,new M(1,80)),new ee(18,new M(2,32)),new ee(26,new M(2,24)),new ee(16,new M(4,9))),new ke(5,Int32Array.from([6,30]),new ee(26,new M(1,108)),new ee(24,new M(2,43)),new ee(18,new M(2,15),new M(2,16)),new ee(22,new M(2,11),new M(2,12))),new ke(6,Int32Array.from([6,34]),new ee(18,new M(2,68)),new ee(16,new M(4,27)),new ee(24,new M(4,19)),new ee(28,new M(4,15))),new ke(7,Int32Array.from([6,22,38]),new ee(20,new M(2,78)),new ee(18,new M(4,31)),new ee(18,new M(2,14),new M(4,15)),new ee(26,new M(4,13),new M(1,14))),new ke(8,Int32Array.from([6,24,42]),new ee(24,new M(2,97)),new ee(22,new M(2,38),new M(2,39)),new ee(22,new M(4,18),new M(2,19)),new ee(26,new M(4,14),new M(2,15))),new ke(9,Int32Array.from([6,26,46]),new ee(30,new M(2,116)),new ee(22,new M(3,36),new M(2,37)),new ee(20,new M(4,16),new M(4,17)),new ee(24,new M(4,12),new M(4,13))),new ke(10,Int32Array.from([6,28,50]),new ee(18,new M(2,68),new M(2,69)),new ee(26,new M(4,43),new M(1,44)),new ee(24,new M(6,19),new M(2,20)),new ee(28,new M(6,15),new M(2,16))),new ke(11,Int32Array.from([6,30,54]),new ee(20,new M(4,81)),new ee(30,new M(1,50),new M(4,51)),new ee(28,new M(4,22),new M(4,23)),new ee(24,new M(3,12),new M(8,13))),new ke(12,Int32Array.from([6,32,58]),new ee(24,new M(2,92),new M(2,93)),new ee(22,new M(6,36),new M(2,37)),new ee(26,new M(4,20),new M(6,21)),new ee(28,new M(7,14),new M(4,15))),new ke(13,Int32Array.from([6,34,62]),new ee(26,new M(4,107)),new ee(22,new M(8,37),new M(1,38)),new ee(24,new M(8,20),new M(4,21)),new ee(22,new M(12,11),new M(4,12))),new ke(14,Int32Array.from([6,26,46,66]),new ee(30,new M(3,115),new M(1,116)),new ee(24,new M(4,40),new M(5,41)),new ee(20,new M(11,16),new M(5,17)),new ee(24,new M(11,12),new M(5,13))),new ke(15,Int32Array.from([6,26,48,70]),new ee(22,new M(5,87),new M(1,88)),new ee(24,new M(5,41),new M(5,42)),new ee(30,new M(5,24),new M(7,25)),new ee(24,new M(11,12),new M(7,13))),new ke(16,Int32Array.from([6,26,50,74]),new ee(24,new M(5,98),new M(1,99)),new ee(28,new M(7,45),new M(3,46)),new ee(24,new M(15,19),new M(2,20)),new ee(30,new M(3,15),new M(13,16))),new ke(17,Int32Array.from([6,30,54,78]),new ee(28,new M(1,107),new M(5,108)),new ee(28,new M(10,46),new M(1,47)),new ee(28,new M(1,22),new M(15,23)),new ee(28,new M(2,14),new M(17,15))),new ke(18,Int32Array.from([6,30,56,82]),new ee(30,new M(5,120),new M(1,121)),new ee(26,new M(9,43),new M(4,44)),new ee(28,new M(17,22),new M(1,23)),new ee(28,new M(2,14),new M(19,15))),new ke(19,Int32Array.from([6,30,58,86]),new ee(28,new M(3,113),new M(4,114)),new ee(26,new M(3,44),new M(11,45)),new ee(26,new M(17,21),new M(4,22)),new ee(26,new M(9,13),new M(16,14))),new ke(20,Int32Array.from([6,34,62,90]),new ee(28,new M(3,107),new M(5,108)),new ee(26,new M(3,41),new M(13,42)),new ee(30,new M(15,24),new M(5,25)),new ee(28,new M(15,15),new M(10,16))),new ke(21,Int32Array.from([6,28,50,72,94]),new ee(28,new M(4,116),new M(4,117)),new ee(26,new M(17,42)),new ee(28,new M(17,22),new M(6,23)),new ee(30,new M(19,16),new M(6,17))),new ke(22,Int32Array.from([6,26,50,74,98]),new ee(28,new M(2,111),new M(7,112)),new ee(28,new M(17,46)),new ee(30,new M(7,24),new M(16,25)),new ee(24,new M(34,13))),new ke(23,Int32Array.from([6,30,54,78,102]),new ee(30,new M(4,121),new M(5,122)),new ee(28,new M(4,47),new M(14,48)),new ee(30,new M(11,24),new M(14,25)),new ee(30,new M(16,15),new M(14,16))),new ke(24,Int32Array.from([6,28,54,80,106]),new ee(30,new M(6,117),new M(4,118)),new ee(28,new M(6,45),new M(14,46)),new ee(30,new M(11,24),new M(16,25)),new ee(30,new M(30,16),new M(2,17))),new ke(25,Int32Array.from([6,32,58,84,110]),new ee(26,new M(8,106),new M(4,107)),new ee(28,new M(8,47),new M(13,48)),new ee(30,new M(7,24),new M(22,25)),new ee(30,new M(22,15),new M(13,16))),new ke(26,Int32Array.from([6,30,58,86,114]),new ee(28,new M(10,114),new M(2,115)),new ee(28,new M(19,46),new M(4,47)),new ee(28,new M(28,22),new M(6,23)),new ee(30,new M(33,16),new M(4,17))),new ke(27,Int32Array.from([6,34,62,90,118]),new ee(30,new M(8,122),new M(4,123)),new ee(28,new M(22,45),new M(3,46)),new ee(30,new M(8,23),new M(26,24)),new ee(30,new M(12,15),new M(28,16))),new ke(28,Int32Array.from([6,26,50,74,98,122]),new ee(30,new M(3,117),new M(10,118)),new ee(28,new M(3,45),new M(23,46)),new ee(30,new M(4,24),new M(31,25)),new ee(30,new M(11,15),new M(31,16))),new ke(29,Int32Array.from([6,30,54,78,102,126]),new ee(30,new M(7,116),new M(7,117)),new ee(28,new M(21,45),new M(7,46)),new ee(30,new M(1,23),new M(37,24)),new ee(30,new M(19,15),new M(26,16))),new ke(30,Int32Array.from([6,26,52,78,104,130]),new ee(30,new M(5,115),new M(10,116)),new ee(28,new M(19,47),new M(10,48)),new ee(30,new M(15,24),new M(25,25)),new ee(30,new M(23,15),new M(25,16))),new ke(31,Int32Array.from([6,30,56,82,108,134]),new ee(30,new M(13,115),new M(3,116)),new ee(28,new M(2,46),new M(29,47)),new ee(30,new M(42,24),new M(1,25)),new ee(30,new M(23,15),new M(28,16))),new ke(32,Int32Array.from([6,34,60,86,112,138]),new ee(30,new M(17,115)),new ee(28,new M(10,46),new M(23,47)),new ee(30,new M(10,24),new M(35,25)),new ee(30,new M(19,15),new M(35,16))),new ke(33,Int32Array.from([6,30,58,86,114,142]),new ee(30,new M(17,115),new M(1,116)),new ee(28,new M(14,46),new M(21,47)),new ee(30,new M(29,24),new M(19,25)),new ee(30,new M(11,15),new M(46,16))),new ke(34,Int32Array.from([6,34,62,90,118,146]),new ee(30,new M(13,115),new M(6,116)),new ee(28,new M(14,46),new M(23,47)),new ee(30,new M(44,24),new M(7,25)),new ee(30,new M(59,16),new M(1,17))),new ke(35,Int32Array.from([6,30,54,78,102,126,150]),new ee(30,new M(12,121),new M(7,122)),new ee(28,new M(12,47),new M(26,48)),new ee(30,new M(39,24),new M(14,25)),new ee(30,new M(22,15),new M(41,16))),new ke(36,Int32Array.from([6,24,50,76,102,128,154]),new ee(30,new M(6,121),new M(14,122)),new ee(28,new M(6,47),new M(34,48)),new ee(30,new M(46,24),new M(10,25)),new ee(30,new M(2,15),new M(64,16))),new ke(37,Int32Array.from([6,28,54,80,106,132,158]),new ee(30,new M(17,122),new M(4,123)),new ee(28,new M(29,46),new M(14,47)),new ee(30,new M(49,24),new M(10,25)),new ee(30,new M(24,15),new M(46,16))),new ke(38,Int32Array.from([6,32,58,84,110,136,162]),new ee(30,new M(4,122),new M(18,123)),new ee(28,new M(13,46),new M(32,47)),new ee(30,new M(48,24),new M(14,25)),new ee(30,new M(42,15),new M(32,16))),new ke(39,Int32Array.from([6,26,54,82,110,138,166]),new ee(30,new M(20,117),new M(4,118)),new ee(28,new M(40,47),new M(7,48)),new ee(30,new M(43,24),new M(22,25)),new ee(30,new M(10,15),new M(67,16))),new ke(40,Int32Array.from([6,30,58,86,114,142,170]),new ee(30,new M(19,118),new M(6,119)),new ee(28,new M(18,47),new M(31,48)),new ee(30,new M(34,24),new M(34,25)),new ee(30,new M(20,15),new M(61,16)))];var on;(function(C){C[C.DATA_MASK_000=0]="DATA_MASK_000",C[C.DATA_MASK_001=1]="DATA_MASK_001",C[C.DATA_MASK_010=2]="DATA_MASK_010",C[C.DATA_MASK_011=3]="DATA_MASK_011",C[C.DATA_MASK_100=4]="DATA_MASK_100",C[C.DATA_MASK_101=5]="DATA_MASK_101",C[C.DATA_MASK_110=6]="DATA_MASK_110",C[C.DATA_MASK_111=7]="DATA_MASK_111"})(on||(on={}));class kn{constructor(t,r){this.value=t,this.isMasked=r}unmaskBitMatrix(t,r){for(let a=0;a<r;a++)for(let l=0;l<r;l++)this.isMasked(a,l)&&t.flip(l,a)}}kn.values=new Map([[on.DATA_MASK_000,new kn(on.DATA_MASK_000,(C,t)=>(C+t&1)===0)],[on.DATA_MASK_001,new kn(on.DATA_MASK_001,(C,t)=>(C&1)===0)],[on.DATA_MASK_010,new kn(on.DATA_MASK_010,(C,t)=>t%3===0)],[on.DATA_MASK_011,new kn(on.DATA_MASK_011,(C,t)=>(C+t)%3===0)],[on.DATA_MASK_100,new kn(on.DATA_MASK_100,(C,t)=>(Math.floor(C/2)+Math.floor(t/3)&1)===0)],[on.DATA_MASK_101,new kn(on.DATA_MASK_101,(C,t)=>C*t%6===0)],[on.DATA_MASK_110,new kn(on.DATA_MASK_110,(C,t)=>C*t%6<3)],[on.DATA_MASK_111,new kn(on.DATA_MASK_111,(C,t)=>(C+t+C*t%3&1)===0)]]);class Sa{constructor(t){const r=t.getHeight();if(r<21||(r&3)!==1)throw new Q;this.bitMatrix=t}readFormatInformation(){if(this.parsedFormatInfo!==null&&this.parsedFormatInfo!==void 0)return this.parsedFormatInfo;let t=0;for(let s=0;s<6;s++)t=this.copyBit(s,8,t);t=this.copyBit(7,8,t),t=this.copyBit(8,8,t),t=this.copyBit(8,7,t);for(let s=5;s>=0;s--)t=this.copyBit(8,s,t);const r=this.bitMatrix.getHeight();let a=0;const l=r-7;for(let s=r-1;s>=l;s--)a=this.copyBit(8,s,a);for(let s=r-8;s<r;s++)a=this.copyBit(s,8,a);if(this.parsedFormatInfo=hn.decodeFormatInformation(t,a),this.parsedFormatInfo!==null)return this.parsedFormatInfo;throw new Q}readVersion(){if(this.parsedVersion!==null&&this.parsedVersion!==void 0)return this.parsedVersion;const t=this.bitMatrix.getHeight(),r=Math.floor((t-17)/4);if(r<=6)return ke.getVersionForNumber(r);let a=0;const l=t-11;for(let u=5;u>=0;u--)for(let c=t-9;c>=l;c--)a=this.copyBit(c,u,a);let s=ke.decodeVersionInformation(a);if(s!==null&&s.getDimensionForVersion()===t)return this.parsedVersion=s,s;a=0;for(let u=5;u>=0;u--)for(let c=t-9;c>=l;c--)a=this.copyBit(u,c,a);if(s=ke.decodeVersionInformation(a),s!==null&&s.getDimensionForVersion()===t)return this.parsedVersion=s,s;throw new Q}copyBit(t,r,a){return(this.isMirror?this.bitMatrix.get(r,t):this.bitMatrix.get(t,r))?a<<1|1:a<<1}readCodewords(){const t=this.readFormatInformation(),r=this.readVersion(),a=kn.values.get(t.getDataMask()),l=this.bitMatrix.getHeight();a.unmaskBitMatrix(this.bitMatrix,l);const s=r.buildFunctionPattern();let u=!0;const c=new Uint8Array(r.getTotalCodewords());let h=0,x=0,w=0;for(let v=l-1;v>0;v-=2){v===6&&v--;for(let T=0;T<l;T++){const B=u?l-1-T:T;for(let j=0;j<2;j++)s.get(v-j,B)||(w++,x<<=1,this.bitMatrix.get(v-j,B)&&(x|=1),w===8&&(c[h++]=x,w=0,x=0))}u=!u}if(h!==r.getTotalCodewords())throw new Q;return c}remask(){if(this.parsedFormatInfo===null)return;const t=kn.values[this.parsedFormatInfo.getDataMask()],r=this.bitMatrix.getHeight();t.unmaskBitMatrix(this.bitMatrix,r)}setMirror(t){this.parsedVersion=null,this.parsedFormatInfo=null,this.isMirror=t}mirror(){const t=this.bitMatrix;for(let r=0,a=t.getWidth();r<a;r++)for(let l=r+1,s=t.getHeight();l<s;l++)t.get(r,l)!==t.get(l,r)&&(t.flip(l,r),t.flip(r,l))}}class bl{constructor(t,r){this.numDataCodewords=t,this.codewords=r}static getDataBlocks(t,r,a){if(t.length!==r.getTotalCodewords())throw new I;const l=r.getECBlocksForLevel(a);let s=0;const u=l.getECBlocks();for(const j of u)s+=j.getCount();const c=new Array(s);let h=0;for(const j of u)for(let H=0;H<j.getCount();H++){const K=j.getDataCodewords(),fe=l.getECCodewordsPerBlock()+K;c[h++]=new bl(K,new Uint8Array(fe))}const x=c[0].codewords.length;let w=c.length-1;for(;w>=0&&c[w].codewords.length!==x;)w--;w++;const v=x-l.getECCodewordsPerBlock();let T=0;for(let j=0;j<v;j++)for(let H=0;H<h;H++)c[H].codewords[j]=t[T++];for(let j=w;j<h;j++)c[j].codewords[v]=t[T++];const B=c[0].codewords.length;for(let j=v;j<B;j++)for(let H=0;H<h;H++){const K=H<w?j:j+1;c[H].codewords[K]=t[T++]}return c}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}var Un;(function(C){C[C.TERMINATOR=0]="TERMINATOR",C[C.NUMERIC=1]="NUMERIC",C[C.ALPHANUMERIC=2]="ALPHANUMERIC",C[C.STRUCTURED_APPEND=3]="STRUCTURED_APPEND",C[C.BYTE=4]="BYTE",C[C.ECI=5]="ECI",C[C.KANJI=6]="KANJI",C[C.FNC1_FIRST_POSITION=7]="FNC1_FIRST_POSITION",C[C.FNC1_SECOND_POSITION=8]="FNC1_SECOND_POSITION",C[C.HANZI=9]="HANZI"})(Un||(Un={}));class He{constructor(t,r,a,l){this.value=t,this.stringValue=r,this.characterCountBitsForVersions=a,this.bits=l,He.FOR_BITS.set(l,this),He.FOR_VALUE.set(t,this)}static forBits(t){const r=He.FOR_BITS.get(t);if(r===void 0)throw new I;return r}getCharacterCountBits(t){const r=t.getVersionNumber();let a;return r<=9?a=0:r<=26?a=1:a=2,this.characterCountBitsForVersions[a]}getValue(){return this.value}getBits(){return this.bits}equals(t){if(!(t instanceof He))return!1;const r=t;return this.value===r.value}toString(){return this.stringValue}}He.FOR_BITS=new Map,He.FOR_VALUE=new Map,He.TERMINATOR=new He(Un.TERMINATOR,"TERMINATOR",Int32Array.from([0,0,0]),0),He.NUMERIC=new He(Un.NUMERIC,"NUMERIC",Int32Array.from([10,12,14]),1),He.ALPHANUMERIC=new He(Un.ALPHANUMERIC,"ALPHANUMERIC",Int32Array.from([9,11,13]),2),He.STRUCTURED_APPEND=new He(Un.STRUCTURED_APPEND,"STRUCTURED_APPEND",Int32Array.from([0,0,0]),3),He.BYTE=new He(Un.BYTE,"BYTE",Int32Array.from([8,16,16]),4),He.ECI=new He(Un.ECI,"ECI",Int32Array.from([0,0,0]),7),He.KANJI=new He(Un.KANJI,"KANJI",Int32Array.from([8,10,12]),8),He.FNC1_FIRST_POSITION=new He(Un.FNC1_FIRST_POSITION,"FNC1_FIRST_POSITION",Int32Array.from([0,0,0]),5),He.FNC1_SECOND_POSITION=new He(Un.FNC1_SECOND_POSITION,"FNC1_SECOND_POSITION",Int32Array.from([0,0,0]),9),He.HANZI=new He(Un.HANZI,"HANZI",Int32Array.from([8,10,12]),13);class Ft{static decode(t,r,a,l){const s=new tr(t);let u=new Re;const c=new Array;let h=-1,x=-1;try{let w=null,v=!1,T;do{if(s.available()<4)T=He.TERMINATOR;else{const B=s.readBits(4);T=He.forBits(B)}switch(T){case He.TERMINATOR:break;case He.FNC1_FIRST_POSITION:case He.FNC1_SECOND_POSITION:v=!0;break;case He.STRUCTURED_APPEND:if(s.available()<16)throw new Q;h=s.readBits(8),x=s.readBits(8);break;case He.ECI:const B=Ft.parseECIValue(s);if(w=ce.getCharacterSetECIByValue(B),w===null)throw new Q;break;case He.HANZI:const j=s.readBits(4),H=s.readBits(T.getCharacterCountBits(r));j===Ft.GB2312_SUBSET&&Ft.decodeHanziSegment(s,u,H);break;default:const K=s.readBits(T.getCharacterCountBits(r));switch(T){case He.NUMERIC:Ft.decodeNumericSegment(s,u,K);break;case He.ALPHANUMERIC:Ft.decodeAlphanumericSegment(s,u,K,v);break;case He.BYTE:Ft.decodeByteSegment(s,u,K,w,c,l);break;case He.KANJI:Ft.decodeKanjiSegment(s,u,K);break;default:throw new Q}break}}while(T!==He.TERMINATOR)}catch{throw new Q}return new Je(t,u.toString(),c.length===0?null:c,a===null?null:a.toString(),h,x)}static decodeHanziSegment(t,r,a){if(a*13>t.available())throw new Q;const l=new Uint8Array(2*a);let s=0;for(;a>0;){const u=t.readBits(13);let c=u/96<<8&4294967295|u%96;c<959?c+=41377:c+=42657,l[s]=c>>8&255,l[s+1]=c&255,s+=2,a--}try{r.append(qe.decode(l,de.GB2312))}catch(u){throw new Q(u)}}static decodeKanjiSegment(t,r,a){if(a*13>t.available())throw new Q;const l=new Uint8Array(2*a);let s=0;for(;a>0;){const u=t.readBits(13);let c=u/192<<8&4294967295|u%192;c<7936?c+=33088:c+=49472,l[s]=c>>8,l[s+1]=c,s+=2,a--}try{r.append(qe.decode(l,de.SHIFT_JIS))}catch(u){throw new Q(u)}}static decodeByteSegment(t,r,a,l,s,u){if(8*a>t.available())throw new Q;const c=new Uint8Array(a);for(let x=0;x<a;x++)c[x]=t.readBits(8);let h;l===null?h=de.guessEncoding(c,u):h=l.getName();try{r.append(qe.decode(c,h))}catch(x){throw new Q(x)}s.push(c)}static toAlphaNumericChar(t){if(t>=Ft.ALPHANUMERIC_CHARS.length)throw new Q;return Ft.ALPHANUMERIC_CHARS[t]}static decodeAlphanumericSegment(t,r,a,l){const s=r.length();for(;a>1;){if(t.available()<11)throw new Q;const u=t.readBits(11);r.append(Ft.toAlphaNumericChar(Math.floor(u/45))),r.append(Ft.toAlphaNumericChar(u%45)),a-=2}if(a===1){if(t.available()<6)throw new Q;r.append(Ft.toAlphaNumericChar(t.readBits(6)))}if(l)for(let u=s;u<r.length();u++)r.charAt(u)==="%"&&(u<r.length()-1&&r.charAt(u+1)==="%"?r.deleteCharAt(u+1):r.setCharAt(u,""))}static decodeNumericSegment(t,r,a){for(;a>=3;){if(t.available()<10)throw new Q;const l=t.readBits(10);if(l>=1e3)throw new Q;r.append(Ft.toAlphaNumericChar(Math.floor(l/100))),r.append(Ft.toAlphaNumericChar(Math.floor(l/10)%10)),r.append(Ft.toAlphaNumericChar(l%10)),a-=3}if(a===2){if(t.available()<7)throw new Q;const l=t.readBits(7);if(l>=100)throw new Q;r.append(Ft.toAlphaNumericChar(Math.floor(l/10))),r.append(Ft.toAlphaNumericChar(l%10))}else if(a===1){if(t.available()<4)throw new Q;const l=t.readBits(4);if(l>=10)throw new Q;r.append(Ft.toAlphaNumericChar(l))}}static parseECIValue(t){const r=t.readBits(8);if((r&128)===0)return r&127;if((r&192)===128){const a=t.readBits(8);return(r&63)<<8&4294967295|a}if((r&224)===192){const a=t.readBits(16);return(r&31)<<16&4294967295|a}throw new Q}}Ft.ALPHANUMERIC_CHARS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",Ft.GB2312_SUBSET=1;class Es{constructor(t){this.mirrored=t}isMirrored(){return this.mirrored}applyMirroredCorrection(t){if(!this.mirrored||t===null||t.length<3)return;const r=t[0];t[0]=t[2],t[2]=r}}class tu{constructor(){this.rsDecoder=new jn(Ue.QR_CODE_FIELD_256)}decodeBooleanArray(t,r){return this.decodeBitMatrix(_e.parseFromBooleanArray(t),r)}decodeBitMatrix(t,r){const a=new Sa(t);let l=null;try{return this.decodeBitMatrixParser(a,r)}catch(s){l=s}try{a.remask(),a.setMirror(!0),a.readVersion(),a.readFormatInformation(),a.mirror();const s=this.decodeBitMatrixParser(a,r);return s.setOther(new Es(!0)),s}catch(s){throw l!==null?l:s}}decodeBitMatrixParser(t,r){const a=t.readVersion(),l=t.readFormatInformation().getErrorCorrectionLevel(),s=t.readCodewords(),u=bl.getDataBlocks(s,a,l);let c=0;for(const w of u)c+=w.getNumDataCodewords();const h=new Uint8Array(c);let x=0;for(const w of u){const v=w.getCodewords(),T=w.getNumDataCodewords();this.correctErrors(v,T);for(let B=0;B<T;B++)h[x++]=v[B]}return Ft.decode(h,a,l,r)}correctErrors(t,r){const a=new Int32Array(t);try{this.rsDecoder.decode(a,t.length-r)}catch{throw new ne}for(let l=0;l<r;l++)t[l]=a[l]}}class Ta extends Be{constructor(t,r,a){super(t,r),this.estimatedModuleSize=a}aboutEquals(t,r,a){if(Math.abs(r-this.getY())<=t&&Math.abs(a-this.getX())<=t){const l=Math.abs(t-this.estimatedModuleSize);return l<=1||l<=this.estimatedModuleSize}return!1}combineEstimate(t,r,a){const l=(this.getX()+r)/2,s=(this.getY()+t)/2,u=(this.estimatedModuleSize+a)/2;return new Ta(l,s,u)}}class Gn{constructor(t,r,a,l,s,u,c){this.image=t,this.startX=r,this.startY=a,this.width=l,this.height=s,this.moduleSize=u,this.resultPointCallback=c,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(3)}find(){const t=this.startX,r=this.height,a=this.width,l=t+a,s=this.startY+r/2,u=new Int32Array(3),c=this.image;for(let h=0;h<r;h++){const x=s+((h&1)===0?Math.floor((h+1)/2):-Math.floor((h+1)/2));u[0]=0,u[1]=0,u[2]=0;let w=t;for(;w<l&&!c.get(w,x);)w++;let v=0;for(;w<l;){if(c.get(w,x))if(v===1)u[1]++;else if(v===2){if(this.foundPatternCross(u)){const T=this.handlePossibleCenter(u,x,w);if(T!==null)return T}u[0]=u[2],u[1]=1,u[2]=0,v=1}else u[++v]++;else v===1&&v++,u[v]++;w++}if(this.foundPatternCross(u)){const T=this.handlePossibleCenter(u,x,l);if(T!==null)return T}}if(this.possibleCenters.length!==0)return this.possibleCenters[0];throw new W}static centerFromEnd(t,r){return r-t[2]-t[1]/2}foundPatternCross(t){const r=this.moduleSize,a=r/2;for(let l=0;l<3;l++)if(Math.abs(r-t[l])>=a)return!1;return!0}crossCheckVertical(t,r,a,l){const s=this.image,u=s.getHeight(),c=this.crossCheckStateCount;c[0]=0,c[1]=0,c[2]=0;let h=t;for(;h>=0&&s.get(r,h)&&c[1]<=a;)c[1]++,h--;if(h<0||c[1]>a)return NaN;for(;h>=0&&!s.get(r,h)&&c[0]<=a;)c[0]++,h--;if(c[0]>a)return NaN;for(h=t+1;h<u&&s.get(r,h)&&c[1]<=a;)c[1]++,h++;if(h===u||c[1]>a)return NaN;for(;h<u&&!s.get(r,h)&&c[2]<=a;)c[2]++,h++;if(c[2]>a)return NaN;const x=c[0]+c[1]+c[2];return 5*Math.abs(x-l)>=2*l?NaN:this.foundPatternCross(c)?Gn.centerFromEnd(c,h):NaN}handlePossibleCenter(t,r,a){const l=t[0]+t[1]+t[2],s=Gn.centerFromEnd(t,a),u=this.crossCheckVertical(r,s,2*t[1],l);if(!isNaN(u)){const c=(t[0]+t[1]+t[2])/3;for(const x of this.possibleCenters)if(x.aboutEquals(c,u,s))return x.combineEstimate(u,s,c);const h=new Ta(s,u,c);this.possibleCenters.push(h),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(h)}return null}}class si extends Be{constructor(t,r,a,l){super(t,r),this.estimatedModuleSize=a,this.count=l,l===void 0&&(this.count=1)}getEstimatedModuleSize(){return this.estimatedModuleSize}getCount(){return this.count}aboutEquals(t,r,a){if(Math.abs(r-this.getY())<=t&&Math.abs(a-this.getX())<=t){const l=Math.abs(t-this.estimatedModuleSize);return l<=1||l<=this.estimatedModuleSize}return!1}combineEstimate(t,r,a){const l=this.count+1,s=(this.count*this.getX()+r)/l,u=(this.count*this.getY()+t)/l,c=(this.count*this.estimatedModuleSize+a)/l;return new si(s,u,c,l)}}class El{constructor(t){this.bottomLeft=t[0],this.topLeft=t[1],this.topRight=t[2]}getBottomLeft(){return this.bottomLeft}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}}class Xt{constructor(t,r){this.image=t,this.resultPointCallback=r,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(5),this.resultPointCallback=r}getImage(){return this.image}getPossibleCenters(){return this.possibleCenters}find(t){const r=t!=null&&t.get(me.TRY_HARDER)!==void 0,a=t!=null&&t.get(me.PURE_BARCODE)!==void 0,l=this.image,s=l.getHeight(),u=l.getWidth();let c=Math.floor(3*s/(4*Xt.MAX_MODULES));(c<Xt.MIN_SKIP||r)&&(c=Xt.MIN_SKIP);let h=!1;const x=new Int32Array(5);for(let v=c-1;v<s&&!h;v+=c){x[0]=0,x[1]=0,x[2]=0,x[3]=0,x[4]=0;let T=0;for(let B=0;B<u;B++)if(l.get(B,v))(T&1)===1&&T++,x[T]++;else if((T&1)===0)if(T===4)if(Xt.foundPatternCross(x)){if(this.handlePossibleCenter(x,v,B,a)===!0)if(c=2,this.hasSkipped===!0)h=this.haveMultiplyConfirmedCenters();else{const H=this.findRowSkip();H>x[2]&&(v+=H-x[2]-c,B=u-1)}else{x[0]=x[2],x[1]=x[3],x[2]=x[4],x[3]=1,x[4]=0,T=3;continue}T=0,x[0]=0,x[1]=0,x[2]=0,x[3]=0,x[4]=0}else x[0]=x[2],x[1]=x[3],x[2]=x[4],x[3]=1,x[4]=0,T=3;else x[++T]++;else x[T]++;Xt.foundPatternCross(x)&&this.handlePossibleCenter(x,v,u,a)===!0&&(c=x[0],this.hasSkipped&&(h=this.haveMultiplyConfirmedCenters()))}const w=this.selectBestPatterns();return Be.orderBestPatterns(w),new El(w)}static centerFromEnd(t,r){return r-t[4]-t[3]-t[2]/2}static foundPatternCross(t){let r=0;for(let s=0;s<5;s++){const u=t[s];if(u===0)return!1;r+=u}if(r<7)return!1;const a=r/7,l=a/2;return Math.abs(a-t[0])<l&&Math.abs(a-t[1])<l&&Math.abs(3*a-t[2])<3*l&&Math.abs(a-t[3])<l&&Math.abs(a-t[4])<l}getCrossCheckStateCount(){const t=this.crossCheckStateCount;return t[0]=0,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t}crossCheckDiagonal(t,r,a,l){const s=this.getCrossCheckStateCount();let u=0;const c=this.image;for(;t>=u&&r>=u&&c.get(r-u,t-u);)s[2]++,u++;if(t<u||r<u)return!1;for(;t>=u&&r>=u&&!c.get(r-u,t-u)&&s[1]<=a;)s[1]++,u++;if(t<u||r<u||s[1]>a)return!1;for(;t>=u&&r>=u&&c.get(r-u,t-u)&&s[0]<=a;)s[0]++,u++;if(s[0]>a)return!1;const h=c.getHeight(),x=c.getWidth();for(u=1;t+u<h&&r+u<x&&c.get(r+u,t+u);)s[2]++,u++;if(t+u>=h||r+u>=x)return!1;for(;t+u<h&&r+u<x&&!c.get(r+u,t+u)&&s[3]<a;)s[3]++,u++;if(t+u>=h||r+u>=x||s[3]>=a)return!1;for(;t+u<h&&r+u<x&&c.get(r+u,t+u)&&s[4]<a;)s[4]++,u++;if(s[4]>=a)return!1;const w=s[0]+s[1]+s[2]+s[3]+s[4];return Math.abs(w-l)<2*l&&Xt.foundPatternCross(s)}crossCheckVertical(t,r,a,l){const s=this.image,u=s.getHeight(),c=this.getCrossCheckStateCount();let h=t;for(;h>=0&&s.get(r,h);)c[2]++,h--;if(h<0)return NaN;for(;h>=0&&!s.get(r,h)&&c[1]<=a;)c[1]++,h--;if(h<0||c[1]>a)return NaN;for(;h>=0&&s.get(r,h)&&c[0]<=a;)c[0]++,h--;if(c[0]>a)return NaN;for(h=t+1;h<u&&s.get(r,h);)c[2]++,h++;if(h===u)return NaN;for(;h<u&&!s.get(r,h)&&c[3]<a;)c[3]++,h++;if(h===u||c[3]>=a)return NaN;for(;h<u&&s.get(r,h)&&c[4]<a;)c[4]++,h++;if(c[4]>=a)return NaN;const x=c[0]+c[1]+c[2]+c[3]+c[4];return 5*Math.abs(x-l)>=2*l?NaN:Xt.foundPatternCross(c)?Xt.centerFromEnd(c,h):NaN}crossCheckHorizontal(t,r,a,l){const s=this.image,u=s.getWidth(),c=this.getCrossCheckStateCount();let h=t;for(;h>=0&&s.get(h,r);)c[2]++,h--;if(h<0)return NaN;for(;h>=0&&!s.get(h,r)&&c[1]<=a;)c[1]++,h--;if(h<0||c[1]>a)return NaN;for(;h>=0&&s.get(h,r)&&c[0]<=a;)c[0]++,h--;if(c[0]>a)return NaN;for(h=t+1;h<u&&s.get(h,r);)c[2]++,h++;if(h===u)return NaN;for(;h<u&&!s.get(h,r)&&c[3]<a;)c[3]++,h++;if(h===u||c[3]>=a)return NaN;for(;h<u&&s.get(h,r)&&c[4]<a;)c[4]++,h++;if(c[4]>=a)return NaN;const x=c[0]+c[1]+c[2]+c[3]+c[4];return 5*Math.abs(x-l)>=l?NaN:Xt.foundPatternCross(c)?Xt.centerFromEnd(c,h):NaN}handlePossibleCenter(t,r,a,l){const s=t[0]+t[1]+t[2]+t[3]+t[4];let u=Xt.centerFromEnd(t,a),c=this.crossCheckVertical(r,Math.floor(u),t[2],s);if(!isNaN(c)&&(u=this.crossCheckHorizontal(Math.floor(u),Math.floor(c),t[2],s),!isNaN(u)&&(!l||this.crossCheckDiagonal(Math.floor(c),Math.floor(u),t[2],s)))){const h=s/7;let x=!1;const w=this.possibleCenters;for(let v=0,T=w.length;v<T;v++){const B=w[v];if(B.aboutEquals(h,c,u)){w[v]=B.combineEstimate(c,u,h),x=!0;break}}if(!x){const v=new si(u,c,h);w.push(v),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(v)}return!0}return!1}findRowSkip(){if(this.possibleCenters.length<=1)return 0;let r=null;for(const a of this.possibleCenters)if(a.getCount()>=Xt.CENTER_QUORUM)if(r==null)r=a;else return this.hasSkipped=!0,Math.floor((Math.abs(r.getX()-a.getX())-Math.abs(r.getY()-a.getY()))/2);return 0}haveMultiplyConfirmedCenters(){let t=0,r=0;const a=this.possibleCenters.length;for(const u of this.possibleCenters)u.getCount()>=Xt.CENTER_QUORUM&&(t++,r+=u.getEstimatedModuleSize());if(t<3)return!1;const l=r/a;let s=0;for(const u of this.possibleCenters)s+=Math.abs(u.getEstimatedModuleSize()-l);return s<=.05*r}selectBestPatterns(){const t=this.possibleCenters.length;if(t<3)throw new W;const r=this.possibleCenters;let a;if(t>3){let l=0,s=0;for(const h of this.possibleCenters){const x=h.getEstimatedModuleSize();l+=x,s+=x*x}a=l/t;let u=Math.sqrt(s/t-a*a);r.sort((h,x)=>{const w=Math.abs(x.getEstimatedModuleSize()-a),v=Math.abs(h.getEstimatedModuleSize()-a);return w<v?-1:w>v?1:0});const c=Math.max(.2*a,u);for(let h=0;h<r.length&&r.length>3;h++){const x=r[h];Math.abs(x.getEstimatedModuleSize()-a)>c&&(r.splice(h,1),h--)}}if(r.length>3){let l=0;for(const s of r)l+=s.getEstimatedModuleSize();a=l/r.length,r.sort((s,u)=>{if(u.getCount()===s.getCount()){const c=Math.abs(u.getEstimatedModuleSize()-a),h=Math.abs(s.getEstimatedModuleSize()-a);return c<h?1:c>h?-1:0}else return u.getCount()-s.getCount()}),r.splice(3)}return[r[0],r[1],r[2]]}}Xt.CENTER_QUORUM=2,Xt.MIN_SKIP=3,Xt.MAX_MODULES=57;class gr{constructor(t){this.image=t}getImage(){return this.image}getResultPointCallback(){return this.resultPointCallback}detect(t){this.resultPointCallback=t==null?null:t.get(me.NEED_RESULT_POINT_CALLBACK);const a=new Xt(this.image,this.resultPointCallback).find(t);return this.processFinderPatternInfo(a)}processFinderPatternInfo(t){const r=t.getTopLeft(),a=t.getTopRight(),l=t.getBottomLeft(),s=this.calculateModuleSize(r,a,l);if(s<1)throw new W("No pattern found in proccess finder.");const u=gr.computeDimension(r,a,l,s),c=ke.getProvisionalVersionForDimension(u),h=c.getDimensionForVersion()-7;let x=null;if(c.getAlignmentPatternCenters().length>0){const B=a.getX()-r.getX()+l.getX(),j=a.getY()-r.getY()+l.getY(),H=1-3/h,K=Math.floor(r.getX()+H*(B-r.getX())),fe=Math.floor(r.getY()+H*(j-r.getY()));for(let Te=4;Te<=16;Te<<=1)try{x=this.findAlignmentInRegion(s,K,fe,Te);break}catch(ve){if(!(ve instanceof W))throw ve}}const w=gr.createTransform(r,a,l,x,u),v=gr.sampleGrid(this.image,w,u);let T;return x===null?T=[l,r,a]:T=[l,r,a,x],new Ri(v,T)}static createTransform(t,r,a,l,s){const u=s-3.5;let c,h,x,w;return l!==null?(c=l.getX(),h=l.getY(),x=u-3,w=x):(c=r.getX()-t.getX()+a.getX(),h=r.getY()-t.getY()+a.getY(),x=u,w=u),Hn.quadrilateralToQuadrilateral(3.5,3.5,u,3.5,x,w,3.5,u,t.getX(),t.getY(),r.getX(),r.getY(),c,h,a.getX(),a.getY())}static sampleGrid(t,r,a){return Jn.getInstance().sampleGridWithTransform(t,a,a,r)}static computeDimension(t,r,a,l){const s=Qe.round(Be.distance(t,r)/l),u=Qe.round(Be.distance(t,a)/l);let c=Math.floor((s+u)/2)+7;switch(c&3){case 0:c++;break;case 2:c--;break;case 3:throw new W("Dimensions could be not found.")}return c}calculateModuleSize(t,r,a){return(this.calculateModuleSizeOneWay(t,r)+this.calculateModuleSizeOneWay(t,a))/2}calculateModuleSizeOneWay(t,r){const a=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(t.getX()),Math.floor(t.getY()),Math.floor(r.getX()),Math.floor(r.getY())),l=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(r.getX()),Math.floor(r.getY()),Math.floor(t.getX()),Math.floor(t.getY()));return isNaN(a)?l/7:isNaN(l)?a/7:(a+l)/14}sizeOfBlackWhiteBlackRunBothWays(t,r,a,l){let s=this.sizeOfBlackWhiteBlackRun(t,r,a,l),u=1,c=t-(a-t);c<0?(u=t/(t-c),c=0):c>=this.image.getWidth()&&(u=(this.image.getWidth()-1-t)/(c-t),c=this.image.getWidth()-1);let h=Math.floor(r-(l-r)*u);return u=1,h<0?(u=r/(r-h),h=0):h>=this.image.getHeight()&&(u=(this.image.getHeight()-1-r)/(h-r),h=this.image.getHeight()-1),c=Math.floor(t+(c-t)*u),s+=this.sizeOfBlackWhiteBlackRun(t,r,c,h),s-1}sizeOfBlackWhiteBlackRun(t,r,a,l){const s=Math.abs(l-r)>Math.abs(a-t);if(s){let B=t;t=r,r=B,B=a,a=l,l=B}const u=Math.abs(a-t),c=Math.abs(l-r);let h=-u/2;const x=t<a?1:-1,w=r<l?1:-1;let v=0;const T=a+x;for(let B=t,j=r;B!==T;B+=x){const H=s?j:B,K=s?B:j;if(v===1===this.image.get(H,K)){if(v===2)return Qe.distance(B,j,t,r);v++}if(h+=c,h>0){if(j===l)break;j+=w,h-=u}}return v===2?Qe.distance(a+x,l,t,r):NaN}findAlignmentInRegion(t,r,a,l){const s=Math.floor(l*t),u=Math.max(0,r-s),c=Math.min(this.image.getWidth()-1,r+s);if(c-u<t*3)throw new W("Alignment top exceeds estimated module size.");const h=Math.max(0,a-s),x=Math.min(this.image.getHeight()-1,a+s);if(x-h<t*3)throw new W("Alignment bottom exceeds estimated module size.");return new Gn(this.image,u,h,c-u,x-h,t,this.resultPointCallback).find()}}class Rr{constructor(){this.decoder=new tu}getDecoder(){return this.decoder}decode(t,r){let a,l;if(r!=null&&r.get(me.PURE_BARCODE)!==void 0){const h=Rr.extractPureBits(t.getBlackMatrix());a=this.decoder.decodeBitMatrix(h,r),l=Rr.NO_POINTS}else{const h=new gr(t.getBlackMatrix()).detect(r);a=this.decoder.decodeBitMatrix(h.getBits(),r),l=h.getPoints()}a.getOther()instanceof Es&&a.getOther().applyMirroredCorrection(l);const s=new ae(a.getText(),a.getRawBytes(),void 0,l,ie.QR_CODE,void 0),u=a.getByteSegments();u!==null&&s.putMetadata(je.BYTE_SEGMENTS,u);const c=a.getECLevel();return c!==null&&s.putMetadata(je.ERROR_CORRECTION_LEVEL,c),a.hasStructuredAppend()&&(s.putMetadata(je.STRUCTURED_APPEND_SEQUENCE,a.getStructuredAppendSequenceNumber()),s.putMetadata(je.STRUCTURED_APPEND_PARITY,a.getStructuredAppendParity())),s}reset(){}static extractPureBits(t){const r=t.getTopLeftOnBit(),a=t.getBottomRightOnBit();if(r===null||a===null)throw new W;const l=this.moduleSize(r,t);let s=r[1],u=a[1],c=r[0],h=a[0];if(c>=h||s>=u)throw new W;if(u-s!==h-c&&(h=c+(u-s),h>=t.getWidth()))throw new W;const x=Math.round((h-c+1)/l),w=Math.round((u-s+1)/l);if(x<=0||w<=0)throw new W;if(w!==x)throw new W;const v=Math.floor(l/2);s+=v,c+=v;const T=c+Math.floor((x-1)*l)-h;if(T>0){if(T>v)throw new W;c-=T}const B=s+Math.floor((w-1)*l)-u;if(B>0){if(B>v)throw new W;s-=B}const j=new _e(x,w);for(let H=0;H<w;H++){const K=s+Math.floor(H*l);for(let fe=0;fe<x;fe++)t.get(c+Math.floor(fe*l),K)&&j.set(fe,H)}return j}static moduleSize(t,r){const a=r.getHeight(),l=r.getWidth();let s=t[0],u=t[1],c=!0,h=0;for(;s<l&&u<a;){if(c!==r.get(s,u)){if(++h===5)break;c=!c}s++,u++}if(s===l||u===a)throw new W;return(s-t[0])/7}}Rr.NO_POINTS=new Array;class Ge{PDF417Common(){}static getBitCountSum(t){return Qe.sum(t)}static toIntArray(t){if(t==null||!t.length)return Ge.EMPTY_INT_ARRAY;const r=new Int32Array(t.length);let a=0;for(const l of t)r[a++]=l;return r}static getCodeword(t){const r=G.binarySearch(Ge.SYMBOL_TABLE,t&262143);return r<0?-1:(Ge.CODEWORD_TABLE[r]-1)%Ge.NUMBER_OF_CODEWORDS}}Ge.NUMBER_OF_CODEWORDS=929,Ge.MAX_CODEWORDS_IN_BARCODE=Ge.NUMBER_OF_CODEWORDS-1,Ge.MIN_ROWS_IN_BARCODE=3,Ge.MAX_ROWS_IN_BARCODE=90,Ge.MODULES_IN_CODEWORD=17,Ge.MODULES_IN_STOP_PATTERN=18,Ge.BARS_IN_MODULE=8,Ge.EMPTY_INT_ARRAY=new Int32Array([]),Ge.SYMBOL_TABLE=Int32Array.from([66142,66170,66206,66236,66290,66292,66350,66382,66396,66454,66470,66476,66594,66600,66614,66626,66628,66632,66640,66654,66662,66668,66682,66690,66718,66720,66748,66758,66776,66798,66802,66804,66820,66824,66832,66846,66848,66876,66880,66936,66950,66956,66968,66992,67006,67022,67036,67042,67044,67048,67062,67118,67150,67164,67214,67228,67256,67294,67322,67350,67366,67372,67398,67404,67416,67438,67474,67476,67490,67492,67496,67510,67618,67624,67650,67656,67664,67678,67686,67692,67706,67714,67716,67728,67742,67744,67772,67782,67788,67800,67822,67826,67828,67842,67848,67870,67872,67900,67904,67960,67974,67992,68016,68030,68046,68060,68066,68068,68072,68086,68104,68112,68126,68128,68156,68160,68216,68336,68358,68364,68376,68400,68414,68448,68476,68494,68508,68536,68546,68548,68552,68560,68574,68582,68588,68654,68686,68700,68706,68708,68712,68726,68750,68764,68792,68802,68804,68808,68816,68830,68838,68844,68858,68878,68892,68920,68976,68990,68994,68996,69e3,69008,69022,69024,69052,69062,69068,69080,69102,69106,69108,69142,69158,69164,69190,69208,69230,69254,69260,69272,69296,69310,69326,69340,69386,69394,69396,69410,69416,69430,69442,69444,69448,69456,69470,69478,69484,69554,69556,69666,69672,69698,69704,69712,69726,69754,69762,69764,69776,69790,69792,69820,69830,69836,69848,69870,69874,69876,69890,69918,69920,69948,69952,70008,70022,70040,70064,70078,70094,70108,70114,70116,70120,70134,70152,70174,70176,70264,70384,70412,70448,70462,70496,70524,70542,70556,70584,70594,70600,70608,70622,70630,70636,70664,70672,70686,70688,70716,70720,70776,70896,71136,71180,71192,71216,71230,71264,71292,71360,71416,71452,71480,71536,71550,71554,71556,71560,71568,71582,71584,71612,71622,71628,71640,71662,71726,71732,71758,71772,71778,71780,71784,71798,71822,71836,71864,71874,71880,71888,71902,71910,71916,71930,71950,71964,71992,72048,72062,72066,72068,72080,72094,72096,72124,72134,72140,72152,72174,72178,72180,72206,72220,72248,72304,72318,72416,72444,72456,72464,72478,72480,72508,72512,72568,72588,72600,72624,72638,72654,72668,72674,72676,72680,72694,72726,72742,72748,72774,72780,72792,72814,72838,72856,72880,72894,72910,72924,72930,72932,72936,72950,72966,72972,72984,73008,73022,73056,73084,73102,73116,73144,73156,73160,73168,73182,73190,73196,73210,73226,73234,73236,73250,73252,73256,73270,73282,73284,73296,73310,73318,73324,73346,73348,73352,73360,73374,73376,73404,73414,73420,73432,73454,73498,73518,73522,73524,73550,73564,73570,73572,73576,73590,73800,73822,73858,73860,73872,73886,73888,73916,73944,73970,73972,73992,74014,74016,74044,74048,74104,74118,74136,74160,74174,74210,74212,74216,74230,74244,74256,74270,74272,74360,74480,74502,74508,74544,74558,74592,74620,74638,74652,74680,74690,74696,74704,74726,74732,74782,74784,74812,74992,75232,75288,75326,75360,75388,75456,75512,75576,75632,75646,75650,75652,75664,75678,75680,75708,75718,75724,75736,75758,75808,75836,75840,75896,76016,76256,76736,76824,76848,76862,76896,76924,76992,77048,77296,77340,77368,77424,77438,77536,77564,77572,77576,77584,77600,77628,77632,77688,77702,77708,77720,77744,77758,77774,77788,77870,77902,77916,77922,77928,77966,77980,78008,78018,78024,78032,78046,78060,78074,78094,78136,78192,78206,78210,78212,78224,78238,78240,78268,78278,78284,78296,78322,78324,78350,78364,78448,78462,78560,78588,78600,78622,78624,78652,78656,78712,78726,78744,78768,78782,78798,78812,78818,78820,78824,78838,78862,78876,78904,78960,78974,79072,79100,79296,79352,79368,79376,79390,79392,79420,79424,79480,79600,79628,79640,79664,79678,79712,79740,79772,79800,79810,79812,79816,79824,79838,79846,79852,79894,79910,79916,79942,79948,79960,79982,79988,80006,80024,80048,80062,80078,80092,80098,80100,80104,80134,80140,80176,80190,80224,80252,80270,80284,80312,80328,80336,80350,80358,80364,80378,80390,80396,80408,80432,80446,80480,80508,80576,80632,80654,80668,80696,80752,80766,80776,80784,80798,80800,80828,80844,80856,80878,80882,80884,80914,80916,80930,80932,80936,80950,80962,80968,80976,80990,80998,81004,81026,81028,81040,81054,81056,81084,81094,81100,81112,81134,81154,81156,81160,81168,81182,81184,81212,81216,81272,81286,81292,81304,81328,81342,81358,81372,81380,81384,81398,81434,81454,81458,81460,81486,81500,81506,81508,81512,81526,81550,81564,81592,81602,81604,81608,81616,81630,81638,81644,81702,81708,81722,81734,81740,81752,81774,81778,81780,82050,82078,82080,82108,82180,82184,82192,82206,82208,82236,82240,82296,82316,82328,82352,82366,82402,82404,82408,82440,82448,82462,82464,82492,82496,82552,82672,82694,82700,82712,82736,82750,82784,82812,82830,82882,82884,82888,82896,82918,82924,82952,82960,82974,82976,83004,83008,83064,83184,83424,83468,83480,83504,83518,83552,83580,83648,83704,83740,83768,83824,83838,83842,83844,83848,83856,83872,83900,83910,83916,83928,83950,83984,84e3,84028,84032,84088,84208,84448,84928,85040,85054,85088,85116,85184,85240,85488,85560,85616,85630,85728,85756,85764,85768,85776,85790,85792,85820,85824,85880,85894,85900,85912,85936,85966,85980,86048,86080,86136,86256,86496,86976,88160,88188,88256,88312,88560,89056,89200,89214,89312,89340,89536,89592,89608,89616,89632,89664,89720,89840,89868,89880,89904,89952,89980,89998,90012,90040,90190,90204,90254,90268,90296,90306,90308,90312,90334,90382,90396,90424,90480,90494,90500,90504,90512,90526,90528,90556,90566,90572,90584,90610,90612,90638,90652,90680,90736,90750,90848,90876,90884,90888,90896,90910,90912,90940,90944,91e3,91014,91020,91032,91056,91070,91086,91100,91106,91108,91112,91126,91150,91164,91192,91248,91262,91360,91388,91584,91640,91664,91678,91680,91708,91712,91768,91888,91928,91952,91966,92e3,92028,92046,92060,92088,92098,92100,92104,92112,92126,92134,92140,92188,92216,92272,92384,92412,92608,92664,93168,93200,93214,93216,93244,93248,93304,93424,93664,93720,93744,93758,93792,93820,93888,93944,93980,94008,94064,94078,94084,94088,94096,94110,94112,94140,94150,94156,94168,94246,94252,94278,94284,94296,94318,94342,94348,94360,94384,94398,94414,94428,94440,94470,94476,94488,94512,94526,94560,94588,94606,94620,94648,94658,94660,94664,94672,94686,94694,94700,94714,94726,94732,94744,94768,94782,94816,94844,94912,94968,94990,95004,95032,95088,95102,95112,95120,95134,95136,95164,95180,95192,95214,95218,95220,95244,95256,95280,95294,95328,95356,95424,95480,95728,95758,95772,95800,95856,95870,95968,95996,96008,96016,96030,96032,96060,96064,96120,96152,96176,96190,96220,96226,96228,96232,96290,96292,96296,96310,96322,96324,96328,96336,96350,96358,96364,96386,96388,96392,96400,96414,96416,96444,96454,96460,96472,96494,96498,96500,96514,96516,96520,96528,96542,96544,96572,96576,96632,96646,96652,96664,96688,96702,96718,96732,96738,96740,96744,96758,96772,96776,96784,96798,96800,96828,96832,96888,97008,97030,97036,97048,97072,97086,97120,97148,97166,97180,97208,97220,97224,97232,97246,97254,97260,97326,97330,97332,97358,97372,97378,97380,97384,97398,97422,97436,97464,97474,97476,97480,97488,97502,97510,97516,97550,97564,97592,97648,97666,97668,97672,97680,97694,97696,97724,97734,97740,97752,97774,97830,97836,97850,97862,97868,97880,97902,97906,97908,97926,97932,97944,97968,97998,98012,98018,98020,98024,98038,98618,98674,98676,98838,98854,98874,98892,98904,98926,98930,98932,98968,99006,99042,99044,99048,99062,99166,99194,99246,99286,99350,99366,99372,99386,99398,99416,99438,99442,99444,99462,99504,99518,99534,99548,99554,99556,99560,99574,99590,99596,99608,99632,99646,99680,99708,99726,99740,99768,99778,99780,99784,99792,99806,99814,99820,99834,99858,99860,99874,99880,99894,99906,99920,99934,99962,99970,99972,99976,99984,99998,1e5,100028,100038,100044,100056,100078,100082,100084,100142,100174,100188,100246,100262,100268,100306,100308,100390,100396,100410,100422,100428,100440,100462,100466,100468,100486,100504,100528,100542,100558,100572,100578,100580,100584,100598,100620,100656,100670,100704,100732,100750,100792,100802,100808,100816,100830,100838,100844,100858,100888,100912,100926,100960,100988,101056,101112,101148,101176,101232,101246,101250,101252,101256,101264,101278,101280,101308,101318,101324,101336,101358,101362,101364,101410,101412,101416,101430,101442,101448,101456,101470,101478,101498,101506,101508,101520,101534,101536,101564,101580,101618,101620,101636,101640,101648,101662,101664,101692,101696,101752,101766,101784,101838,101858,101860,101864,101934,101938,101940,101966,101980,101986,101988,101992,102030,102044,102072,102082,102084,102088,102096,102138,102166,102182,102188,102214,102220,102232,102254,102282,102290,102292,102306,102308,102312,102326,102444,102458,102470,102476,102488,102514,102516,102534,102552,102576,102590,102606,102620,102626,102632,102646,102662,102668,102704,102718,102752,102780,102798,102812,102840,102850,102856,102864,102878,102886,102892,102906,102936,102974,103008,103036,103104,103160,103224,103280,103294,103298,103300,103312,103326,103328,103356,103366,103372,103384,103406,103410,103412,103472,103486,103520,103548,103616,103672,103920,103992,104048,104062,104160,104188,104194,104196,104200,104208,104224,104252,104256,104312,104326,104332,104344,104368,104382,104398,104412,104418,104420,104424,104482,104484,104514,104520,104528,104542,104550,104570,104578,104580,104592,104606,104608,104636,104652,104690,104692,104706,104712,104734,104736,104764,104768,104824,104838,104856,104910,104930,104932,104936,104968,104976,104990,104992,105020,105024,105080,105200,105240,105278,105312,105372,105410,105412,105416,105424,105446,105518,105524,105550,105564,105570,105572,105576,105614,105628,105656,105666,105672,105680,105702,105722,105742,105756,105784,105840,105854,105858,105860,105864,105872,105888,105932,105970,105972,106006,106022,106028,106054,106060,106072,106100,106118,106124,106136,106160,106174,106190,106210,106212,106216,106250,106258,106260,106274,106276,106280,106306,106308,106312,106320,106334,106348,106394,106414,106418,106420,106566,106572,106610,106612,106630,106636,106648,106672,106686,106722,106724,106728,106742,106758,106764,106776,106800,106814,106848,106876,106894,106908,106936,106946,106948,106952,106960,106974,106982,106988,107032,107056,107070,107104,107132,107200,107256,107292,107320,107376,107390,107394,107396,107400,107408,107422,107424,107452,107462,107468,107480,107502,107506,107508,107544,107568,107582,107616,107644,107712,107768,108016,108060,108088,108144,108158,108256,108284,108290,108292,108296,108304,108318,108320,108348,108352,108408,108422,108428,108440,108464,108478,108494,108508,108514,108516,108520,108592,108640,108668,108736,108792,109040,109536,109680,109694,109792,109820,110016,110072,110084,110088,110096,110112,110140,110144,110200,110320,110342,110348,110360,110384,110398,110432,110460,110478,110492,110520,110532,110536,110544,110558,110658,110686,110714,110722,110724,110728,110736,110750,110752,110780,110796,110834,110836,110850,110852,110856,110864,110878,110880,110908,110912,110968,110982,111e3,111054,111074,111076,111080,111108,111112,111120,111134,111136,111164,111168,111224,111344,111372,111422,111456,111516,111554,111556,111560,111568,111590,111632,111646,111648,111676,111680,111736,111856,112096,112152,112224,112252,112320,112440,112514,112516,112520,112528,112542,112544,112588,112686,112718,112732,112782,112796,112824,112834,112836,112840,112848,112870,112890,112910,112924,112952,113008,113022,113026,113028,113032,113040,113054,113056,113100,113138,113140,113166,113180,113208,113264,113278,113376,113404,113416,113424,113440,113468,113472,113560,113614,113634,113636,113640,113686,113702,113708,113734,113740,113752,113778,113780,113798,113804,113816,113840,113854,113870,113890,113892,113896,113926,113932,113944,113968,113982,114016,114044,114076,114114,114116,114120,114128,114150,114170,114194,114196,114210,114212,114216,114242,114244,114248,114256,114270,114278,114306,114308,114312,114320,114334,114336,114364,114380,114420,114458,114478,114482,114484,114510,114524,114530,114532,114536,114842,114866,114868,114970,114994,114996,115042,115044,115048,115062,115130,115226,115250,115252,115278,115292,115298,115300,115304,115318,115342,115394,115396,115400,115408,115422,115430,115436,115450,115478,115494,115514,115526,115532,115570,115572,115738,115758,115762,115764,115790,115804,115810,115812,115816,115830,115854,115868,115896,115906,115912,115920,115934,115942,115948,115962,115996,116024,116080,116094,116098,116100,116104,116112,116126,116128,116156,116166,116172,116184,116206,116210,116212,116246,116262,116268,116282,116294,116300,116312,116334,116338,116340,116358,116364,116376,116400,116414,116430,116444,116450,116452,116456,116498,116500,116514,116520,116534,116546,116548,116552,116560,116574,116582,116588,116602,116654,116694,116714,116762,116782,116786,116788,116814,116828,116834,116836,116840,116854,116878,116892,116920,116930,116936,116944,116958,116966,116972,116986,117006,117048,117104,117118,117122,117124,117136,117150,117152,117180,117190,117196,117208,117230,117234,117236,117304,117360,117374,117472,117500,117506,117508,117512,117520,117536,117564,117568,117624,117638,117644,117656,117680,117694,117710,117724,117730,117732,117736,117750,117782,117798,117804,117818,117830,117848,117874,117876,117894,117936,117950,117966,117986,117988,117992,118022,118028,118040,118064,118078,118112,118140,118172,118210,118212,118216,118224,118238,118246,118266,118306,118312,118338,118352,118366,118374,118394,118402,118404,118408,118416,118430,118432,118460,118476,118514,118516,118574,118578,118580,118606,118620,118626,118628,118632,118678,118694,118700,118730,118738,118740,118830,118834,118836,118862,118876,118882,118884,118888,118902,118926,118940,118968,118978,118980,118984,118992,119006,119014,119020,119034,119068,119096,119152,119166,119170,119172,119176,119184,119198,119200,119228,119238,119244,119256,119278,119282,119284,119324,119352,119408,119422,119520,119548,119554,119556,119560,119568,119582,119584,119612,119616,119672,119686,119692,119704,119728,119742,119758,119772,119778,119780,119784,119798,119920,119934,120032,120060,120256,120312,120324,120328,120336,120352,120384,120440,120560,120582,120588,120600,120624,120638,120672,120700,120718,120732,120760,120770,120772,120776,120784,120798,120806,120812,120870,120876,120890,120902,120908,120920,120946,120948,120966,120972,120984,121008,121022,121038,121058,121060,121064,121078,121100,121112,121136,121150,121184,121212,121244,121282,121284,121288,121296,121318,121338,121356,121368,121392,121406,121440,121468,121536,121592,121656,121730,121732,121736,121744,121758,121760,121804,121842,121844,121890,121922,121924,121928,121936,121950,121958,121978,121986,121988,121992,122e3,122014,122016,122044,122060,122098,122100,122116,122120,122128,122142,122144,122172,122176,122232,122246,122264,122318,122338,122340,122344,122414,122418,122420,122446,122460,122466,122468,122472,122510,122524,122552,122562,122564,122568,122576,122598,122618,122646,122662,122668,122694,122700,122712,122738,122740,122762,122770,122772,122786,122788,122792,123018,123026,123028,123042,123044,123048,123062,123098,123146,123154,123156,123170,123172,123176,123190,123202,123204,123208,123216,123238,123244,123258,123290,123314,123316,123402,123410,123412,123426,123428,123432,123446,123458,123464,123472,123486,123494,123500,123514,123522,123524,123528,123536,123552,123580,123590,123596,123608,123630,123634,123636,123674,123698,123700,123740,123746,123748,123752,123834,123914,123922,123924,123938,123944,123958,123970,123976,123984,123998,124006,124012,124026,124034,124036,124048,124062,124064,124092,124102,124108,124120,124142,124146,124148,124162,124164,124168,124176,124190,124192,124220,124224,124280,124294,124300,124312,124336,124350,124366,124380,124386,124388,124392,124406,124442,124462,124466,124468,124494,124508,124514,124520,124558,124572,124600,124610,124612,124616,124624,124646,124666,124694,124710,124716,124730,124742,124748,124760,124786,124788,124818,124820,124834,124836,124840,124854,124946,124948,124962,124964,124968,124982,124994,124996,125e3,125008,125022,125030,125036,125050,125058,125060,125064,125072,125086,125088,125116,125126,125132,125144,125166,125170,125172,125186,125188,125192,125200,125216,125244,125248,125304,125318,125324,125336,125360,125374,125390,125404,125410,125412,125416,125430,125444,125448,125456,125472,125504,125560,125680,125702,125708,125720,125744,125758,125792,125820,125838,125852,125880,125890,125892,125896,125904,125918,125926,125932,125978,125998,126002,126004,126030,126044,126050,126052,126056,126094,126108,126136,126146,126148,126152,126160,126182,126202,126222,126236,126264,126320,126334,126338,126340,126344,126352,126366,126368,126412,126450,126452,126486,126502,126508,126522,126534,126540,126552,126574,126578,126580,126598,126604,126616,126640,126654,126670,126684,126690,126692,126696,126738,126754,126756,126760,126774,126786,126788,126792,126800,126814,126822,126828,126842,126894,126898,126900,126934,127126,127142,127148,127162,127178,127186,127188,127254,127270,127276,127290,127302,127308,127320,127342,127346,127348,127370,127378,127380,127394,127396,127400,127450,127510,127526,127532,127546,127558,127576,127598,127602,127604,127622,127628,127640,127664,127678,127694,127708,127714,127716,127720,127734,127754,127762,127764,127778,127784,127810,127812,127816,127824,127838,127846,127866,127898,127918,127922,127924,128022,128038,128044,128058,128070,128076,128088,128110,128114,128116,128134,128140,128152,128176,128190,128206,128220,128226,128228,128232,128246,128262,128268,128280,128304,128318,128352,128380,128398,128412,128440,128450,128452,128456,128464,128478,128486,128492,128506,128522,128530,128532,128546,128548,128552,128566,128578,128580,128584,128592,128606,128614,128634,128642,128644,128648,128656,128670,128672,128700,128716,128754,128756,128794,128814,128818,128820,128846,128860,128866,128868,128872,128886,128918,128934,128940,128954,128978,128980,129178,129198,129202,129204,129238,129258,129306,129326,129330,129332,129358,129372,129378,129380,129384,129398,129430,129446,129452,129466,129482,129490,129492,129562,129582,129586,129588,129614,129628,129634,129636,129640,129654,129678,129692,129720,129730,129732,129736,129744,129758,129766,129772,129814,129830,129836,129850,129862,129868,129880,129902,129906,129908,129930,129938,129940,129954,129956,129960,129974,130010]),Ge.CODEWORD_TABLE=Int32Array.from([2627,1819,2622,2621,1813,1812,2729,2724,2723,2779,2774,2773,902,896,908,868,865,861,859,2511,873,871,1780,835,2493,825,2491,842,837,844,1764,1762,811,810,809,2483,807,2482,806,2480,815,814,813,812,2484,817,816,1745,1744,1742,1746,2655,2637,2635,2626,2625,2623,2628,1820,2752,2739,2737,2728,2727,2725,2730,2785,2783,2778,2777,2775,2780,787,781,747,739,736,2413,754,752,1719,692,689,681,2371,678,2369,700,697,694,703,1688,1686,642,638,2343,631,2341,627,2338,651,646,643,2345,654,652,1652,1650,1647,1654,601,599,2322,596,2321,594,2319,2317,611,610,608,606,2324,603,2323,615,614,612,1617,1616,1614,1612,616,1619,1618,2575,2538,2536,905,901,898,909,2509,2507,2504,870,867,864,860,2512,875,872,1781,2490,2489,2487,2485,1748,836,834,832,830,2494,827,2492,843,841,839,845,1765,1763,2701,2676,2674,2653,2648,2656,2634,2633,2631,2629,1821,2638,2636,2770,2763,2761,2750,2745,2753,2736,2735,2733,2731,1848,2740,2738,2786,2784,591,588,576,569,566,2296,1590,537,534,526,2276,522,2274,545,542,539,548,1572,1570,481,2245,466,2242,462,2239,492,485,482,2249,496,494,1534,1531,1528,1538,413,2196,406,2191,2188,425,419,2202,415,2199,432,430,427,1472,1467,1464,433,1476,1474,368,367,2160,365,2159,362,2157,2155,2152,378,377,375,2166,372,2165,369,2162,383,381,379,2168,1419,1418,1416,1414,385,1411,384,1423,1422,1420,1424,2461,802,2441,2439,790,786,783,794,2409,2406,2403,750,742,738,2414,756,753,1720,2367,2365,2362,2359,1663,693,691,684,2373,680,2370,702,699,696,704,1690,1687,2337,2336,2334,2332,1624,2329,1622,640,637,2344,634,2342,630,2340,650,648,645,2346,655,653,1653,1651,1649,1655,2612,2597,2595,2571,2568,2565,2576,2534,2529,2526,1787,2540,2537,907,904,900,910,2503,2502,2500,2498,1768,2495,1767,2510,2508,2506,869,866,863,2513,876,874,1782,2720,2713,2711,2697,2694,2691,2702,2672,2670,2664,1828,2678,2675,2647,2646,2644,2642,1823,2639,1822,2654,2652,2650,2657,2771,1855,2765,2762,1850,1849,2751,2749,2747,2754,353,2148,344,342,336,2142,332,2140,345,1375,1373,306,2130,299,2128,295,2125,319,314,311,2132,1354,1352,1349,1356,262,257,2101,253,2096,2093,274,273,267,2107,263,2104,280,278,275,1316,1311,1308,1320,1318,2052,202,2050,2044,2040,219,2063,212,2060,208,2055,224,221,2066,1260,1258,1252,231,1248,229,1266,1264,1261,1268,155,1998,153,1996,1994,1991,1988,165,164,2007,162,2006,159,2003,2e3,172,171,169,2012,166,2010,1186,1184,1182,1179,175,1176,173,1192,1191,1189,1187,176,1194,1193,2313,2307,2305,592,589,2294,2292,2289,578,572,568,2297,580,1591,2272,2267,2264,1547,538,536,529,2278,525,2275,547,544,541,1574,1571,2237,2235,2229,1493,2225,1489,478,2247,470,2244,465,2241,493,488,484,2250,498,495,1536,1533,1530,1539,2187,2186,2184,2182,1432,2179,1430,2176,1427,414,412,2197,409,2195,405,2193,2190,426,424,421,2203,418,2201,431,429,1473,1471,1469,1466,434,1477,1475,2478,2472,2470,2459,2457,2454,2462,803,2437,2432,2429,1726,2443,2440,792,789,785,2401,2399,2393,1702,2389,1699,2411,2408,2405,745,741,2415,758,755,1721,2358,2357,2355,2353,1661,2350,1660,2347,1657,2368,2366,2364,2361,1666,690,687,2374,683,2372,701,698,705,1691,1689,2619,2617,2610,2608,2605,2613,2593,2588,2585,1803,2599,2596,2563,2561,2555,1797,2551,1795,2573,2570,2567,2577,2525,2524,2522,2520,1786,2517,1785,2514,1783,2535,2533,2531,2528,1788,2541,2539,906,903,911,2721,1844,2715,2712,1838,1836,2699,2696,2693,2703,1827,1826,1824,2673,2671,2669,2666,1829,2679,2677,1858,1857,2772,1854,1853,1851,1856,2766,2764,143,1987,139,1986,135,133,131,1984,128,1983,125,1981,138,137,136,1985,1133,1132,1130,112,110,1974,107,1973,104,1971,1969,122,121,119,117,1977,114,1976,124,1115,1114,1112,1110,1117,1116,84,83,1953,81,1952,78,1950,1948,1945,94,93,91,1959,88,1958,85,1955,99,97,95,1961,1086,1085,1083,1081,1078,100,1090,1089,1087,1091,49,47,1917,44,1915,1913,1910,1907,59,1926,56,1925,53,1922,1919,66,64,1931,61,1929,1042,1040,1038,71,1035,70,1032,68,1048,1047,1045,1043,1050,1049,12,10,1869,1867,1864,1861,21,1880,19,1877,1874,1871,28,1888,25,1886,22,1883,982,980,977,974,32,30,991,989,987,984,34,995,994,992,2151,2150,2147,2146,2144,356,355,354,2149,2139,2138,2136,2134,1359,343,341,338,2143,335,2141,348,347,346,1376,1374,2124,2123,2121,2119,1326,2116,1324,310,308,305,2131,302,2129,298,2127,320,318,316,313,2133,322,321,1355,1353,1351,1357,2092,2091,2089,2087,1276,2084,1274,2081,1271,259,2102,256,2100,252,2098,2095,272,269,2108,266,2106,281,279,277,1317,1315,1313,1310,282,1321,1319,2039,2037,2035,2032,1203,2029,1200,1197,207,2053,205,2051,201,2049,2046,2043,220,218,2064,215,2062,211,2059,228,226,223,2069,1259,1257,1254,232,1251,230,1267,1265,1263,2316,2315,2312,2311,2309,2314,2304,2303,2301,2299,1593,2308,2306,590,2288,2287,2285,2283,1578,2280,1577,2295,2293,2291,579,577,574,571,2298,582,581,1592,2263,2262,2260,2258,1545,2255,1544,2252,1541,2273,2271,2269,2266,1550,535,532,2279,528,2277,546,543,549,1575,1573,2224,2222,2220,1486,2217,1485,2214,1482,1479,2238,2236,2234,2231,1496,2228,1492,480,477,2248,473,2246,469,2243,490,487,2251,497,1537,1535,1532,2477,2476,2474,2479,2469,2468,2466,2464,1730,2473,2471,2453,2452,2450,2448,1729,2445,1728,2460,2458,2456,2463,805,804,2428,2427,2425,2423,1725,2420,1724,2417,1722,2438,2436,2434,2431,1727,2444,2442,793,791,788,795,2388,2386,2384,1697,2381,1696,2378,1694,1692,2402,2400,2398,2395,1703,2392,1701,2412,2410,2407,751,748,744,2416,759,757,1807,2620,2618,1806,1805,2611,2609,2607,2614,1802,1801,1799,2594,2592,2590,2587,1804,2600,2598,1794,1793,1791,1789,2564,2562,2560,2557,1798,2554,1796,2574,2572,2569,2578,1847,1846,2722,1843,1842,1840,1845,2716,2714,1835,1834,1832,1830,1839,1837,2700,2698,2695,2704,1817,1811,1810,897,862,1777,829,826,838,1760,1758,808,2481,1741,1740,1738,1743,2624,1818,2726,2776,782,740,737,1715,686,679,695,1682,1680,639,628,2339,647,644,1645,1643,1640,1648,602,600,597,595,2320,593,2318,609,607,604,1611,1610,1608,1606,613,1615,1613,2328,926,924,892,886,899,857,850,2505,1778,824,823,821,819,2488,818,2486,833,831,828,840,1761,1759,2649,2632,2630,2746,2734,2732,2782,2781,570,567,1587,531,527,523,540,1566,1564,476,467,463,2240,486,483,1524,1521,1518,1529,411,403,2192,399,2189,423,416,1462,1457,1454,428,1468,1465,2210,366,363,2158,360,2156,357,2153,376,373,370,2163,1410,1409,1407,1405,382,1402,380,1417,1415,1412,1421,2175,2174,777,774,771,784,732,725,722,2404,743,1716,676,674,668,2363,665,2360,685,1684,1681,626,624,622,2335,620,2333,617,2330,641,635,649,1646,1644,1642,2566,928,925,2530,2527,894,891,888,2501,2499,2496,858,856,854,851,1779,2692,2668,2665,2645,2643,2640,2651,2768,2759,2757,2744,2743,2741,2748,352,1382,340,337,333,1371,1369,307,300,296,2126,315,312,1347,1342,1350,261,258,250,2097,246,2094,271,268,264,1306,1301,1298,276,1312,1309,2115,203,2048,195,2045,191,2041,213,209,2056,1246,1244,1238,225,1234,222,1256,1253,1249,1262,2080,2079,154,1997,150,1995,147,1992,1989,163,160,2004,156,2001,1175,1174,1172,1170,1167,170,1164,167,1185,1183,1180,1177,174,1190,1188,2025,2024,2022,587,586,564,559,556,2290,573,1588,520,518,512,2268,508,2265,530,1568,1565,461,457,2233,450,2230,446,2226,479,471,489,1526,1523,1520,397,395,2185,392,2183,389,2180,2177,410,2194,402,422,1463,1461,1459,1456,1470,2455,799,2433,2430,779,776,773,2397,2394,2390,734,728,724,746,1717,2356,2354,2351,2348,1658,677,675,673,670,667,688,1685,1683,2606,2589,2586,2559,2556,2552,927,2523,2521,2518,2515,1784,2532,895,893,890,2718,2709,2707,2689,2687,2684,2663,2662,2660,2658,1825,2667,2769,1852,2760,2758,142,141,1139,1138,134,132,129,126,1982,1129,1128,1126,1131,113,111,108,105,1972,101,1970,120,118,115,1109,1108,1106,1104,123,1113,1111,82,79,1951,75,1949,72,1946,92,89,86,1956,1077,1076,1074,1072,98,1069,96,1084,1082,1079,1088,1968,1967,48,45,1916,42,1914,39,1911,1908,60,57,54,1923,50,1920,1031,1030,1028,1026,67,1023,65,1020,62,1041,1039,1036,1033,69,1046,1044,1944,1943,1941,11,9,1868,7,1865,1862,1859,20,1878,16,1875,13,1872,970,968,966,963,29,960,26,23,983,981,978,975,33,971,31,990,988,985,1906,1904,1902,993,351,2145,1383,331,330,328,326,2137,323,2135,339,1372,1370,294,293,291,289,2122,286,2120,283,2117,309,303,317,1348,1346,1344,245,244,242,2090,239,2088,236,2085,2082,260,2099,249,270,1307,1305,1303,1300,1314,189,2038,186,2036,183,2033,2030,2026,206,198,2047,194,216,1247,1245,1243,1240,227,1237,1255,2310,2302,2300,2286,2284,2281,565,563,561,558,575,1589,2261,2259,2256,2253,1542,521,519,517,514,2270,511,533,1569,1567,2223,2221,2218,2215,1483,2211,1480,459,456,453,2232,449,474,491,1527,1525,1522,2475,2467,2465,2451,2449,2446,801,800,2426,2424,2421,2418,1723,2435,780,778,775,2387,2385,2382,2379,1695,2375,1693,2396,735,733,730,727,749,1718,2616,2615,2604,2603,2601,2584,2583,2581,2579,1800,2591,2550,2549,2547,2545,1792,2542,1790,2558,929,2719,1841,2710,2708,1833,1831,2690,2688,2686,1815,1809,1808,1774,1756,1754,1737,1736,1734,1739,1816,1711,1676,1674,633,629,1638,1636,1633,1641,598,1605,1604,1602,1600,605,1609,1607,2327,887,853,1775,822,820,1757,1755,1584,524,1560,1558,468,464,1514,1511,1508,1519,408,404,400,1452,1447,1444,417,1458,1455,2208,364,361,358,2154,1401,1400,1398,1396,374,1393,371,1408,1406,1403,1413,2173,2172,772,726,723,1712,672,669,666,682,1678,1675,625,623,621,618,2331,636,632,1639,1637,1635,920,918,884,880,889,849,848,847,846,2497,855,852,1776,2641,2742,2787,1380,334,1367,1365,301,297,1340,1338,1335,1343,255,251,247,1296,1291,1288,265,1302,1299,2113,204,196,192,2042,1232,1230,1224,214,1220,210,1242,1239,1235,1250,2077,2075,151,148,1993,144,1990,1163,1162,1160,1158,1155,161,1152,157,1173,1171,1168,1165,168,1181,1178,2021,2020,2018,2023,585,560,557,1585,516,509,1562,1559,458,447,2227,472,1516,1513,1510,398,396,393,390,2181,386,2178,407,1453,1451,1449,1446,420,1460,2209,769,764,720,712,2391,729,1713,664,663,661,659,2352,656,2349,671,1679,1677,2553,922,919,2519,2516,885,883,881,2685,2661,2659,2767,2756,2755,140,1137,1136,130,127,1125,1124,1122,1127,109,106,102,1103,1102,1100,1098,116,1107,1105,1980,80,76,73,1947,1068,1067,1065,1063,90,1060,87,1075,1073,1070,1080,1966,1965,46,43,40,1912,36,1909,1019,1018,1016,1014,58,1011,55,1008,51,1029,1027,1024,1021,63,1037,1034,1940,1939,1937,1942,8,1866,4,1863,1,1860,956,954,952,949,946,17,14,969,967,964,961,27,957,24,979,976,972,1901,1900,1898,1896,986,1905,1903,350,349,1381,329,327,324,1368,1366,292,290,287,284,2118,304,1341,1339,1337,1345,243,240,237,2086,233,2083,254,1297,1295,1293,1290,1304,2114,190,187,184,2034,180,2031,177,2027,199,1233,1231,1229,1226,217,1223,1241,2078,2076,584,555,554,552,550,2282,562,1586,507,506,504,502,2257,499,2254,515,1563,1561,445,443,441,2219,438,2216,435,2212,460,454,475,1517,1515,1512,2447,798,797,2422,2419,770,768,766,2383,2380,2376,721,719,717,714,731,1714,2602,2582,2580,2548,2546,2543,923,921,2717,2706,2705,2683,2682,2680,1771,1752,1750,1733,1732,1731,1735,1814,1707,1670,1668,1631,1629,1626,1634,1599,1598,1596,1594,1603,1601,2326,1772,1753,1751,1581,1554,1552,1504,1501,1498,1509,1442,1437,1434,401,1448,1445,2206,1392,1391,1389,1387,1384,359,1399,1397,1394,1404,2171,2170,1708,1672,1669,619,1632,1630,1628,1773,1378,1363,1361,1333,1328,1336,1286,1281,1278,248,1292,1289,2111,1218,1216,1210,197,1206,193,1228,1225,1221,1236,2073,2071,1151,1150,1148,1146,152,1143,149,1140,145,1161,1159,1156,1153,158,1169,1166,2017,2016,2014,2019,1582,510,1556,1553,452,448,1506,1500,394,391,387,1443,1441,1439,1436,1450,2207,765,716,713,1709,662,660,657,1673,1671,916,914,879,878,877,882,1135,1134,1121,1120,1118,1123,1097,1096,1094,1092,103,1101,1099,1979,1059,1058,1056,1054,77,1051,74,1066,1064,1061,1071,1964,1963,1007,1006,1004,1002,999,41,996,37,1017,1015,1012,1009,52,1025,1022,1936,1935,1933,1938,942,940,938,935,932,5,2,955,953,950,947,18,943,15,965,962,958,1895,1894,1892,1890,973,1899,1897,1379,325,1364,1362,288,285,1334,1332,1330,241,238,234,1287,1285,1283,1280,1294,2112,188,185,181,178,2028,1219,1217,1215,1212,200,1209,1227,2074,2072,583,553,551,1583,505,503,500,513,1557,1555,444,442,439,436,2213,455,451,1507,1505,1502,796,763,762,760,767,711,710,708,706,2377,718,715,1710,2544,917,915,2681,1627,1597,1595,2325,1769,1749,1747,1499,1438,1435,2204,1390,1388,1385,1395,2169,2167,1704,1665,1662,1625,1623,1620,1770,1329,1282,1279,2109,1214,1207,1222,2068,2065,1149,1147,1144,1141,146,1157,1154,2013,2011,2008,2015,1579,1549,1546,1495,1487,1433,1431,1428,1425,388,1440,2205,1705,658,1667,1664,1119,1095,1093,1978,1057,1055,1052,1062,1962,1960,1005,1003,1e3,997,38,1013,1010,1932,1930,1927,1934,941,939,936,933,6,930,3,951,948,944,1889,1887,1884,1881,959,1893,1891,35,1377,1360,1358,1327,1325,1322,1331,1277,1275,1272,1269,235,1284,2110,1205,1204,1201,1198,182,1195,179,1213,2070,2067,1580,501,1551,1548,440,437,1497,1494,1490,1503,761,709,707,1706,913,912,2198,1386,2164,2161,1621,1766,2103,1208,2058,2054,1145,1142,2005,2002,1999,2009,1488,1429,1426,2200,1698,1659,1656,1975,1053,1957,1954,1001,998,1924,1921,1918,1928,937,934,931,1879,1876,1873,1870,945,1885,1882,1323,1273,1270,2105,1202,1199,1196,1211,2061,2057,1576,1543,1540,1484,1481,1478,1491,1700]);class Cs{constructor(t,r){this.bits=t,this.points=r}getBits(){return this.bits}getPoints(){return this.points}}class Ke{static detectMultiple(t,r,a){let l=t.getBlackMatrix(),s=Ke.detect(a,l);return s.length||(l=l.clone(),l.rotate180(),s=Ke.detect(a,l)),new Cs(l,s)}static detect(t,r){const a=new Array;let l=0,s=0,u=!1;for(;l<r.getHeight();){const c=Ke.findVertices(r,l,s);if(c[0]==null&&c[3]==null){if(!u)break;u=!1,s=0;for(const h of a)h[1]!=null&&(l=Math.trunc(Math.max(l,h[1].getY()))),h[3]!=null&&(l=Math.max(l,Math.trunc(h[3].getY())));l+=Ke.ROW_STEP;continue}if(u=!0,a.push(c),!t)break;c[2]!=null?(s=Math.trunc(c[2].getX()),l=Math.trunc(c[2].getY())):(s=Math.trunc(c[4].getX()),l=Math.trunc(c[4].getY()))}return a}static findVertices(t,r,a){const l=t.getHeight(),s=t.getWidth(),u=new Array(8);return Ke.copyToResult(u,Ke.findRowsWithPattern(t,l,s,r,a,Ke.START_PATTERN),Ke.INDEXES_START_PATTERN),u[4]!=null&&(a=Math.trunc(u[4].getX()),r=Math.trunc(u[4].getY())),Ke.copyToResult(u,Ke.findRowsWithPattern(t,l,s,r,a,Ke.STOP_PATTERN),Ke.INDEXES_STOP_PATTERN),u}static copyToResult(t,r,a){for(let l=0;l<a.length;l++)t[a[l]]=r[l]}static findRowsWithPattern(t,r,a,l,s,u){const c=new Array(4);let h=!1;const x=new Int32Array(u.length);for(;l<r;l+=Ke.ROW_STEP){let v=Ke.findGuardPattern(t,s,l,a,!1,u,x);if(v!=null){for(;l>0;){const T=Ke.findGuardPattern(t,s,--l,a,!1,u,x);if(T!=null)v=T;else{l++;break}}c[0]=new Be(v[0],l),c[1]=new Be(v[1],l),h=!0;break}}let w=l+1;if(h){let v=0,T=Int32Array.from([Math.trunc(c[0].getX()),Math.trunc(c[1].getX())]);for(;w<r;w++){const B=Ke.findGuardPattern(t,T[0],w,a,!1,u,x);if(B!=null&&Math.abs(T[0]-B[0])<Ke.MAX_PATTERN_DRIFT&&Math.abs(T[1]-B[1])<Ke.MAX_PATTERN_DRIFT)T=B,v=0;else{if(v>Ke.SKIPPED_ROW_COUNT_MAX)break;v++}}w-=v+1,c[2]=new Be(T[0],w),c[3]=new Be(T[1],w)}return w-l<Ke.BARCODE_MIN_HEIGHT&&G.fill(c,null),c}static findGuardPattern(t,r,a,l,s,u,c){G.fillWithin(c,0,c.length,0);let h=r,x=0;for(;t.get(h,a)&&h>0&&x++<Ke.MAX_PIXEL_DRIFT;)h--;let w=h,v=0,T=u.length;for(let B=s;w<l;w++)if(t.get(w,a)!==B)c[v]++;else{if(v===T-1){if(Ke.patternMatchVariance(c,u,Ke.MAX_INDIVIDUAL_VARIANCE)<Ke.MAX_AVG_VARIANCE)return new Int32Array([h,w]);h+=c[0]+c[1],te.arraycopy(c,2,c,0,v-1),c[v-1]=0,c[v]=0,v--}else v++;c[v]=1,B=!B}return v===T-1&&Ke.patternMatchVariance(c,u,Ke.MAX_INDIVIDUAL_VARIANCE)<Ke.MAX_AVG_VARIANCE?new Int32Array([h,w-1]):null}static patternMatchVariance(t,r,a){let l=t.length,s=0,u=0;for(let x=0;x<l;x++)s+=t[x],u+=r[x];if(s<u)return 1/0;let c=s/u;a*=c;let h=0;for(let x=0;x<l;x++){let w=t[x],v=r[x]*c,T=w>v?w-v:v-w;if(T>a)return 1/0;h+=T}return h/s}}Ke.INDEXES_START_PATTERN=Int32Array.from([0,4,1,5]),Ke.INDEXES_STOP_PATTERN=Int32Array.from([6,2,7,3]),Ke.MAX_AVG_VARIANCE=.42,Ke.MAX_INDIVIDUAL_VARIANCE=.8,Ke.START_PATTERN=Int32Array.from([8,1,1,1,1,1,1,3]),Ke.STOP_PATTERN=Int32Array.from([7,1,1,3,1,1,1,2,1]),Ke.MAX_PIXEL_DRIFT=3,Ke.MAX_PATTERN_DRIFT=5,Ke.SKIPPED_ROW_COUNT_MAX=25,Ke.ROW_STEP=5,Ke.BARCODE_MIN_HEIGHT=10;class zt{constructor(t,r){if(r.length===0)throw new I;this.field=t;let a=r.length;if(a>1&&r[0]===0){let l=1;for(;l<a&&r[l]===0;)l++;l===a?this.coefficients=new Int32Array([0]):(this.coefficients=new Int32Array(a-l),te.arraycopy(r,l,this.coefficients,0,this.coefficients.length))}else this.coefficients=r}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(t){return this.coefficients[this.coefficients.length-1-t]}evaluateAt(t){if(t===0)return this.getCoefficient(0);if(t===1){let l=0;for(let s of this.coefficients)l=this.field.add(l,s);return l}let r=this.coefficients[0],a=this.coefficients.length;for(let l=1;l<a;l++)r=this.field.add(this.field.multiply(t,r),this.coefficients[l]);return r}add(t){if(!this.field.equals(t.field))throw new I("ModulusPolys do not have same ModulusGF field");if(this.isZero())return t;if(t.isZero())return this;let r=this.coefficients,a=t.coefficients;if(r.length>a.length){let u=r;r=a,a=u}let l=new Int32Array(a.length),s=a.length-r.length;te.arraycopy(a,0,l,0,s);for(let u=s;u<a.length;u++)l[u]=this.field.add(r[u-s],a[u]);return new zt(this.field,l)}subtract(t){if(!this.field.equals(t.field))throw new I("ModulusPolys do not have same ModulusGF field");return t.isZero()?this:this.add(t.negative())}multiply(t){return t instanceof zt?this.multiplyOther(t):this.multiplyScalar(t)}multiplyOther(t){if(!this.field.equals(t.field))throw new I("ModulusPolys do not have same ModulusGF field");if(this.isZero()||t.isZero())return new zt(this.field,new Int32Array([0]));let r=this.coefficients,a=r.length,l=t.coefficients,s=l.length,u=new Int32Array(a+s-1);for(let c=0;c<a;c++){let h=r[c];for(let x=0;x<s;x++)u[c+x]=this.field.add(u[c+x],this.field.multiply(h,l[x]))}return new zt(this.field,u)}negative(){let t=this.coefficients.length,r=new Int32Array(t);for(let a=0;a<t;a++)r[a]=this.field.subtract(0,this.coefficients[a]);return new zt(this.field,r)}multiplyScalar(t){if(t===0)return new zt(this.field,new Int32Array([0]));if(t===1)return this;let r=this.coefficients.length,a=new Int32Array(r);for(let l=0;l<r;l++)a[l]=this.field.multiply(this.coefficients[l],t);return new zt(this.field,a)}multiplyByMonomial(t,r){if(t<0)throw new I;if(r===0)return new zt(this.field,new Int32Array([0]));let a=this.coefficients.length,l=new Int32Array(a+t);for(let s=0;s<a;s++)l[s]=this.field.multiply(this.coefficients[s],r);return new zt(this.field,l)}toString(){let t=new Re;for(let r=this.getDegree();r>=0;r--){let a=this.getCoefficient(r);a!==0&&(a<0?(t.append(" - "),a=-a):t.length()>0&&t.append(" + "),(r===0||a!==1)&&t.append(a),r!==0&&(r===1?t.append("x"):(t.append("x^"),t.append(r))))}return t.toString()}}class Cl{add(t,r){return(t+r)%this.modulus}subtract(t,r){return(this.modulus+t-r)%this.modulus}exp(t){return this.expTable[t]}log(t){if(t===0)throw new I;return this.logTable[t]}inverse(t){if(t===0)throw new We;return this.expTable[this.modulus-this.logTable[t]-1]}multiply(t,r){return t===0||r===0?0:this.expTable[(this.logTable[t]+this.logTable[r])%(this.modulus-1)]}getSize(){return this.modulus}equals(t){return t===this}}class qr extends Cl{constructor(t,r){super(),this.modulus=t,this.expTable=new Int32Array(t),this.logTable=new Int32Array(t);let a=1;for(let l=0;l<t;l++)this.expTable[l]=a,a=a*r%t;for(let l=0;l<t-1;l++)this.logTable[this.expTable[l]]=l;this.zero=new zt(this,new Int32Array([0])),this.one=new zt(this,new Int32Array([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(t,r){if(t<0)throw new I;if(r===0)return this.zero;let a=new Int32Array(t+1);return a[0]=r,new zt(this,a)}}qr.PDF417_GF=new qr(Ge.NUMBER_OF_CODEWORDS,3);class Or{constructor(){this.field=qr.PDF417_GF}decode(t,r,a){let l=new zt(this.field,t),s=new Int32Array(r),u=!1;for(let j=r;j>0;j--){let H=l.evaluateAt(this.field.exp(j));s[r-j]=H,H!==0&&(u=!0)}if(!u)return 0;let c=this.field.getOne();if(a!=null)for(const j of a){let H=this.field.exp(t.length-1-j),K=new zt(this.field,new Int32Array([this.field.subtract(0,H),1]));c=c.multiply(K)}let h=new zt(this.field,s),x=this.runEuclideanAlgorithm(this.field.buildMonomial(r,1),h,r),w=x[0],v=x[1],T=this.findErrorLocations(w),B=this.findErrorMagnitudes(v,w,T);for(let j=0;j<T.length;j++){let H=t.length-1-this.field.log(T[j]);if(H<0)throw ne.getChecksumInstance();t[H]=this.field.subtract(t[H],B[j])}return T.length}runEuclideanAlgorithm(t,r,a){if(t.getDegree()<r.getDegree()){let T=t;t=r,r=T}let l=t,s=r,u=this.field.getZero(),c=this.field.getOne();for(;s.getDegree()>=Math.round(a/2);){let T=l,B=u;if(l=s,u=c,l.isZero())throw ne.getChecksumInstance();s=T;let j=this.field.getZero(),H=l.getCoefficient(l.getDegree()),K=this.field.inverse(H);for(;s.getDegree()>=l.getDegree()&&!s.isZero();){let fe=s.getDegree()-l.getDegree(),Te=this.field.multiply(s.getCoefficient(s.getDegree()),K);j=j.add(this.field.buildMonomial(fe,Te)),s=s.subtract(l.multiplyByMonomial(fe,Te))}c=j.multiply(u).subtract(B).negative()}let h=c.getCoefficient(0);if(h===0)throw ne.getChecksumInstance();let x=this.field.inverse(h),w=c.multiply(x),v=s.multiply(x);return[w,v]}findErrorLocations(t){let r=t.getDegree(),a=new Int32Array(r),l=0;for(let s=1;s<this.field.getSize()&&l<r;s++)t.evaluateAt(s)===0&&(a[l]=this.field.inverse(s),l++);if(l!==r)throw ne.getChecksumInstance();return a}findErrorMagnitudes(t,r,a){let l=r.getDegree(),s=new Int32Array(l);for(let x=1;x<=l;x++)s[l-x]=this.field.multiply(x,r.getCoefficient(x));let u=new zt(this.field,s),c=a.length,h=new Int32Array(c);for(let x=0;x<c;x++){let w=this.field.inverse(a[x]),v=this.field.subtract(0,t.evaluateAt(w)),T=this.field.inverse(u.evaluateAt(w));h[x]=this.field.multiply(v,T)}return h}}class _r{constructor(t,r,a,l,s){t instanceof _r?this.constructor_2(t):this.constructor_1(t,r,a,l,s)}constructor_1(t,r,a,l,s){const u=r==null||a==null,c=l==null||s==null;if(u&&c)throw new W;u?(r=new Be(0,l.getY()),a=new Be(0,s.getY())):c&&(l=new Be(t.getWidth()-1,r.getY()),s=new Be(t.getWidth()-1,a.getY())),this.image=t,this.topLeft=r,this.bottomLeft=a,this.topRight=l,this.bottomRight=s,this.minX=Math.trunc(Math.min(r.getX(),a.getX())),this.maxX=Math.trunc(Math.max(l.getX(),s.getX())),this.minY=Math.trunc(Math.min(r.getY(),l.getY())),this.maxY=Math.trunc(Math.max(a.getY(),s.getY()))}constructor_2(t){this.image=t.image,this.topLeft=t.getTopLeft(),this.bottomLeft=t.getBottomLeft(),this.topRight=t.getTopRight(),this.bottomRight=t.getBottomRight(),this.minX=t.getMinX(),this.maxX=t.getMaxX(),this.minY=t.getMinY(),this.maxY=t.getMaxY()}static merge(t,r){return t==null?r:r==null?t:new _r(t.image,t.topLeft,t.bottomLeft,r.topRight,r.bottomRight)}addMissingRows(t,r,a){let l=this.topLeft,s=this.bottomLeft,u=this.topRight,c=this.bottomRight;if(t>0){let h=a?this.topLeft:this.topRight,x=Math.trunc(h.getY()-t);x<0&&(x=0);let w=new Be(h.getX(),x);a?l=w:u=w}if(r>0){let h=a?this.bottomLeft:this.bottomRight,x=Math.trunc(h.getY()+r);x>=this.image.getHeight()&&(x=this.image.getHeight()-1);let w=new Be(h.getX(),x);a?s=w:c=w}return new _r(this.image,l,s,u,c)}getMinX(){return this.minX}getMaxX(){return this.maxX}getMinY(){return this.minY}getMaxY(){return this.maxY}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}getBottomLeft(){return this.bottomLeft}getBottomRight(){return this.bottomRight}}class Mi{constructor(t,r,a,l){this.columnCount=t,this.errorCorrectionLevel=l,this.rowCountUpperPart=r,this.rowCountLowerPart=a,this.rowCount=r+a}getColumnCount(){return this.columnCount}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getRowCount(){return this.rowCount}getRowCountUpperPart(){return this.rowCountUpperPart}getRowCountLowerPart(){return this.rowCountLowerPart}}class Na{constructor(){this.buffer=""}static form(t,r){let a=-1;function l(u,c,h,x,w,v){if(u==="%%")return"%";if(r[++a]===void 0)return;u=x?parseInt(x.substr(1)):void 0;let T=w?parseInt(w.substr(1)):void 0,B;switch(v){case"s":B=r[a];break;case"c":B=r[a][0];break;case"f":B=parseFloat(r[a]).toFixed(u);break;case"p":B=parseFloat(r[a]).toPrecision(u);break;case"e":B=parseFloat(r[a]).toExponential(u);break;case"x":B=parseInt(r[a]).toString(T||16);break;case"d":B=parseFloat(parseInt(r[a],T||10).toPrecision(u)).toFixed(0);break}B=typeof B=="object"?JSON.stringify(B):(+B).toString(T);let j=parseInt(h),H=h&&h[0]+""=="0"?"0":" ";for(;B.length<j;)B=c!==void 0?B+H:H+B;return B}let s=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return t.replace(s,l)}format(t,...r){this.buffer+=Na.form(t,r)}toString(){return this.buffer}}class zr{constructor(t){this.boundingBox=new _r(t),this.codewords=new Array(t.getMaxY()-t.getMinY()+1)}getCodewordNearby(t){let r=this.getCodeword(t);if(r!=null)return r;for(let a=1;a<zr.MAX_NEARBY_DISTANCE;a++){let l=this.imageRowToCodewordIndex(t)-a;if(l>=0&&(r=this.codewords[l],r!=null)||(l=this.imageRowToCodewordIndex(t)+a,l<this.codewords.length&&(r=this.codewords[l],r!=null)))return r}return null}imageRowToCodewordIndex(t){return t-this.boundingBox.getMinY()}setCodeword(t,r){this.codewords[this.imageRowToCodewordIndex(t)]=r}getCodeword(t){return this.codewords[this.imageRowToCodewordIndex(t)]}getBoundingBox(){return this.boundingBox}getCodewords(){return this.codewords}toString(){const t=new Na;let r=0;for(const a of this.codewords){if(a==null){t.format("%3d:    |   %n",r++);continue}t.format("%3d: %3d|%3d%n",r++,a.getRowNumber(),a.getValue())}return t.toString()}}zr.MAX_NEARBY_DISTANCE=5;class jr{constructor(){this.values=new Map}setValue(t){t=Math.trunc(t);let r=this.values.get(t);r==null&&(r=0),r++,this.values.set(t,r)}getValue(){let t=-1,r=new Array;for(const[a,l]of this.values.entries()){const s={getKey:()=>a,getValue:()=>l};s.getValue()>t?(t=s.getValue(),r=[],r.push(s.getKey())):s.getValue()===t&&r.push(s.getKey())}return Ge.toIntArray(r)}getConfidence(t){return this.values.get(t)}}class vl extends zr{constructor(t,r){super(t),this._isLeft=r}setRowNumbers(){for(let t of this.getCodewords())t?.setRowNumberAsRowIndicatorColumn()}adjustCompleteIndicatorColumnRowNumbers(t){let r=this.getCodewords();this.setRowNumbers(),this.removeIncorrectCodewords(r,t);let a=this.getBoundingBox(),l=this._isLeft?a.getTopLeft():a.getTopRight(),s=this._isLeft?a.getBottomLeft():a.getBottomRight(),u=this.imageRowToCodewordIndex(Math.trunc(l.getY())),c=this.imageRowToCodewordIndex(Math.trunc(s.getY())),h=-1,x=1,w=0;for(let v=u;v<c;v++){if(r[v]==null)continue;let T=r[v],B=T.getRowNumber()-h;if(B===0)w++;else if(B===1)x=Math.max(x,w),w=1,h=T.getRowNumber();else if(B<0||T.getRowNumber()>=t.getRowCount()||B>v)r[v]=null;else{let j;x>2?j=(x-2)*B:j=B;let H=j>=v;for(let K=1;K<=j&&!H;K++)H=r[v-K]!=null;H?r[v]=null:(h=T.getRowNumber(),w=1)}}}getRowHeights(){let t=this.getBarcodeMetadata();if(t==null)return null;this.adjustIncompleteIndicatorColumnRowNumbers(t);let r=new Int32Array(t.getRowCount());for(let a of this.getCodewords())if(a!=null){let l=a.getRowNumber();if(l>=r.length)continue;r[l]++}return r}adjustIncompleteIndicatorColumnRowNumbers(t){let r=this.getBoundingBox(),a=this._isLeft?r.getTopLeft():r.getTopRight(),l=this._isLeft?r.getBottomLeft():r.getBottomRight(),s=this.imageRowToCodewordIndex(Math.trunc(a.getY())),u=this.imageRowToCodewordIndex(Math.trunc(l.getY())),c=this.getCodewords(),h=-1;for(let x=s;x<u;x++){if(c[x]==null)continue;let w=c[x];w.setRowNumberAsRowIndicatorColumn();let v=w.getRowNumber()-h;v===0||(v===1?h=w.getRowNumber():w.getRowNumber()>=t.getRowCount()?c[x]=null:h=w.getRowNumber())}}getBarcodeMetadata(){let t=this.getCodewords(),r=new jr,a=new jr,l=new jr,s=new jr;for(let c of t){if(c==null)continue;c.setRowNumberAsRowIndicatorColumn();let h=c.getValue()%30,x=c.getRowNumber();switch(this._isLeft||(x+=2),x%3){case 0:a.setValue(h*3+1);break;case 1:s.setValue(h/3),l.setValue(h%3);break;case 2:r.setValue(h+1);break}}if(r.getValue().length===0||a.getValue().length===0||l.getValue().length===0||s.getValue().length===0||r.getValue()[0]<1||a.getValue()[0]+l.getValue()[0]<Ge.MIN_ROWS_IN_BARCODE||a.getValue()[0]+l.getValue()[0]>Ge.MAX_ROWS_IN_BARCODE)return null;let u=new Mi(r.getValue()[0],a.getValue()[0],l.getValue()[0],s.getValue()[0]);return this.removeIncorrectCodewords(t,u),u}removeIncorrectCodewords(t,r){for(let a=0;a<t.length;a++){let l=t[a];if(t[a]==null)continue;let s=l.getValue()%30,u=l.getRowNumber();if(u>r.getRowCount()){t[a]=null;continue}switch(this._isLeft||(u+=2),u%3){case 0:s*3+1!==r.getRowCountUpperPart()&&(t[a]=null);break;case 1:(Math.trunc(s/3)!==r.getErrorCorrectionLevel()||s%3!==r.getRowCountLowerPart())&&(t[a]=null);break;case 2:s+1!==r.getColumnCount()&&(t[a]=null);break}}}isLeft(){return this._isLeft}toString(){return"IsLeft: "+this._isLeft+`
`+super.toString()}}class dn{constructor(t,r){this.ADJUST_ROW_NUMBER_SKIP=2,this.barcodeMetadata=t,this.barcodeColumnCount=t.getColumnCount(),this.boundingBox=r,this.detectionResultColumns=new Array(this.barcodeColumnCount+2)}getDetectionResultColumns(){this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[0]),this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[this.barcodeColumnCount+1]);let t=Ge.MAX_CODEWORDS_IN_BARCODE,r;do r=t,t=this.adjustRowNumbersAndGetCount();while(t>0&&t<r);return this.detectionResultColumns}adjustIndicatorColumnRowNumbers(t){t?.adjustCompleteIndicatorColumnRowNumbers(this.barcodeMetadata)}adjustRowNumbersAndGetCount(){let t=this.adjustRowNumbersByRow();if(t===0)return 0;for(let r=1;r<this.barcodeColumnCount+1;r++){let a=this.detectionResultColumns[r].getCodewords();for(let l=0;l<a.length;l++)a[l]!=null&&(a[l].hasValidRowNumber()||this.adjustRowNumbers(r,l,a))}return t}adjustRowNumbersByRow(){return this.adjustRowNumbersFromBothRI(),this.adjustRowNumbersFromLRI()+this.adjustRowNumbersFromRRI()}adjustRowNumbersFromBothRI(){if(this.detectionResultColumns[0]==null||this.detectionResultColumns[this.barcodeColumnCount+1]==null)return;let t=this.detectionResultColumns[0].getCodewords(),r=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let a=0;a<t.length;a++)if(t[a]!=null&&r[a]!=null&&t[a].getRowNumber()===r[a].getRowNumber())for(let l=1;l<=this.barcodeColumnCount;l++){let s=this.detectionResultColumns[l].getCodewords()[a];s!=null&&(s.setRowNumber(t[a].getRowNumber()),s.hasValidRowNumber()||(this.detectionResultColumns[l].getCodewords()[a]=null))}}adjustRowNumbersFromRRI(){if(this.detectionResultColumns[this.barcodeColumnCount+1]==null)return 0;let t=0,r=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let a=0;a<r.length;a++){if(r[a]==null)continue;let l=r[a].getRowNumber(),s=0;for(let u=this.barcodeColumnCount+1;u>0&&s<this.ADJUST_ROW_NUMBER_SKIP;u--){let c=this.detectionResultColumns[u].getCodewords()[a];c!=null&&(s=dn.adjustRowNumberIfValid(l,s,c),c.hasValidRowNumber()||t++)}}return t}adjustRowNumbersFromLRI(){if(this.detectionResultColumns[0]==null)return 0;let t=0,r=this.detectionResultColumns[0].getCodewords();for(let a=0;a<r.length;a++){if(r[a]==null)continue;let l=r[a].getRowNumber(),s=0;for(let u=1;u<this.barcodeColumnCount+1&&s<this.ADJUST_ROW_NUMBER_SKIP;u++){let c=this.detectionResultColumns[u].getCodewords()[a];c!=null&&(s=dn.adjustRowNumberIfValid(l,s,c),c.hasValidRowNumber()||t++)}}return t}static adjustRowNumberIfValid(t,r,a){return a==null||a.hasValidRowNumber()||(a.isValidRowNumber(t)?(a.setRowNumber(t),r=0):++r),r}adjustRowNumbers(t,r,a){if(!this.detectionResultColumns[t-1])return;let l=a[r],s=this.detectionResultColumns[t-1].getCodewords(),u=s;this.detectionResultColumns[t+1]!=null&&(u=this.detectionResultColumns[t+1].getCodewords());let c=new Array(14);c[2]=s[r],c[3]=u[r],r>0&&(c[0]=a[r-1],c[4]=s[r-1],c[5]=u[r-1]),r>1&&(c[8]=a[r-2],c[10]=s[r-2],c[11]=u[r-2]),r<a.length-1&&(c[1]=a[r+1],c[6]=s[r+1],c[7]=u[r+1]),r<a.length-2&&(c[9]=a[r+2],c[12]=s[r+2],c[13]=u[r+2]);for(let h of c)if(dn.adjustRowNumber(l,h))return}static adjustRowNumber(t,r){return r==null?!1:r.hasValidRowNumber()&&r.getBucket()===t.getBucket()?(t.setRowNumber(r.getRowNumber()),!0):!1}getBarcodeColumnCount(){return this.barcodeColumnCount}getBarcodeRowCount(){return this.barcodeMetadata.getRowCount()}getBarcodeECLevel(){return this.barcodeMetadata.getErrorCorrectionLevel()}setBoundingBox(t){this.boundingBox=t}getBoundingBox(){return this.boundingBox}setDetectionResultColumn(t,r){this.detectionResultColumns[t]=r}getDetectionResultColumn(t){return this.detectionResultColumns[t]}toString(){let t=this.detectionResultColumns[0];t==null&&(t=this.detectionResultColumns[this.barcodeColumnCount+1]);let r=new Na;for(let a=0;a<t.getCodewords().length;a++){r.format("CW %3d:",a);for(let l=0;l<this.barcodeColumnCount+2;l++){if(this.detectionResultColumns[l]==null){r.format("    |   ");continue}let s=this.detectionResultColumns[l].getCodewords()[a];if(s==null){r.format("    |   ");continue}r.format(" %3d|%3d",s.getRowNumber(),s.getValue())}r.format("%n")}return r.toString()}}class nr{constructor(t,r,a,l){this.rowNumber=nr.BARCODE_ROW_UNKNOWN,this.startX=Math.trunc(t),this.endX=Math.trunc(r),this.bucket=Math.trunc(a),this.value=Math.trunc(l)}hasValidRowNumber(){return this.isValidRowNumber(this.rowNumber)}isValidRowNumber(t){return t!==nr.BARCODE_ROW_UNKNOWN&&this.bucket===t%3*3}setRowNumberAsRowIndicatorColumn(){this.rowNumber=Math.trunc(Math.trunc(this.value/30)*3+Math.trunc(this.bucket/3))}getWidth(){return this.endX-this.startX}getStartX(){return this.startX}getEndX(){return this.endX}getBucket(){return this.bucket}getValue(){return this.value}getRowNumber(){return this.rowNumber}setRowNumber(t){this.rowNumber=t}toString(){return this.rowNumber+"|"+this.value}}nr.BARCODE_ROW_UNKNOWN=-1;class An{static initialize(){for(let t=0;t<Ge.SYMBOL_TABLE.length;t++){let r=Ge.SYMBOL_TABLE[t],a=r&1;for(let l=0;l<Ge.BARS_IN_MODULE;l++){let s=0;for(;(r&1)===a;)s+=1,r>>=1;a=r&1,An.RATIOS_TABLE[t]||(An.RATIOS_TABLE[t]=new Array(Ge.BARS_IN_MODULE)),An.RATIOS_TABLE[t][Ge.BARS_IN_MODULE-l-1]=Math.fround(s/Ge.MODULES_IN_CODEWORD)}}this.bSymbolTableReady=!0}static getDecodedValue(t){let r=An.getDecodedCodewordValue(An.sampleBitCounts(t));return r!==-1?r:An.getClosestDecodedValue(t)}static sampleBitCounts(t){let r=Qe.sum(t),a=new Int32Array(Ge.BARS_IN_MODULE),l=0,s=0;for(let u=0;u<Ge.MODULES_IN_CODEWORD;u++){let c=r/(2*Ge.MODULES_IN_CODEWORD)+u*r/Ge.MODULES_IN_CODEWORD;s+t[l]<=c&&(s+=t[l],l++),a[l]++}return a}static getDecodedCodewordValue(t){let r=An.getBitValue(t);return Ge.getCodeword(r)===-1?-1:r}static getBitValue(t){let r=0;for(let a=0;a<t.length;a++)for(let l=0;l<t[a];l++)r=r<<1|(a%2===0?1:0);return Math.trunc(r)}static getClosestDecodedValue(t){let r=Qe.sum(t),a=new Array(Ge.BARS_IN_MODULE);if(r>1)for(let u=0;u<a.length;u++)a[u]=Math.fround(t[u]/r);let l=In.MAX_VALUE,s=-1;this.bSymbolTableReady||An.initialize();for(let u=0;u<An.RATIOS_TABLE.length;u++){let c=0,h=An.RATIOS_TABLE[u];for(let x=0;x<Ge.BARS_IN_MODULE;x++){let w=Math.fround(h[x]-a[x]);if(c+=Math.fround(w*w),c>=l)break}c<l&&(l=c,s=Ge.SYMBOL_TABLE[u])}return s}}An.bSymbolTableReady=!1,An.RATIOS_TABLE=new Array(Ge.SYMBOL_TABLE.length).map(C=>new Array(Ge.BARS_IN_MODULE));class Ra{constructor(){this.segmentCount=-1,this.fileSize=-1,this.timestamp=-1,this.checksum=-1}getSegmentIndex(){return this.segmentIndex}setSegmentIndex(t){this.segmentIndex=t}getFileId(){return this.fileId}setFileId(t){this.fileId=t}getOptionalData(){return this.optionalData}setOptionalData(t){this.optionalData=t}isLastSegment(){return this.lastSegment}setLastSegment(t){this.lastSegment=t}getSegmentCount(){return this.segmentCount}setSegmentCount(t){this.segmentCount=t}getSender(){return this.sender||null}setSender(t){this.sender=t}getAddressee(){return this.addressee||null}setAddressee(t){this.addressee=t}getFileName(){return this.fileName}setFileName(t){this.fileName=t}getFileSize(){return this.fileSize}setFileSize(t){this.fileSize=t}getChecksum(){return this.checksum}setChecksum(t){this.checksum=t}getTimestamp(){return this.timestamp}setTimestamp(t){this.timestamp=t}}class vs{static parseLong(t,r=void 0){return parseInt(t,r)}}class Bi extends y{}Bi.kind="NullPointerException";class Sl{writeBytes(t){this.writeBytesOffset(t,0,t.length)}writeBytesOffset(t,r,a){if(t==null)throw new Bi;if(r<0||r>t.length||a<0||r+a>t.length||r+a<0)throw new z;if(a===0)return;for(let l=0;l<a;l++)this.write(t[r+l])}flush(){}close(){}}class oi extends y{}class Li extends Sl{constructor(t=32){if(super(),this.count=0,t<0)throw new I("Negative initial size: "+t);this.buf=new Uint8Array(t)}ensureCapacity(t){t-this.buf.length>0&&this.grow(t)}grow(t){let a=this.buf.length<<1;if(a-t<0&&(a=t),a<0){if(t<0)throw new oi;a=X.MAX_VALUE}this.buf=G.copyOfUint8Array(this.buf,a)}write(t){this.ensureCapacity(this.count+1),this.buf[this.count]=t,this.count+=1}writeBytesOffset(t,r,a){if(r<0||r>t.length||a<0||r+a-t.length>0)throw new z;this.ensureCapacity(this.count+a),te.arraycopy(t,r,this.buf,this.count,a),this.count+=a}writeTo(t){t.writeBytesOffset(this.buf,0,this.count)}reset(){this.count=0}toByteArray(){return G.copyOfUint8Array(this.buf,this.count)}size(){return this.count}toString(t){return t?typeof t=="string"?this.toString_string(t):this.toString_number(t):this.toString_void()}toString_void(){return new String(this.buf).toString()}toString_string(t){return new String(this.buf).toString()}toString_number(t){return new String(this.buf).toString()}close(){}}var Ct;(function(C){C[C.ALPHA=0]="ALPHA",C[C.LOWER=1]="LOWER",C[C.MIXED=2]="MIXED",C[C.PUNCT=3]="PUNCT",C[C.ALPHA_SHIFT=4]="ALPHA_SHIFT",C[C.PUNCT_SHIFT=5]="PUNCT_SHIFT"})(Ct||(Ct={}));function Ss(){if(typeof window<"u")return window.BigInt||null;if(typeof Uo<"u")return Uo.BigInt||null;if(typeof self<"u")return self.BigInt||null;throw new Error("Can't search globals for BigInt!")}let ki;function Hr(C){if(typeof ki>"u"&&(ki=Ss()),ki===null)throw new Error("BigInt is not supported!");return ki(C)}function Tl(){let C=[];C[0]=Hr(1);let t=Hr(900);C[1]=t;for(let r=2;r<16;r++)C[r]=C[r-1]*t;return C}class he{static decode(t,r){let a=new Re(""),l=ce.ISO8859_1;a.enableDecoding(l);let s=1,u=t[s++],c=new Ra;for(;s<t[0];){switch(u){case he.TEXT_COMPACTION_MODE_LATCH:s=he.textCompaction(t,s,a);break;case he.BYTE_COMPACTION_MODE_LATCH:case he.BYTE_COMPACTION_MODE_LATCH_6:s=he.byteCompaction(u,t,l,s,a);break;case he.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:a.append(t[s++]);break;case he.NUMERIC_COMPACTION_MODE_LATCH:s=he.numericCompaction(t,s,a);break;case he.ECI_CHARSET:ce.getCharacterSetECIByValue(t[s++]);break;case he.ECI_GENERAL_PURPOSE:s+=2;break;case he.ECI_USER_DEFINED:s++;break;case he.BEGIN_MACRO_PDF417_CONTROL_BLOCK:s=he.decodeMacroBlock(t,s,c);break;case he.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case he.MACRO_PDF417_TERMINATOR:throw new Q;default:s--,s=he.textCompaction(t,s,a);break}if(s<t.length)u=t[s++];else throw Q.getFormatInstance()}if(a.length()===0)throw Q.getFormatInstance();let h=new Je(null,a.toString(),null,r);return h.setOther(c),h}static decodeMacroBlock(t,r,a){if(r+he.NUMBER_OF_SEQUENCE_CODEWORDS>t[0])throw Q.getFormatInstance();let l=new Int32Array(he.NUMBER_OF_SEQUENCE_CODEWORDS);for(let c=0;c<he.NUMBER_OF_SEQUENCE_CODEWORDS;c++,r++)l[c]=t[r];a.setSegmentIndex(X.parseInt(he.decodeBase900toBase10(l,he.NUMBER_OF_SEQUENCE_CODEWORDS)));let s=new Re;r=he.textCompaction(t,r,s),a.setFileId(s.toString());let u=-1;for(t[r]===he.BEGIN_MACRO_PDF417_OPTIONAL_FIELD&&(u=r+1);r<t[0];)switch(t[r]){case he.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:switch(r++,t[r]){case he.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME:let c=new Re;r=he.textCompaction(t,r+1,c),a.setFileName(c.toString());break;case he.MACRO_PDF417_OPTIONAL_FIELD_SENDER:let h=new Re;r=he.textCompaction(t,r+1,h),a.setSender(h.toString());break;case he.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE:let x=new Re;r=he.textCompaction(t,r+1,x),a.setAddressee(x.toString());break;case he.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT:let w=new Re;r=he.numericCompaction(t,r+1,w),a.setSegmentCount(X.parseInt(w.toString()));break;case he.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP:let v=new Re;r=he.numericCompaction(t,r+1,v),a.setTimestamp(vs.parseLong(v.toString()));break;case he.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM:let T=new Re;r=he.numericCompaction(t,r+1,T),a.setChecksum(X.parseInt(T.toString()));break;case he.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE:let B=new Re;r=he.numericCompaction(t,r+1,B),a.setFileSize(vs.parseLong(B.toString()));break;default:throw Q.getFormatInstance()}break;case he.MACRO_PDF417_TERMINATOR:r++,a.setLastSegment(!0);break;default:throw Q.getFormatInstance()}if(u!==-1){let c=r-u;a.isLastSegment()&&c--,a.setOptionalData(G.copyOfRange(t,u,u+c))}return r}static textCompaction(t,r,a){let l=new Int32Array((t[0]-r)*2),s=new Int32Array((t[0]-r)*2),u=0,c=!1;for(;r<t[0]&&!c;){let h=t[r++];if(h<he.TEXT_COMPACTION_MODE_LATCH)l[u]=h/30,l[u+1]=h%30,u+=2;else switch(h){case he.TEXT_COMPACTION_MODE_LATCH:l[u++]=he.TEXT_COMPACTION_MODE_LATCH;break;case he.BYTE_COMPACTION_MODE_LATCH:case he.BYTE_COMPACTION_MODE_LATCH_6:case he.NUMERIC_COMPACTION_MODE_LATCH:case he.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case he.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case he.MACRO_PDF417_TERMINATOR:r--,c=!0;break;case he.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:l[u]=he.MODE_SHIFT_TO_BYTE_COMPACTION_MODE,h=t[r++],s[u]=h,u++;break}}return he.decodeTextCompaction(l,s,u,a),r}static decodeTextCompaction(t,r,a,l){let s=Ct.ALPHA,u=Ct.ALPHA,c=0;for(;c<a;){let h=t[c],x="";switch(s){case Ct.ALPHA:if(h<26)x=String.fromCharCode(65+h);else switch(h){case 26:x=" ";break;case he.LL:s=Ct.LOWER;break;case he.ML:s=Ct.MIXED;break;case he.PS:u=s,s=Ct.PUNCT_SHIFT;break;case he.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:l.append(r[c]);break;case he.TEXT_COMPACTION_MODE_LATCH:s=Ct.ALPHA;break}break;case Ct.LOWER:if(h<26)x=String.fromCharCode(97+h);else switch(h){case 26:x=" ";break;case he.AS:u=s,s=Ct.ALPHA_SHIFT;break;case he.ML:s=Ct.MIXED;break;case he.PS:u=s,s=Ct.PUNCT_SHIFT;break;case he.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:l.append(r[c]);break;case he.TEXT_COMPACTION_MODE_LATCH:s=Ct.ALPHA;break}break;case Ct.MIXED:if(h<he.PL)x=he.MIXED_CHARS[h];else switch(h){case he.PL:s=Ct.PUNCT;break;case 26:x=" ";break;case he.LL:s=Ct.LOWER;break;case he.AL:s=Ct.ALPHA;break;case he.PS:u=s,s=Ct.PUNCT_SHIFT;break;case he.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:l.append(r[c]);break;case he.TEXT_COMPACTION_MODE_LATCH:s=Ct.ALPHA;break}break;case Ct.PUNCT:if(h<he.PAL)x=he.PUNCT_CHARS[h];else switch(h){case he.PAL:s=Ct.ALPHA;break;case he.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:l.append(r[c]);break;case he.TEXT_COMPACTION_MODE_LATCH:s=Ct.ALPHA;break}break;case Ct.ALPHA_SHIFT:if(s=u,h<26)x=String.fromCharCode(65+h);else switch(h){case 26:x=" ";break;case he.TEXT_COMPACTION_MODE_LATCH:s=Ct.ALPHA;break}break;case Ct.PUNCT_SHIFT:if(s=u,h<he.PAL)x=he.PUNCT_CHARS[h];else switch(h){case he.PAL:s=Ct.ALPHA;break;case he.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:l.append(r[c]);break;case he.TEXT_COMPACTION_MODE_LATCH:s=Ct.ALPHA;break}break}x!==""&&l.append(x),c++}}static byteCompaction(t,r,a,l,s){let u=new Li,c=0,h=0,x=!1;switch(t){case he.BYTE_COMPACTION_MODE_LATCH:let w=new Int32Array(6),v=r[l++];for(;l<r[0]&&!x;)switch(w[c++]=v,h=900*h+v,v=r[l++],v){case he.TEXT_COMPACTION_MODE_LATCH:case he.BYTE_COMPACTION_MODE_LATCH:case he.NUMERIC_COMPACTION_MODE_LATCH:case he.BYTE_COMPACTION_MODE_LATCH_6:case he.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case he.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case he.MACRO_PDF417_TERMINATOR:l--,x=!0;break;default:if(c%5===0&&c>0){for(let T=0;T<6;++T)u.write(Number(Hr(h)>>Hr(8*(5-T))));h=0,c=0}break}l===r[0]&&v<he.TEXT_COMPACTION_MODE_LATCH&&(w[c++]=v);for(let T=0;T<c;T++)u.write(w[T]);break;case he.BYTE_COMPACTION_MODE_LATCH_6:for(;l<r[0]&&!x;){let T=r[l++];if(T<he.TEXT_COMPACTION_MODE_LATCH)c++,h=900*h+T;else switch(T){case he.TEXT_COMPACTION_MODE_LATCH:case he.BYTE_COMPACTION_MODE_LATCH:case he.NUMERIC_COMPACTION_MODE_LATCH:case he.BYTE_COMPACTION_MODE_LATCH_6:case he.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case he.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case he.MACRO_PDF417_TERMINATOR:l--,x=!0;break}if(c%5===0&&c>0){for(let B=0;B<6;++B)u.write(Number(Hr(h)>>Hr(8*(5-B))));h=0,c=0}}break}return s.append(qe.decode(u.toByteArray(),a)),l}static numericCompaction(t,r,a){let l=0,s=!1,u=new Int32Array(he.MAX_NUMERIC_CODEWORDS);for(;r<t[0]&&!s;){let c=t[r++];if(r===t[0]&&(s=!0),c<he.TEXT_COMPACTION_MODE_LATCH)u[l]=c,l++;else switch(c){case he.TEXT_COMPACTION_MODE_LATCH:case he.BYTE_COMPACTION_MODE_LATCH:case he.BYTE_COMPACTION_MODE_LATCH_6:case he.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case he.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case he.MACRO_PDF417_TERMINATOR:r--,s=!0;break}(l%he.MAX_NUMERIC_CODEWORDS===0||c===he.NUMERIC_COMPACTION_MODE_LATCH||s)&&l>0&&(a.append(he.decodeBase900toBase10(u,l)),l=0)}return r}static decodeBase900toBase10(t,r){let a=Hr(0);for(let s=0;s<r;s++)a+=he.EXP900[r-s-1]*Hr(t[s]);let l=a.toString();if(l.charAt(0)!=="1")throw new Q;return l.substring(1)}}he.TEXT_COMPACTION_MODE_LATCH=900,he.BYTE_COMPACTION_MODE_LATCH=901,he.NUMERIC_COMPACTION_MODE_LATCH=902,he.BYTE_COMPACTION_MODE_LATCH_6=924,he.ECI_USER_DEFINED=925,he.ECI_GENERAL_PURPOSE=926,he.ECI_CHARSET=927,he.BEGIN_MACRO_PDF417_CONTROL_BLOCK=928,he.BEGIN_MACRO_PDF417_OPTIONAL_FIELD=923,he.MACRO_PDF417_TERMINATOR=922,he.MODE_SHIFT_TO_BYTE_COMPACTION_MODE=913,he.MAX_NUMERIC_CODEWORDS=15,he.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME=0,he.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT=1,he.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP=2,he.MACRO_PDF417_OPTIONAL_FIELD_SENDER=3,he.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE=4,he.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE=5,he.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM=6,he.PL=25,he.LL=27,he.AS=27,he.ML=28,he.AL=28,he.PS=29,he.PAL=29,he.PUNCT_CHARS=`;<>@[\\]_\`~!\r	,:
-.$/"|*()?{}'`,he.MIXED_CHARS="0123456789&\r	,:#-.$/+%*=^",he.EXP900=Ss()?Tl():[],he.NUMBER_OF_SEQUENCE_CODEWORDS=2;class rt{constructor(){}static decode(t,r,a,l,s,u,c){let h=new _r(t,r,a,l,s),x=null,w=null,v;for(let j=!0;;j=!1){if(r!=null&&(x=rt.getRowIndicatorColumn(t,h,r,!0,u,c)),l!=null&&(w=rt.getRowIndicatorColumn(t,h,l,!1,u,c)),v=rt.merge(x,w),v==null)throw W.getNotFoundInstance();let H=v.getBoundingBox();if(j&&H!=null&&(H.getMinY()<h.getMinY()||H.getMaxY()>h.getMaxY()))h=H;else break}v.setBoundingBox(h);let T=v.getBarcodeColumnCount()+1;v.setDetectionResultColumn(0,x),v.setDetectionResultColumn(T,w);let B=x!=null;for(let j=1;j<=T;j++){let H=B?j:T-j;if(v.getDetectionResultColumn(H)!==void 0)continue;let K;H===0||H===T?K=new vl(h,H===0):K=new zr(h),v.setDetectionResultColumn(H,K);let fe=-1,Te=fe;for(let ve=h.getMinY();ve<=h.getMaxY();ve++){if(fe=rt.getStartColumn(v,H,ve,B),fe<0||fe>h.getMaxX()){if(Te===-1)continue;fe=Te}let be=rt.detectCodeword(t,h.getMinX(),h.getMaxX(),B,fe,ve,u,c);be!=null&&(K.setCodeword(ve,be),Te=fe,u=Math.min(u,be.getWidth()),c=Math.max(c,be.getWidth()))}}return rt.createDecoderResult(v)}static merge(t,r){if(t==null&&r==null)return null;let a=rt.getBarcodeMetadata(t,r);if(a==null)return null;let l=_r.merge(rt.adjustBoundingBox(t),rt.adjustBoundingBox(r));return new dn(a,l)}static adjustBoundingBox(t){if(t==null)return null;let r=t.getRowHeights();if(r==null)return null;let a=rt.getMax(r),l=0;for(let c of r)if(l+=a-c,c>0)break;let s=t.getCodewords();for(let c=0;l>0&&s[c]==null;c++)l--;let u=0;for(let c=r.length-1;c>=0&&(u+=a-r[c],!(r[c]>0));c--);for(let c=s.length-1;u>0&&s[c]==null;c--)u--;return t.getBoundingBox().addMissingRows(l,u,t.isLeft())}static getMax(t){let r=-1;for(let a of t)r=Math.max(r,a);return r}static getBarcodeMetadata(t,r){let a;if(t==null||(a=t.getBarcodeMetadata())==null)return r==null?null:r.getBarcodeMetadata();let l;return r==null||(l=r.getBarcodeMetadata())==null?a:a.getColumnCount()!==l.getColumnCount()&&a.getErrorCorrectionLevel()!==l.getErrorCorrectionLevel()&&a.getRowCount()!==l.getRowCount()?null:a}static getRowIndicatorColumn(t,r,a,l,s,u){let c=new vl(r,l);for(let h=0;h<2;h++){let x=h===0?1:-1,w=Math.trunc(Math.trunc(a.getX()));for(let v=Math.trunc(Math.trunc(a.getY()));v<=r.getMaxY()&&v>=r.getMinY();v+=x){let T=rt.detectCodeword(t,0,t.getWidth(),l,w,v,s,u);T!=null&&(c.setCodeword(v,T),l?w=T.getStartX():w=T.getEndX())}}return c}static adjustCodewordCount(t,r){let a=r[0][1],l=a.getValue(),s=t.getBarcodeColumnCount()*t.getBarcodeRowCount()-rt.getNumberOfECCodeWords(t.getBarcodeECLevel());if(l.length===0){if(s<1||s>Ge.MAX_CODEWORDS_IN_BARCODE)throw W.getNotFoundInstance();a.setValue(s)}else l[0]!==s&&a.setValue(s)}static createDecoderResult(t){let r=rt.createBarcodeMatrix(t);rt.adjustCodewordCount(t,r);let a=new Array,l=new Int32Array(t.getBarcodeRowCount()*t.getBarcodeColumnCount()),s=[],u=new Array;for(let h=0;h<t.getBarcodeRowCount();h++)for(let x=0;x<t.getBarcodeColumnCount();x++){let w=r[h][x+1].getValue(),v=h*t.getBarcodeColumnCount()+x;w.length===0?a.push(v):w.length===1?l[v]=w[0]:(u.push(v),s.push(w))}let c=new Array(s.length);for(let h=0;h<c.length;h++)c[h]=s[h];return rt.createDecoderResultFromAmbiguousValues(t.getBarcodeECLevel(),l,Ge.toIntArray(a),Ge.toIntArray(u),c)}static createDecoderResultFromAmbiguousValues(t,r,a,l,s){let u=new Int32Array(l.length),c=100;for(;c-- >0;){for(let h=0;h<u.length;h++)r[l[h]]=s[h][u[h]];try{return rt.decodeCodewords(r,t,a)}catch(h){if(!(h instanceof ne))throw h}if(u.length===0)throw ne.getChecksumInstance();for(let h=0;h<u.length;h++)if(u[h]<s[h].length-1){u[h]++;break}else if(u[h]=0,h===u.length-1)throw ne.getChecksumInstance()}throw ne.getChecksumInstance()}static createBarcodeMatrix(t){let r=Array.from({length:t.getBarcodeRowCount()},()=>new Array(t.getBarcodeColumnCount()+2));for(let l=0;l<r.length;l++)for(let s=0;s<r[l].length;s++)r[l][s]=new jr;let a=0;for(let l of t.getDetectionResultColumns()){if(l!=null){for(let s of l.getCodewords())if(s!=null){let u=s.getRowNumber();if(u>=0){if(u>=r.length)continue;r[u][a].setValue(s.getValue())}}}a++}return r}static isValidBarcodeColumn(t,r){return r>=0&&r<=t.getBarcodeColumnCount()+1}static getStartColumn(t,r,a,l){let s=l?1:-1,u=null;if(rt.isValidBarcodeColumn(t,r-s)&&(u=t.getDetectionResultColumn(r-s).getCodeword(a)),u!=null)return l?u.getEndX():u.getStartX();if(u=t.getDetectionResultColumn(r).getCodewordNearby(a),u!=null)return l?u.getStartX():u.getEndX();if(rt.isValidBarcodeColumn(t,r-s)&&(u=t.getDetectionResultColumn(r-s).getCodewordNearby(a)),u!=null)return l?u.getEndX():u.getStartX();let c=0;for(;rt.isValidBarcodeColumn(t,r-s);){r-=s;for(let h of t.getDetectionResultColumn(r).getCodewords())if(h!=null)return(l?h.getEndX():h.getStartX())+s*c*(h.getEndX()-h.getStartX());c++}return l?t.getBoundingBox().getMinX():t.getBoundingBox().getMaxX()}static detectCodeword(t,r,a,l,s,u,c,h){s=rt.adjustCodewordStartColumn(t,r,a,l,s,u);let x=rt.getModuleBitCount(t,r,a,l,s,u);if(x==null)return null;let w,v=Qe.sum(x);if(l)w=s+v;else{for(let j=0;j<x.length/2;j++){let H=x[j];x[j]=x[x.length-1-j],x[x.length-1-j]=H}w=s,s=w-v}if(!rt.checkCodewordSkew(v,c,h))return null;let T=An.getDecodedValue(x),B=Ge.getCodeword(T);return B===-1?null:new nr(s,w,rt.getCodewordBucketNumber(T),B)}static getModuleBitCount(t,r,a,l,s,u){let c=s,h=new Int32Array(8),x=0,w=l?1:-1,v=l;for(;(l?c<a:c>=r)&&x<h.length;)t.get(c,u)===v?(h[x]++,c+=w):(x++,v=!v);return x===h.length||c===(l?a:r)&&x===h.length-1?h:null}static getNumberOfECCodeWords(t){return 2<<t}static adjustCodewordStartColumn(t,r,a,l,s,u){let c=s,h=l?-1:1;for(let x=0;x<2;x++){for(;(l?c>=r:c<a)&&l===t.get(c,u);){if(Math.abs(s-c)>rt.CODEWORD_SKEW_SIZE)return s;c+=h}h=-h,l=!l}return c}static checkCodewordSkew(t,r,a){return r-rt.CODEWORD_SKEW_SIZE<=t&&t<=a+rt.CODEWORD_SKEW_SIZE}static decodeCodewords(t,r,a){if(t.length===0)throw Q.getFormatInstance();let l=1<<r+1,s=rt.correctErrors(t,a,l);rt.verifyCodewordCount(t,l);let u=he.decode(t,""+r);return u.setErrorsCorrected(s),u.setErasures(a.length),u}static correctErrors(t,r,a){if(r!=null&&r.length>a/2+rt.MAX_ERRORS||a<0||a>rt.MAX_EC_CODEWORDS)throw ne.getChecksumInstance();return rt.errorCorrection.decode(t,a,r)}static verifyCodewordCount(t,r){if(t.length<4)throw Q.getFormatInstance();let a=t[0];if(a>t.length)throw Q.getFormatInstance();if(a===0)if(r<t.length)t[0]=t.length-r;else throw Q.getFormatInstance()}static getBitCountForCodeword(t){let r=new Int32Array(8),a=0,l=r.length-1;for(;!((t&1)!==a&&(a=t&1,l--,l<0));)r[l]++,t>>=1;return r}static getCodewordBucketNumber(t){return t instanceof Int32Array?this.getCodewordBucketNumber_Int32Array(t):this.getCodewordBucketNumber_number(t)}static getCodewordBucketNumber_number(t){return rt.getCodewordBucketNumber(rt.getBitCountForCodeword(t))}static getCodewordBucketNumber_Int32Array(t){return(t[0]-t[2]+t[4]-t[6]+9)%9}static toString(t){let r=new Na;for(let a=0;a<t.length;a++){r.format("Row %2d: ",a);for(let l=0;l<t[a].length;l++){let s=t[a][l];s.getValue().length===0?r.format("        ",null):r.format("%4d(%2d)",s.getValue()[0],s.getConfidence(s.getValue()[0]))}r.format("%n")}return r.toString()}}rt.CODEWORD_SKEW_SIZE=2,rt.MAX_ERRORS=3,rt.MAX_EC_CODEWORDS=512,rt.errorCorrection=new Or;class yn{decode(t,r=null){let a=yn.decode(t,r,!1);if(a==null||a.length===0||a[0]==null)throw W.getNotFoundInstance();return a[0]}decodeMultiple(t,r=null){try{return yn.decode(t,r,!0)}catch(a){throw a instanceof Q||a instanceof ne?W.getNotFoundInstance():a}}static decode(t,r,a){const l=new Array,s=Ke.detectMultiple(t,r,a);for(const u of s.getPoints()){const c=rt.decode(s.getBits(),u[4],u[5],u[6],u[7],yn.getMinCodewordWidth(u),yn.getMaxCodewordWidth(u)),h=new ae(c.getText(),c.getRawBytes(),void 0,u,ie.PDF_417);h.putMetadata(je.ERROR_CORRECTION_LEVEL,c.getECLevel());const x=c.getOther();x!=null&&h.putMetadata(je.PDF417_EXTRA_METADATA,x),l.push(h)}return l.map(u=>u)}static getMaxWidth(t,r){return t==null||r==null?0:Math.trunc(Math.abs(t.getX()-r.getX()))}static getMinWidth(t,r){return t==null||r==null?X.MAX_VALUE:Math.trunc(Math.abs(t.getX()-r.getX()))}static getMaxCodewordWidth(t){return Math.floor(Math.max(Math.max(yn.getMaxWidth(t[0],t[4]),yn.getMaxWidth(t[6],t[2])*Ge.MODULES_IN_CODEWORD/Ge.MODULES_IN_STOP_PATTERN),Math.max(yn.getMaxWidth(t[1],t[5]),yn.getMaxWidth(t[7],t[3])*Ge.MODULES_IN_CODEWORD/Ge.MODULES_IN_STOP_PATTERN)))}static getMinCodewordWidth(t){return Math.floor(Math.min(Math.min(yn.getMinWidth(t[0],t[4]),yn.getMinWidth(t[6],t[2])*Ge.MODULES_IN_CODEWORD/Ge.MODULES_IN_STOP_PATTERN),Math.min(yn.getMinWidth(t[1],t[5]),yn.getMinWidth(t[7],t[3])*Ge.MODULES_IN_CODEWORD/Ge.MODULES_IN_STOP_PATTERN)))}reset(){}}class Ui extends y{}Ui.kind="ReaderException";class Ts{constructor(t,r){this.verbose=t===!0,r&&this.setHints(r)}decode(t,r){return r&&this.setHints(r),this.decodeInternal(t)}decodeWithState(t){return(this.readers===null||this.readers===void 0)&&this.setHints(null),this.decodeInternal(t)}setHints(t){this.hints=t;const r=!p(t)&&t.get(me.TRY_HARDER)===!0,a=p(t)?null:t.get(me.POSSIBLE_FORMATS),l=new Array;if(!p(a)){const s=a.some(u=>u===ie.UPC_A||u===ie.UPC_E||u===ie.EAN_13||u===ie.EAN_8||u===ie.CODABAR||u===ie.CODE_39||u===ie.CODE_93||u===ie.CODE_128||u===ie.ITF||u===ie.RSS_14||u===ie.RSS_EXPANDED);s&&!r&&l.push(new er(t,this.verbose)),a.includes(ie.QR_CODE)&&l.push(new Rr),a.includes(ie.DATA_MATRIX)&&l.push(new Nr),a.includes(ie.AZTEC)&&l.push(new Oi),a.includes(ie.PDF_417)&&l.push(new yn),s&&r&&l.push(new er(t,this.verbose))}l.length===0&&(r||l.push(new er(t,this.verbose)),l.push(new Rr),l.push(new Nr),l.push(new Oi),l.push(new yn),r&&l.push(new er(t,this.verbose))),this.readers=l}reset(){if(this.readers!==null)for(const t of this.readers)t.reset()}decodeInternal(t){if(this.readers===null)throw new Ui("No readers where selected, nothing can be read.");for(const r of this.readers)try{return r.decode(t,this.hints)}catch(a){if(a instanceof Ui)continue}throw new W("No MultiFormat Readers were able to detect the code.")}}class Ns extends Y{constructor(t=null,r=500){const a=new Ts;a.setHints(t),super(a,r)}decodeBitmap(t){return this.reader.decodeWithState(t)}}class nu extends Y{constructor(t=500){super(new yn,t)}}class ru extends Y{constructor(t=500){super(new Rr,t)}}var Nl;(function(C){C[C.ERROR_CORRECTION=0]="ERROR_CORRECTION",C[C.CHARACTER_SET=1]="CHARACTER_SET",C[C.DATA_MATRIX_SHAPE=2]="DATA_MATRIX_SHAPE",C[C.MIN_SIZE=3]="MIN_SIZE",C[C.MAX_SIZE=4]="MAX_SIZE",C[C.MARGIN=5]="MARGIN",C[C.PDF417_COMPACT=6]="PDF417_COMPACT",C[C.PDF417_COMPACTION=7]="PDF417_COMPACTION",C[C.PDF417_DIMENSIONS=8]="PDF417_DIMENSIONS",C[C.AZTEC_LAYERS=9]="AZTEC_LAYERS",C[C.QR_VERSION=10]="QR_VERSION"})(Nl||(Nl={}));var un=Nl;class ui{constructor(t){this.field=t,this.cachedGenerators=[],this.cachedGenerators.push(new At(t,Int32Array.from([1])))}buildGenerator(t){const r=this.cachedGenerators;if(t>=r.length){let a=r[r.length-1];const l=this.field;for(let s=r.length;s<=t;s++){const u=a.multiply(new At(l,Int32Array.from([1,l.exp(s-1+l.getGeneratorBase())])));r.push(u),a=u}}return r[t]}encode(t,r){if(r===0)throw new I("No error correction bytes");const a=t.length-r;if(a<=0)throw new I("No data bytes provided");const l=this.buildGenerator(r),s=new Int32Array(a);te.arraycopy(t,0,s,0,a);let u=new At(this.field,s);u=u.multiplyByMonomial(r,1);const h=u.divide(l)[1].getCoefficients(),x=r-h.length;for(let w=0;w<x;w++)t[a+w]=0;te.arraycopy(h,0,t,a+x,h.length)}}class Wt{constructor(){}static applyMaskPenaltyRule1(t){return Wt.applyMaskPenaltyRule1Internal(t,!0)+Wt.applyMaskPenaltyRule1Internal(t,!1)}static applyMaskPenaltyRule2(t){let r=0;const a=t.getArray(),l=t.getWidth(),s=t.getHeight();for(let u=0;u<s-1;u++){const c=a[u];for(let h=0;h<l-1;h++){const x=c[h];x===c[h+1]&&x===a[u+1][h]&&x===a[u+1][h+1]&&r++}}return Wt.N2*r}static applyMaskPenaltyRule3(t){let r=0;const a=t.getArray(),l=t.getWidth(),s=t.getHeight();for(let u=0;u<s;u++)for(let c=0;c<l;c++){const h=a[u];c+6<l&&h[c]===1&&h[c+1]===0&&h[c+2]===1&&h[c+3]===1&&h[c+4]===1&&h[c+5]===0&&h[c+6]===1&&(Wt.isWhiteHorizontal(h,c-4,c)||Wt.isWhiteHorizontal(h,c+7,c+11))&&r++,u+6<s&&a[u][c]===1&&a[u+1][c]===0&&a[u+2][c]===1&&a[u+3][c]===1&&a[u+4][c]===1&&a[u+5][c]===0&&a[u+6][c]===1&&(Wt.isWhiteVertical(a,c,u-4,u)||Wt.isWhiteVertical(a,c,u+7,u+11))&&r++}return r*Wt.N3}static isWhiteHorizontal(t,r,a){r=Math.max(r,0),a=Math.min(a,t.length);for(let l=r;l<a;l++)if(t[l]===1)return!1;return!0}static isWhiteVertical(t,r,a,l){a=Math.max(a,0),l=Math.min(l,t.length);for(let s=a;s<l;s++)if(t[s][r]===1)return!1;return!0}static applyMaskPenaltyRule4(t){let r=0;const a=t.getArray(),l=t.getWidth(),s=t.getHeight();for(let h=0;h<s;h++){const x=a[h];for(let w=0;w<l;w++)x[w]===1&&r++}const u=t.getHeight()*t.getWidth();return Math.floor(Math.abs(r*2-u)*10/u)*Wt.N4}static getDataMaskBit(t,r,a){let l,s;switch(t){case 0:l=a+r&1;break;case 1:l=a&1;break;case 2:l=r%3;break;case 3:l=(a+r)%3;break;case 4:l=Math.floor(a/2)+Math.floor(r/3)&1;break;case 5:s=a*r,l=(s&1)+s%3;break;case 6:s=a*r,l=(s&1)+s%3&1;break;case 7:s=a*r,l=s%3+(a+r&1)&1;break;default:throw new I("Invalid mask pattern: "+t)}return l===0}static applyMaskPenaltyRule1Internal(t,r){let a=0;const l=r?t.getHeight():t.getWidth(),s=r?t.getWidth():t.getHeight(),u=t.getArray();for(let c=0;c<l;c++){let h=0,x=-1;for(let w=0;w<s;w++){const v=r?u[c][w]:u[w][c];v===x?h++:(h>=5&&(a+=Wt.N1+(h-5)),h=1,x=v)}h>=5&&(a+=Wt.N1+(h-5))}return a}}Wt.N1=3,Wt.N2=3,Wt.N3=40,Wt.N4=10;class Fi{constructor(t,r){this.width=t,this.height=r;const a=new Array(r);for(let l=0;l!==r;l++)a[l]=new Uint8Array(t);this.bytes=a}getHeight(){return this.height}getWidth(){return this.width}get(t,r){return this.bytes[r][t]}getArray(){return this.bytes}setNumber(t,r,a){this.bytes[r][t]=a}setBoolean(t,r,a){this.bytes[r][t]=a?1:0}clear(t){for(const r of this.bytes)G.fill(r,t)}equals(t){if(!(t instanceof Fi))return!1;const r=t;if(this.width!==r.width||this.height!==r.height)return!1;for(let a=0,l=this.height;a<l;++a){const s=this.bytes[a],u=r.bytes[a];for(let c=0,h=this.width;c<h;++c)if(s[c]!==u[c])return!1}return!0}toString(){const t=new Re;for(let r=0,a=this.height;r<a;++r){const l=this.bytes[r];for(let s=0,u=this.width;s<u;++s)switch(l[s]){case 0:t.append(" 0");break;case 1:t.append(" 1");break;default:t.append("  ");break}t.append(`
`)}return t.toString()}}class Qr{constructor(){this.maskPattern=-1}getMode(){return this.mode}getECLevel(){return this.ecLevel}getVersion(){return this.version}getMaskPattern(){return this.maskPattern}getMatrix(){return this.matrix}toString(){const t=new Re;return t.append(`<<
`),t.append(" mode: "),t.append(this.mode?this.mode.toString():"null"),t.append(`
 ecLevel: `),t.append(this.ecLevel?this.ecLevel.toString():"null"),t.append(`
 version: `),t.append(this.version?this.version.toString():"null"),t.append(`
 maskPattern: `),t.append(this.maskPattern.toString()),this.matrix?(t.append(`
 matrix:
`),t.append(this.matrix.toString())):t.append(`
 matrix: null
`),t.append(`>>
`),t.toString()}setMode(t){this.mode=t}setECLevel(t){this.ecLevel=t}setVersion(t){this.version=t}setMaskPattern(t){this.maskPattern=t}setMatrix(t){this.matrix=t}static isValidMaskPattern(t){return t>=0&&t<Qr.NUM_MASK_PATTERNS}}Qr.NUM_MASK_PATTERNS=8;class Tt extends y{}Tt.kind="WriterException";class Xe{constructor(){}static clearMatrix(t){t.clear(255)}static buildMatrix(t,r,a,l,s){Xe.clearMatrix(s),Xe.embedBasicPatterns(a,s),Xe.embedTypeInfo(r,l,s),Xe.maybeEmbedVersionInfo(a,s),Xe.embedDataBits(t,l,s)}static embedBasicPatterns(t,r){Xe.embedPositionDetectionPatternsAndSeparators(r),Xe.embedDarkDotAtLeftBottomCorner(r),Xe.maybeEmbedPositionAdjustmentPatterns(t,r),Xe.embedTimingPatterns(r)}static embedTypeInfo(t,r,a){const l=new se;Xe.makeTypeInfoBits(t,r,l);for(let s=0,u=l.getSize();s<u;++s){const c=l.get(l.getSize()-1-s),h=Xe.TYPE_INFO_COORDINATES[s],x=h[0],w=h[1];if(a.setBoolean(x,w,c),s<8){const v=a.getWidth()-s-1;a.setBoolean(v,8,c)}else{const T=a.getHeight()-7+(s-8);a.setBoolean(8,T,c)}}}static maybeEmbedVersionInfo(t,r){if(t.getVersionNumber()<7)return;const a=new se;Xe.makeVersionInfoBits(t,a);let l=17;for(let s=0;s<6;++s)for(let u=0;u<3;++u){const c=a.get(l);l--,r.setBoolean(s,r.getHeight()-11+u,c),r.setBoolean(r.getHeight()-11+u,s,c)}}static embedDataBits(t,r,a){let l=0,s=-1,u=a.getWidth()-1,c=a.getHeight()-1;for(;u>0;){for(u===6&&(u-=1);c>=0&&c<a.getHeight();){for(let h=0;h<2;++h){const x=u-h;if(!Xe.isEmpty(a.get(x,c)))continue;let w;l<t.getSize()?(w=t.get(l),++l):w=!1,r!==255&&Wt.getDataMaskBit(r,x,c)&&(w=!w),a.setBoolean(x,c,w)}c+=s}s=-s,c+=s,u-=2}if(l!==t.getSize())throw new Tt("Not all bits consumed: "+l+"/"+t.getSize())}static findMSBSet(t){return 32-X.numberOfLeadingZeros(t)}static calculateBCHCode(t,r){if(r===0)throw new I("0 polynomial");const a=Xe.findMSBSet(r);for(t<<=a-1;Xe.findMSBSet(t)>=a;)t^=r<<Xe.findMSBSet(t)-a;return t}static makeTypeInfoBits(t,r,a){if(!Qr.isValidMaskPattern(r))throw new Tt("Invalid mask pattern");const l=t.getBits()<<3|r;a.appendBits(l,5);const s=Xe.calculateBCHCode(l,Xe.TYPE_INFO_POLY);a.appendBits(s,10);const u=new se;if(u.appendBits(Xe.TYPE_INFO_MASK_PATTERN,15),a.xor(u),a.getSize()!==15)throw new Tt("should not happen but we got: "+a.getSize())}static makeVersionInfoBits(t,r){r.appendBits(t.getVersionNumber(),6);const a=Xe.calculateBCHCode(t.getVersionNumber(),Xe.VERSION_INFO_POLY);if(r.appendBits(a,12),r.getSize()!==18)throw new Tt("should not happen but we got: "+r.getSize())}static isEmpty(t){return t===255}static embedTimingPatterns(t){for(let r=8;r<t.getWidth()-8;++r){const a=(r+1)%2;Xe.isEmpty(t.get(r,6))&&t.setNumber(r,6,a),Xe.isEmpty(t.get(6,r))&&t.setNumber(6,r,a)}}static embedDarkDotAtLeftBottomCorner(t){if(t.get(8,t.getHeight()-8)===0)throw new Tt;t.setNumber(8,t.getHeight()-8,1)}static embedHorizontalSeparationPattern(t,r,a){for(let l=0;l<8;++l){if(!Xe.isEmpty(a.get(t+l,r)))throw new Tt;a.setNumber(t+l,r,0)}}static embedVerticalSeparationPattern(t,r,a){for(let l=0;l<7;++l){if(!Xe.isEmpty(a.get(t,r+l)))throw new Tt;a.setNumber(t,r+l,0)}}static embedPositionAdjustmentPattern(t,r,a){for(let l=0;l<5;++l){const s=Xe.POSITION_ADJUSTMENT_PATTERN[l];for(let u=0;u<5;++u)a.setNumber(t+u,r+l,s[u])}}static embedPositionDetectionPattern(t,r,a){for(let l=0;l<7;++l){const s=Xe.POSITION_DETECTION_PATTERN[l];for(let u=0;u<7;++u)a.setNumber(t+u,r+l,s[u])}}static embedPositionDetectionPatternsAndSeparators(t){const r=Xe.POSITION_DETECTION_PATTERN[0].length;Xe.embedPositionDetectionPattern(0,0,t),Xe.embedPositionDetectionPattern(t.getWidth()-r,0,t),Xe.embedPositionDetectionPattern(0,t.getWidth()-r,t);const a=8;Xe.embedHorizontalSeparationPattern(0,a-1,t),Xe.embedHorizontalSeparationPattern(t.getWidth()-a,a-1,t),Xe.embedHorizontalSeparationPattern(0,t.getWidth()-a,t);const l=7;Xe.embedVerticalSeparationPattern(l,0,t),Xe.embedVerticalSeparationPattern(t.getHeight()-l-1,0,t),Xe.embedVerticalSeparationPattern(l,t.getHeight()-l,t)}static maybeEmbedPositionAdjustmentPatterns(t,r){if(t.getVersionNumber()<2)return;const a=t.getVersionNumber()-1,l=Xe.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE[a];for(let s=0,u=l.length;s!==u;s++){const c=l[s];if(c>=0)for(let h=0;h!==u;h++){const x=l[h];x>=0&&Xe.isEmpty(r.get(x,c))&&Xe.embedPositionAdjustmentPattern(x-2,c-2,r)}}}}Xe.POSITION_DETECTION_PATTERN=Array.from([Int32Array.from([1,1,1,1,1,1,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,1,1,1,1,1,1])]),Xe.POSITION_ADJUSTMENT_PATTERN=Array.from([Int32Array.from([1,1,1,1,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,0,1,0,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,1,1,1,1])]),Xe.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE=Array.from([Int32Array.from([-1,-1,-1,-1,-1,-1,-1]),Int32Array.from([6,18,-1,-1,-1,-1,-1]),Int32Array.from([6,22,-1,-1,-1,-1,-1]),Int32Array.from([6,26,-1,-1,-1,-1,-1]),Int32Array.from([6,30,-1,-1,-1,-1,-1]),Int32Array.from([6,34,-1,-1,-1,-1,-1]),Int32Array.from([6,22,38,-1,-1,-1,-1]),Int32Array.from([6,24,42,-1,-1,-1,-1]),Int32Array.from([6,26,46,-1,-1,-1,-1]),Int32Array.from([6,28,50,-1,-1,-1,-1]),Int32Array.from([6,30,54,-1,-1,-1,-1]),Int32Array.from([6,32,58,-1,-1,-1,-1]),Int32Array.from([6,34,62,-1,-1,-1,-1]),Int32Array.from([6,26,46,66,-1,-1,-1]),Int32Array.from([6,26,48,70,-1,-1,-1]),Int32Array.from([6,26,50,74,-1,-1,-1]),Int32Array.from([6,30,54,78,-1,-1,-1]),Int32Array.from([6,30,56,82,-1,-1,-1]),Int32Array.from([6,30,58,86,-1,-1,-1]),Int32Array.from([6,34,62,90,-1,-1,-1]),Int32Array.from([6,28,50,72,94,-1,-1]),Int32Array.from([6,26,50,74,98,-1,-1]),Int32Array.from([6,30,54,78,102,-1,-1]),Int32Array.from([6,28,54,80,106,-1,-1]),Int32Array.from([6,32,58,84,110,-1,-1]),Int32Array.from([6,30,58,86,114,-1,-1]),Int32Array.from([6,34,62,90,118,-1,-1]),Int32Array.from([6,26,50,74,98,122,-1]),Int32Array.from([6,30,54,78,102,126,-1]),Int32Array.from([6,26,52,78,104,130,-1]),Int32Array.from([6,30,56,82,108,134,-1]),Int32Array.from([6,34,60,86,112,138,-1]),Int32Array.from([6,30,58,86,114,142,-1]),Int32Array.from([6,34,62,90,118,146,-1]),Int32Array.from([6,30,54,78,102,126,150]),Int32Array.from([6,24,50,76,102,128,154]),Int32Array.from([6,28,54,80,106,132,158]),Int32Array.from([6,32,58,84,110,136,162]),Int32Array.from([6,26,54,82,110,138,166]),Int32Array.from([6,30,58,86,114,142,170])]),Xe.TYPE_INFO_COORDINATES=Array.from([Int32Array.from([8,0]),Int32Array.from([8,1]),Int32Array.from([8,2]),Int32Array.from([8,3]),Int32Array.from([8,4]),Int32Array.from([8,5]),Int32Array.from([8,7]),Int32Array.from([8,8]),Int32Array.from([7,8]),Int32Array.from([5,8]),Int32Array.from([4,8]),Int32Array.from([3,8]),Int32Array.from([2,8]),Int32Array.from([1,8]),Int32Array.from([0,8])]),Xe.VERSION_INFO_POLY=7973,Xe.TYPE_INFO_POLY=1335,Xe.TYPE_INFO_MASK_PATTERN=21522;class au{constructor(t,r){this.dataBytes=t,this.errorCorrectionBytes=r}getDataBytes(){return this.dataBytes}getErrorCorrectionBytes(){return this.errorCorrectionBytes}}class jt{constructor(){}static calculateMaskPenalty(t){return Wt.applyMaskPenaltyRule1(t)+Wt.applyMaskPenaltyRule2(t)+Wt.applyMaskPenaltyRule3(t)+Wt.applyMaskPenaltyRule4(t)}static encode(t,r,a=null){let l=jt.DEFAULT_BYTE_MODE_ENCODING;const s=a!==null&&a.get(un.CHARACTER_SET)!==void 0;s&&(l=a.get(un.CHARACTER_SET).toString());const u=this.chooseMode(t,l),c=new se;if(u===He.BYTE&&(s||jt.DEFAULT_BYTE_MODE_ENCODING!==l)){const ve=ce.getCharacterSetECIByName(l);ve!==void 0&&this.appendECI(ve,c)}this.appendModeInfo(u,c);const h=new se;this.appendBytes(t,u,h,l);let x;if(a!==null&&a.get(un.QR_VERSION)!==void 0){const ve=Number.parseInt(a.get(un.QR_VERSION).toString(),10);x=ke.getVersionForNumber(ve);const be=this.calculateBitsNeeded(u,c,h,x);if(!this.willFit(be,x,r))throw new Tt("Data too big for requested version")}else x=this.recommendVersion(r,u,c,h);const w=new se;w.appendBitArray(c);const v=u===He.BYTE?h.getSizeInBytes():t.length;this.appendLengthInfo(v,x,u,w),w.appendBitArray(h);const T=x.getECBlocksForLevel(r),B=x.getTotalCodewords()-T.getTotalECCodewords();this.terminateBits(B,w);const j=this.interleaveWithECBytes(w,x.getTotalCodewords(),B,T.getNumBlocks()),H=new Qr;H.setECLevel(r),H.setMode(u),H.setVersion(x);const K=x.getDimensionForVersion(),fe=new Fi(K,K),Te=this.chooseMaskPattern(j,r,x,fe);return H.setMaskPattern(Te),Xe.buildMatrix(j,r,x,Te,fe),H.setMatrix(fe),H}static recommendVersion(t,r,a,l){const s=this.calculateBitsNeeded(r,a,l,ke.getVersionForNumber(1)),u=this.chooseVersion(s,t),c=this.calculateBitsNeeded(r,a,l,u);return this.chooseVersion(c,t)}static calculateBitsNeeded(t,r,a,l){return r.getSize()+t.getCharacterCountBits(l)+a.getSize()}static getAlphanumericCode(t){return t<jt.ALPHANUMERIC_TABLE.length?jt.ALPHANUMERIC_TABLE[t]:-1}static chooseMode(t,r=null){if(ce.SJIS.getName()===r&&this.isOnlyDoubleByteKanji(t))return He.KANJI;let a=!1,l=!1;for(let s=0,u=t.length;s<u;++s){const c=t.charAt(s);if(jt.isDigit(c))a=!0;else if(this.getAlphanumericCode(c.charCodeAt(0))!==-1)l=!0;else return He.BYTE}return l?He.ALPHANUMERIC:a?He.NUMERIC:He.BYTE}static isOnlyDoubleByteKanji(t){let r;try{r=qe.encode(t,ce.SJIS)}catch{return!1}const a=r.length;if(a%2!==0)return!1;for(let l=0;l<a;l+=2){const s=r[l]&255;if((s<129||s>159)&&(s<224||s>235))return!1}return!0}static chooseMaskPattern(t,r,a,l){let s=Number.MAX_SAFE_INTEGER,u=-1;for(let c=0;c<Qr.NUM_MASK_PATTERNS;c++){Xe.buildMatrix(t,r,a,c,l);let h=this.calculateMaskPenalty(l);h<s&&(s=h,u=c)}return u}static chooseVersion(t,r){for(let a=1;a<=40;a++){const l=ke.getVersionForNumber(a);if(jt.willFit(t,l,r))return l}throw new Tt("Data too big")}static willFit(t,r,a){const l=r.getTotalCodewords(),u=r.getECBlocksForLevel(a).getTotalECCodewords(),c=l-u,h=(t+7)/8;return c>=h}static terminateBits(t,r){const a=t*8;if(r.getSize()>a)throw new Tt("data bits cannot fit in the QR Code"+r.getSize()+" > "+a);for(let u=0;u<4&&r.getSize()<a;++u)r.appendBit(!1);const l=r.getSize()&7;if(l>0)for(let u=l;u<8;u++)r.appendBit(!1);const s=t-r.getSizeInBytes();for(let u=0;u<s;++u)r.appendBits((u&1)===0?236:17,8);if(r.getSize()!==a)throw new Tt("Bits size does not equal capacity")}static getNumDataBytesAndNumECBytesForBlockID(t,r,a,l,s,u){if(l>=a)throw new Tt("Block ID too large");const c=t%a,h=a-c,x=Math.floor(t/a),w=x+1,v=Math.floor(r/a),T=v+1,B=x-v,j=w-T;if(B!==j)throw new Tt("EC bytes mismatch");if(a!==h+c)throw new Tt("RS blocks mismatch");if(t!==(v+B)*h+(T+j)*c)throw new Tt("Total bytes mismatch");l<h?(s[0]=v,u[0]=B):(s[0]=T,u[0]=j)}static interleaveWithECBytes(t,r,a,l){if(t.getSizeInBytes()!==a)throw new Tt("Number of bits and data bytes does not match");let s=0,u=0,c=0;const h=new Array;for(let w=0;w<l;++w){const v=new Int32Array(1),T=new Int32Array(1);jt.getNumDataBytesAndNumECBytesForBlockID(r,a,l,w,v,T);const B=v[0],j=new Uint8Array(B);t.toBytes(8*s,j,0,B);const H=jt.generateECBytes(j,T[0]);h.push(new au(j,H)),u=Math.max(u,B),c=Math.max(c,H.length),s+=v[0]}if(a!==s)throw new Tt("Data bytes does not match offset");const x=new se;for(let w=0;w<u;++w)for(const v of h){const T=v.getDataBytes();w<T.length&&x.appendBits(T[w],8)}for(let w=0;w<c;++w)for(const v of h){const T=v.getErrorCorrectionBytes();w<T.length&&x.appendBits(T[w],8)}if(r!==x.getSizeInBytes())throw new Tt("Interleaving error: "+r+" and "+x.getSizeInBytes()+" differ.");return x}static generateECBytes(t,r){const a=t.length,l=new Int32Array(a+r);for(let u=0;u<a;u++)l[u]=t[u]&255;new ui(Ue.QR_CODE_FIELD_256).encode(l,r);const s=new Uint8Array(r);for(let u=0;u<r;u++)s[u]=l[a+u];return s}static appendModeInfo(t,r){r.appendBits(t.getBits(),4)}static appendLengthInfo(t,r,a,l){const s=a.getCharacterCountBits(r);if(t>=1<<s)throw new Tt(t+" is bigger than "+((1<<s)-1));l.appendBits(t,s)}static appendBytes(t,r,a,l){switch(r){case He.NUMERIC:jt.appendNumericBytes(t,a);break;case He.ALPHANUMERIC:jt.appendAlphanumericBytes(t,a);break;case He.BYTE:jt.append8BitBytes(t,a,l);break;case He.KANJI:jt.appendKanjiBytes(t,a);break;default:throw new Tt("Invalid mode: "+r)}}static getDigit(t){return t.charCodeAt(0)-48}static isDigit(t){const r=jt.getDigit(t);return r>=0&&r<=9}static appendNumericBytes(t,r){const a=t.length;let l=0;for(;l<a;){const s=jt.getDigit(t.charAt(l));if(l+2<a){const u=jt.getDigit(t.charAt(l+1)),c=jt.getDigit(t.charAt(l+2));r.appendBits(s*100+u*10+c,10),l+=3}else if(l+1<a){const u=jt.getDigit(t.charAt(l+1));r.appendBits(s*10+u,7),l+=2}else r.appendBits(s,4),l++}}static appendAlphanumericBytes(t,r){const a=t.length;let l=0;for(;l<a;){const s=jt.getAlphanumericCode(t.charCodeAt(l));if(s===-1)throw new Tt;if(l+1<a){const u=jt.getAlphanumericCode(t.charCodeAt(l+1));if(u===-1)throw new Tt;r.appendBits(s*45+u,11),l+=2}else r.appendBits(s,6),l++}}static append8BitBytes(t,r,a){let l;try{l=qe.encode(t,a)}catch(s){throw new Tt(s)}for(let s=0,u=l.length;s!==u;s++){const c=l[s];r.appendBits(c,8)}}static appendKanjiBytes(t,r){let a;try{a=qe.encode(t,ce.SJIS)}catch(s){throw new Tt(s)}const l=a.length;for(let s=0;s<l;s+=2){const u=a[s]&255,c=a[s+1]&255,h=u<<8&4294967295|c;let x=-1;if(h>=33088&&h<=40956?x=h-33088:h>=57408&&h<=60351&&(x=h-49472),x===-1)throw new Tt("Invalid byte sequence");const w=(x>>8)*192+(x&255);r.appendBits(w,13)}}static appendECI(t,r){r.appendBits(He.ECI.getBits(),4),r.appendBits(t.getValue(),8)}}jt.ALPHANUMERIC_TABLE=Int32Array.from([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,36,-1,-1,-1,37,38,-1,-1,-1,-1,39,40,-1,41,42,43,0,1,2,3,4,5,6,7,8,9,44,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,-1,-1,-1,-1,-1]),jt.DEFAULT_BYTE_MODE_ENCODING=ce.UTF8.getName();class Wr{write(t,r,a,l=null){if(t.length===0)throw new I("Found empty contents");if(r<0||a<0)throw new I("Requested dimensions are too small: "+r+"x"+a);let s=lt.L,u=Wr.QUIET_ZONE_SIZE;l!==null&&(l.get(un.ERROR_CORRECTION)!==void 0&&(s=lt.fromString(l.get(un.ERROR_CORRECTION).toString())),l.get(un.MARGIN)!==void 0&&(u=Number.parseInt(l.get(un.MARGIN).toString(),10)));const c=jt.encode(t,s,l);return this.renderResult(c,r,a,u)}writeToDom(t,r,a,l,s=null){typeof t=="string"&&(t=document.querySelector(t));const u=this.write(r,a,l,s);t&&t.appendChild(u)}renderResult(t,r,a,l){const s=t.getMatrix();if(s===null)throw new Dt;const u=s.getWidth(),c=s.getHeight(),h=u+l*2,x=c+l*2,w=Math.max(r,h),v=Math.max(a,x),T=Math.min(Math.floor(w/h),Math.floor(v/x)),B=Math.floor((w-u*T)/2),j=Math.floor((v-c*T)/2),H=this.createSVGElement(w,v);for(let K=0,fe=j;K<c;K++,fe+=T)for(let Te=0,ve=B;Te<u;Te++,ve+=T)if(s.get(Te,K)===1){const be=this.createSvgRectElement(ve,fe,T,T);H.appendChild(be)}return H}createSVGElement(t,r){const a=document.createElementNS(Wr.SVG_NS,"svg");return a.setAttributeNS(null,"height",t.toString()),a.setAttributeNS(null,"width",r.toString()),a}createSvgRectElement(t,r,a,l){const s=document.createElementNS(Wr.SVG_NS,"rect");return s.setAttributeNS(null,"x",t.toString()),s.setAttributeNS(null,"y",r.toString()),s.setAttributeNS(null,"height",a.toString()),s.setAttributeNS(null,"width",l.toString()),s.setAttributeNS(null,"fill","#000000"),s}}Wr.QUIET_ZONE_SIZE=4,Wr.SVG_NS="http://www.w3.org/2000/svg";class Oa{encode(t,r,a,l,s){if(t.length===0)throw new I("Found empty contents");if(r!==ie.QR_CODE)throw new I("Can only encode QR_CODE, but got "+r);if(a<0||l<0)throw new I(`Requested dimensions are too small: ${a}x${l}`);let u=lt.L,c=Oa.QUIET_ZONE_SIZE;s!==null&&(s.get(un.ERROR_CORRECTION)!==void 0&&(u=lt.fromString(s.get(un.ERROR_CORRECTION).toString())),s.get(un.MARGIN)!==void 0&&(c=Number.parseInt(s.get(un.MARGIN).toString(),10)));const h=jt.encode(t,u,s);return Oa.renderResult(h,a,l,c)}static renderResult(t,r,a,l){const s=t.getMatrix();if(s===null)throw new Dt;const u=s.getWidth(),c=s.getHeight(),h=u+l*2,x=c+l*2,w=Math.max(r,h),v=Math.max(a,x),T=Math.min(Math.floor(w/h),Math.floor(v/x)),B=Math.floor((w-u*T)/2),j=Math.floor((v-c*T)/2),H=new _e(w,v);for(let K=0,fe=j;K<c;K++,fe+=T)for(let Te=0,ve=B;Te<u;Te++,ve+=T)s.get(Te,K)===1&&H.setRegion(ve,fe,T,T);return H}}Oa.QUIET_ZONE_SIZE=4;class iu{encode(t,r,a,l,s){let u;if(r===ie.QR_CODE)u=new Oa;else throw new I("No encoder available for format "+r);return u.encode(t,r,a,l,s)}}class xr extends we{constructor(t,r,a,l,s,u,c,h){if(super(u,c),this.yuvData=t,this.dataWidth=r,this.dataHeight=a,this.left=l,this.top=s,l+u>r||s+c>a)throw new I("Crop rectangle does not fit within image data.");h&&this.reverseHorizontal(u,c)}getRow(t,r){if(t<0||t>=this.getHeight())throw new I("Requested row is outside the image: "+t);const a=this.getWidth();(r==null||r.length<a)&&(r=new Uint8ClampedArray(a));const l=(t+this.top)*this.dataWidth+this.left;return te.arraycopy(this.yuvData,l,r,0,a),r}getMatrix(){const t=this.getWidth(),r=this.getHeight();if(t===this.dataWidth&&r===this.dataHeight)return this.yuvData;const a=t*r,l=new Uint8ClampedArray(a);let s=this.top*this.dataWidth+this.left;if(t===this.dataWidth)return te.arraycopy(this.yuvData,s,l,0,a),l;for(let u=0;u<r;u++){const c=u*t;te.arraycopy(this.yuvData,s,l,c,t),s+=this.dataWidth}return l}isCropSupported(){return!0}crop(t,r,a,l){return new xr(this.yuvData,this.dataWidth,this.dataHeight,this.left+t,this.top+r,a,l,!1)}renderThumbnail(){const t=this.getWidth()/xr.THUMBNAIL_SCALE_FACTOR,r=this.getHeight()/xr.THUMBNAIL_SCALE_FACTOR,a=new Int32Array(t*r),l=this.yuvData;let s=this.top*this.dataWidth+this.left;for(let u=0;u<r;u++){const c=u*t;for(let h=0;h<t;h++){const x=l[s+h*xr.THUMBNAIL_SCALE_FACTOR]&255;a[c+h]=4278190080|x*65793}s+=this.dataWidth*xr.THUMBNAIL_SCALE_FACTOR}return a}getThumbnailWidth(){return this.getWidth()/xr.THUMBNAIL_SCALE_FACTOR}getThumbnailHeight(){return this.getHeight()/xr.THUMBNAIL_SCALE_FACTOR}reverseHorizontal(t,r){const a=this.yuvData;for(let l=0,s=this.top*this.dataWidth+this.left;l<r;l++,s+=this.dataWidth){const u=s+t/2;for(let c=s,h=s+t-1;c<u;c++,h--){const x=a[c];a[c]=a[h],a[h]=x}}}invert(){return new Oe(this)}}xr.THUMBNAIL_SCALE_FACTOR=2;class Rl extends we{constructor(t,r,a,l,s,u,c){if(super(r,a),this.dataWidth=l,this.dataHeight=s,this.left=u,this.top=c,t.BYTES_PER_ELEMENT===4){const h=r*a,x=new Uint8ClampedArray(h);for(let w=0;w<h;w++){const v=t[w],T=v>>16&255,B=v>>7&510,j=v&255;x[w]=(T+B+j)/4&255}this.luminances=x}else this.luminances=t;if(l===void 0&&(this.dataWidth=r),s===void 0&&(this.dataHeight=a),u===void 0&&(this.left=0),c===void 0&&(this.top=0),this.left+r>this.dataWidth||this.top+a>this.dataHeight)throw new I("Crop rectangle does not fit within image data.")}getRow(t,r){if(t<0||t>=this.getHeight())throw new I("Requested row is outside the image: "+t);const a=this.getWidth();(r==null||r.length<a)&&(r=new Uint8ClampedArray(a));const l=(t+this.top)*this.dataWidth+this.left;return te.arraycopy(this.luminances,l,r,0,a),r}getMatrix(){const t=this.getWidth(),r=this.getHeight();if(t===this.dataWidth&&r===this.dataHeight)return this.luminances;const a=t*r,l=new Uint8ClampedArray(a);let s=this.top*this.dataWidth+this.left;if(t===this.dataWidth)return te.arraycopy(this.luminances,s,l,0,a),l;for(let u=0;u<r;u++){const c=u*t;te.arraycopy(this.luminances,s,l,c,t),s+=this.dataWidth}return l}isCropSupported(){return!0}crop(t,r,a,l){return new Rl(this.luminances,a,l,this.dataWidth,this.dataHeight,this.left+t,this.top+r)}invert(){return new Oe(this)}}class Rs extends ce{static forName(t){return this.getCharacterSetECIByName(t)}}class ci{}ci.ISO_8859_1=ce.ISO8859_1;class _a{isCompact(){return this.compact}setCompact(t){this.compact=t}getSize(){return this.size}setSize(t){this.size=t}getLayers(){return this.layers}setLayers(t){this.layers=t}getCodeWords(){return this.codeWords}setCodeWords(t){this.codeWords=t}getMatrix(){return this.matrix}setMatrix(t){this.matrix=t}}class Os{static singletonList(t){return[t]}static min(t,r){return t.sort(r)[0]}}class _s{constructor(t){this.previous=t}getPrevious(){return this.previous}}class Kr extends _s{constructor(t,r,a){super(t),this.value=r,this.bitCount=a}appendTo(t,r){t.appendBits(this.value,this.bitCount)}add(t,r){return new Kr(this,t,r)}addBinaryShift(t,r){return console.warn("addBinaryShift on SimpleToken, this simply returns a copy of this token"),new Kr(this,t,r)}toString(){let t=this.value&(1<<this.bitCount)-1;return t|=1<<this.bitCount,"<"+X.toBinaryString(t|1<<this.bitCount).substring(1)+">"}}class zi extends Kr{constructor(t,r,a){super(t,0,0),this.binaryShiftStart=r,this.binaryShiftByteCount=a}appendTo(t,r){for(let a=0;a<this.binaryShiftByteCount;a++)(a===0||a===31&&this.binaryShiftByteCount<=62)&&(t.appendBits(31,5),this.binaryShiftByteCount>62?t.appendBits(this.binaryShiftByteCount-31,16):a===0?t.appendBits(Math.min(this.binaryShiftByteCount,31),5):t.appendBits(this.binaryShiftByteCount-31,5)),t.appendBits(r[this.binaryShiftStart+a],8)}addBinaryShift(t,r){return new zi(this,t,r)}toString(){return"<"+this.binaryShiftStart+"::"+(this.binaryShiftStart+this.binaryShiftByteCount-1)+">"}}function Is(C,t,r){return new zi(C,t,r)}function Ia(C,t,r){return new Kr(C,t,r)}const Da=["UPPER","LOWER","DIGIT","MIXED","PUNCT"],Pr=0,ji=1,Xn=2,Ol=3,rr=4,fi=new Kr(null,0,0),Jr=[Int32Array.from([0,(5<<16)+28,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(9<<16)+480+14,0,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(4<<16)+14,(9<<16)+448+28,0,(9<<16)+448+29,932798]),Int32Array.from([(5<<16)+29,(5<<16)+28,656318,0,(5<<16)+30]),Int32Array.from([(5<<16)+31,656380,656382,656381,0])];function lu(C){for(let t of C)G.fill(t,-1);return C[Pr][rr]=0,C[ji][rr]=0,C[ji][Pr]=28,C[Ol][rr]=0,C[Xn][rr]=0,C[Xn][Pr]=15,C}const hi=lu(G.createInt32Array(6,6));class ar{constructor(t,r,a,l){this.token=t,this.mode=r,this.binaryShiftByteCount=a,this.bitCount=l}getMode(){return this.mode}getToken(){return this.token}getBinaryShiftByteCount(){return this.binaryShiftByteCount}getBitCount(){return this.bitCount}latchAndAppend(t,r){let a=this.bitCount,l=this.token;if(t!==this.mode){let u=Jr[this.mode][t];l=Ia(l,u&65535,u>>16),a+=u>>16}let s=t===Xn?4:5;return l=Ia(l,r,s),new ar(l,t,0,a+s)}shiftAndAppend(t,r){let a=this.token,l=this.mode===Xn?4:5;return a=Ia(a,hi[this.mode][t],l),a=Ia(a,r,5),new ar(a,this.mode,0,this.bitCount+l+5)}addBinaryShiftChar(t){let r=this.token,a=this.mode,l=this.bitCount;if(this.mode===rr||this.mode===Xn){let c=Jr[a][Pr];r=Ia(r,c&65535,c>>16),l+=c>>16,a=Pr}let s=this.binaryShiftByteCount===0||this.binaryShiftByteCount===31?18:this.binaryShiftByteCount===62?9:8,u=new ar(r,a,this.binaryShiftByteCount+1,l+s);return u.binaryShiftByteCount===2078&&(u=u.endBinaryShift(t+1)),u}endBinaryShift(t){if(this.binaryShiftByteCount===0)return this;let r=this.token;return r=Is(r,t-this.binaryShiftByteCount,this.binaryShiftByteCount),new ar(r,this.mode,0,this.bitCount)}isBetterThanOrEqualTo(t){let r=this.bitCount+(Jr[this.mode][t.mode]>>16);return this.binaryShiftByteCount<t.binaryShiftByteCount?r+=ar.calculateBinaryShiftCost(t)-ar.calculateBinaryShiftCost(this):this.binaryShiftByteCount>t.binaryShiftByteCount&&t.binaryShiftByteCount>0&&(r+=10),r<=t.bitCount}toBitArray(t){let r=[];for(let l=this.endBinaryShift(t.length).token;l!==null;l=l.getPrevious())r.unshift(l);let a=new se;for(const l of r)l.appendTo(a,t);return a}toString(){return de.format("%s bits=%d bytes=%d",Da[this.mode],this.bitCount,this.binaryShiftByteCount)}static calculateBinaryShiftCost(t){return t.binaryShiftByteCount>62?21:t.binaryShiftByteCount>31?20:t.binaryShiftByteCount>0?10:0}}ar.INITIAL_STATE=new ar(fi,Pr,0,0);function Ds(C){const t=de.getCharCode(" "),r=de.getCharCode("."),a=de.getCharCode(",");C[Pr][t]=1;const l=de.getCharCode("Z"),s=de.getCharCode("A");for(let T=s;T<=l;T++)C[Pr][T]=T-s+2;C[ji][t]=1;const u=de.getCharCode("z"),c=de.getCharCode("a");for(let T=c;T<=u;T++)C[ji][T]=T-c+2;C[Xn][t]=1;const h=de.getCharCode("9"),x=de.getCharCode("0");for(let T=x;T<=h;T++)C[Xn][T]=T-x+2;C[Xn][a]=12,C[Xn][r]=13;const w=["\0"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~",""];for(let T=0;T<w.length;T++)C[Ol][de.getCharCode(w[T])]=T;const v=["\0","\r","\0","\0","\0","\0","!","'","#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}"];for(let T=0;T<v.length;T++)de.getCharCode(v[T])>0&&(C[rr][de.getCharCode(v[T])]=T);return C}const di=Ds(G.createInt32Array(5,256));class $r{constructor(t){this.text=t}encode(){const t=de.getCharCode(" "),r=de.getCharCode(`
`);let a=Os.singletonList(ar.INITIAL_STATE);for(let s=0;s<this.text.length;s++){let u,c=s+1<this.text.length?this.text[s+1]:0;switch(this.text[s]){case de.getCharCode("\r"):u=c===r?2:0;break;case de.getCharCode("."):u=c===t?3:0;break;case de.getCharCode(","):u=c===t?4:0;break;case de.getCharCode(":"):u=c===t?5:0;break;default:u=0}u>0?(a=$r.updateStateListForPair(a,s,u),s++):a=this.updateStateListForChar(a,s)}return Os.min(a,(s,u)=>s.getBitCount()-u.getBitCount()).toBitArray(this.text)}updateStateListForChar(t,r){const a=[];for(let l of t)this.updateStateForChar(l,r,a);return $r.simplifyStates(a)}updateStateForChar(t,r,a){let l=this.text[r]&255,s=di[t.getMode()][l]>0,u=null;for(let c=0;c<=rr;c++){let h=di[c][l];if(h>0){if(u==null&&(u=t.endBinaryShift(r)),!s||c===t.getMode()||c===Xn){const x=u.latchAndAppend(c,h);a.push(x)}if(!s&&hi[t.getMode()][c]>=0){const x=u.shiftAndAppend(c,h);a.push(x)}}}if(t.getBinaryShiftByteCount()>0||di[t.getMode()][l]===0){let c=t.addBinaryShiftChar(r);a.push(c)}}static updateStateListForPair(t,r,a){const l=[];for(let s of t)this.updateStateForPair(s,r,a,l);return this.simplifyStates(l)}static updateStateForPair(t,r,a,l){let s=t.endBinaryShift(r);if(l.push(s.latchAndAppend(rr,a)),t.getMode()!==rr&&l.push(s.shiftAndAppend(rr,a)),a===3||a===4){let u=s.latchAndAppend(Xn,16-a).latchAndAppend(Xn,1);l.push(u)}if(t.getBinaryShiftByteCount()>0){let u=t.addBinaryShiftChar(r).addBinaryShiftChar(r+1);l.push(u)}}static simplifyStates(t){let r=[];for(const a of t){let l=!0;for(const s of r){if(s.isBetterThanOrEqualTo(a)){l=!1;break}a.isBetterThanOrEqualTo(s)&&(r=r.filter(u=>u!==s))}l&&r.push(a)}return r}}class ht{constructor(){}static encodeBytes(t){return ht.encode(t,ht.DEFAULT_EC_PERCENT,ht.DEFAULT_AZTEC_LAYERS)}static encode(t,r,a){let l=new $r(t).encode(),s=X.truncDivision(l.getSize()*r,100)+11,u=l.getSize()+s,c,h,x,w,v;if(a!==ht.DEFAULT_AZTEC_LAYERS){if(c=a<0,h=Math.abs(a),h>(c?ht.MAX_NB_BITS_COMPACT:ht.MAX_NB_BITS))throw new I(de.format("Illegal value %s for layers",a));x=ht.totalBitsInLayer(h,c),w=ht.WORD_SIZE[h];let be=x-x%w;if(v=ht.stuffBits(l,w),v.getSize()+s>be)throw new I("Data to large for user specified layer");if(c&&v.getSize()>w*64)throw new I("Data to large for user specified layer")}else{w=0,v=null;for(let be=0;;be++){if(be>ht.MAX_NB_BITS)throw new I("Data too large for an Aztec code");if(c=be<=3,h=c?be+1:be,x=ht.totalBitsInLayer(h,c),u>x)continue;(v==null||w!==ht.WORD_SIZE[h])&&(w=ht.WORD_SIZE[h],v=ht.stuffBits(l,w));let it=x-x%w;if(!(c&&v.getSize()>w*64)&&v.getSize()+s<=it)break}}let T=ht.generateCheckWords(v,x,w),B=v.getSize()/w,j=ht.generateModeMessage(c,h,B),H=(c?11:14)+h*4,K=new Int32Array(H),fe;if(c){fe=H;for(let be=0;be<K.length;be++)K[be]=be}else{fe=H+1+2*X.truncDivision(X.truncDivision(H,2)-1,15);let be=X.truncDivision(H,2),it=X.truncDivision(fe,2);for(let $e=0;$e<be;$e++){let nn=$e+X.truncDivision($e,15);K[be-$e-1]=it-nn-1,K[be+$e]=it+nn+1}}let Te=new _e(fe);for(let be=0,it=0;be<h;be++){let $e=(h-be)*4+(c?9:12);for(let nn=0;nn<$e;nn++){let Yn=nn*2;for(let Tn=0;Tn<2;Tn++)T.get(it+Yn+Tn)&&Te.set(K[be*2+Tn],K[be*2+nn]),T.get(it+$e*2+Yn+Tn)&&Te.set(K[be*2+nn],K[H-1-be*2-Tn]),T.get(it+$e*4+Yn+Tn)&&Te.set(K[H-1-be*2-Tn],K[H-1-be*2-nn]),T.get(it+$e*6+Yn+Tn)&&Te.set(K[H-1-be*2-nn],K[be*2+Tn])}it+=$e*8}if(ht.drawModeMessage(Te,c,fe,j),c)ht.drawBullsEye(Te,X.truncDivision(fe,2),5);else{ht.drawBullsEye(Te,X.truncDivision(fe,2),7);for(let be=0,it=0;be<X.truncDivision(H,2)-1;be+=15,it+=16)for(let $e=X.truncDivision(fe,2)&1;$e<fe;$e+=2)Te.set(X.truncDivision(fe,2)-it,$e),Te.set(X.truncDivision(fe,2)+it,$e),Te.set($e,X.truncDivision(fe,2)-it),Te.set($e,X.truncDivision(fe,2)+it)}let ve=new _a;return ve.setCompact(c),ve.setSize(fe),ve.setLayers(h),ve.setCodeWords(B),ve.setMatrix(Te),ve}static drawBullsEye(t,r,a){for(let l=0;l<a;l+=2)for(let s=r-l;s<=r+l;s++)t.set(s,r-l),t.set(s,r+l),t.set(r-l,s),t.set(r+l,s);t.set(r-a,r-a),t.set(r-a+1,r-a),t.set(r-a,r-a+1),t.set(r+a,r-a),t.set(r+a,r-a+1),t.set(r+a,r+a-1)}static generateModeMessage(t,r,a){let l=new se;return t?(l.appendBits(r-1,2),l.appendBits(a-1,6),l=ht.generateCheckWords(l,28,4)):(l.appendBits(r-1,5),l.appendBits(a-1,11),l=ht.generateCheckWords(l,40,4)),l}static drawModeMessage(t,r,a,l){let s=X.truncDivision(a,2);if(r)for(let u=0;u<7;u++){let c=s-3+u;l.get(u)&&t.set(c,s-5),l.get(u+7)&&t.set(s+5,c),l.get(20-u)&&t.set(c,s+5),l.get(27-u)&&t.set(s-5,c)}else for(let u=0;u<10;u++){let c=s-5+u+X.truncDivision(u,5);l.get(u)&&t.set(c,s-7),l.get(u+10)&&t.set(s+7,c),l.get(29-u)&&t.set(c,s+7),l.get(39-u)&&t.set(s-7,c)}}static generateCheckWords(t,r,a){let l=t.getSize()/a,s=new ui(ht.getGF(a)),u=X.truncDivision(r,a),c=ht.bitsToWords(t,a,u);s.encode(c,u-l);let h=r%a,x=new se;x.appendBits(0,h);for(const w of Array.from(c))x.appendBits(w,a);return x}static bitsToWords(t,r,a){let l=new Int32Array(a),s,u;for(s=0,u=t.getSize()/r;s<u;s++){let c=0;for(let h=0;h<r;h++)c|=t.get(s*r+h)?1<<r-h-1:0;l[s]=c}return l}static getGF(t){switch(t){case 4:return Ue.AZTEC_PARAM;case 6:return Ue.AZTEC_DATA_6;case 8:return Ue.AZTEC_DATA_8;case 10:return Ue.AZTEC_DATA_10;case 12:return Ue.AZTEC_DATA_12;default:throw new I("Unsupported word size "+t)}}static stuffBits(t,r){let a=new se,l=t.getSize(),s=(1<<r)-2;for(let u=0;u<l;u+=r){let c=0;for(let h=0;h<r;h++)(u+h>=l||t.get(u+h))&&(c|=1<<r-1-h);(c&s)===s?(a.appendBits(c&s,r),u--):(c&s)===0?(a.appendBits(c|1,r),u--):a.appendBits(c,r)}return a}static totalBitsInLayer(t,r){return((r?88:112)+16*t)*t}}ht.DEFAULT_EC_PERCENT=33,ht.DEFAULT_AZTEC_LAYERS=0,ht.MAX_NB_BITS=32,ht.MAX_NB_BITS_COMPACT=4,ht.WORD_SIZE=Int32Array.from([4,6,6,8,8,8,8,8,8,10,10,10,10,10,10,10,10,10,10,10,10,10,10,12,12,12,12,12,12,12,12,12,12]);class Vi{encode(t,r,a,l){return this.encodeWithHints(t,r,a,l,null)}encodeWithHints(t,r,a,l,s){let u=ci.ISO_8859_1,c=ht.DEFAULT_EC_PERCENT,h=ht.DEFAULT_AZTEC_LAYERS;return s!=null&&(s.has(un.CHARACTER_SET)&&(u=Rs.forName(s.get(un.CHARACTER_SET).toString())),s.has(un.ERROR_CORRECTION)&&(c=X.parseInt(s.get(un.ERROR_CORRECTION).toString())),s.has(un.AZTEC_LAYERS)&&(h=X.parseInt(s.get(un.AZTEC_LAYERS).toString()))),Vi.encodeLayers(t,r,a,l,u,c,h)}static encodeLayers(t,r,a,l,s,u,c){if(r!==ie.AZTEC)throw new I("Can only encode AZTEC, but got "+r);let h=ht.encode(de.getBytes(t,s),u,c);return Vi.renderResult(h,a,l)}static renderResult(t,r,a){let l=t.getMatrix();if(l==null)throw new Dt;let s=l.getWidth(),u=l.getHeight(),c=Math.max(r,s),h=Math.max(a,u),x=Math.min(c/s,h/u),w=(c-s*x)/2,v=(h-u*x)/2,T=new _e(c,h);for(let B=0,j=v;B<u;B++,j+=x)for(let H=0,K=w;H<s;H++,K+=x)l.get(H,B)&&T.setRegion(K,j,x,x);return T}}g.AbstractExpandedDecoder=sn,g.ArgumentException=_,g.ArithmeticException=We,g.AztecCode=_a,g.AztecCodeReader=Oi,g.AztecCodeWriter=Vi,g.AztecDecoder=ct,g.AztecDetector=Al,g.AztecDetectorResult=As,g.AztecEncoder=ht,g.AztecHighLevelEncoder=$r,g.AztecPoint=vn,g.BarcodeFormat=ie,g.Binarizer=ue,g.BinaryBitmap=J,g.BitArray=se,g.BitMatrix=_e,g.BitSource=tr,g.BrowserAztecCodeReader=Jo,g.BrowserBarcodeReader=$o,g.BrowserCodeReader=Y,g.BrowserDatamatrixCodeReader=Di,g.BrowserMultiFormatReader=Ns,g.BrowserPDF417Reader=nu,g.BrowserQRCodeReader=ru,g.BrowserQRCodeSvgWriter=Wr,g.CharacterSetECI=ce,g.ChecksumException=ne,g.Code128Reader=Ne,g.Code39Reader=Bt,g.DataMatrixDecodedBitStreamParser=Tr,g.DataMatrixReader=Nr,g.DecodeHintType=me,g.DecoderResult=Je,g.DefaultGridSampler=pl,g.DetectorResult=Ri,g.EAN13Reader=hr,g.EncodeHintType=un,g.Exception=y,g.FormatException=Q,g.GenericGF=Ue,g.GenericGFPoly=At,g.GlobalHistogramBinarizer=$,g.GridSampler=ml,g.GridSamplerInstance=Jn,g.HTMLCanvasElementLuminanceSource=Ie,g.HybridBinarizer=Ve,g.ITFReader=nt,g.IllegalArgumentException=I,g.IllegalStateException=Dt,g.InvertedLuminanceSource=Oe,g.LuminanceSource=we,g.MathUtils=Qe,g.MultiFormatOneDReader=er,g.MultiFormatReader=Ts,g.MultiFormatWriter=iu,g.NotFoundException=W,g.OneDReader=Pt,g.PDF417DecodedBitStreamParser=he,g.PDF417DecoderErrorCorrection=Or,g.PDF417Reader=yn,g.PDF417ResultMetadata=Ra,g.PerspectiveTransform=Hn,g.PlanarYUVLuminanceSource=xr,g.QRCodeByteMatrix=Fi,g.QRCodeDataMask=kn,g.QRCodeDecodedBitStreamParser=Ft,g.QRCodeDecoderErrorCorrectionLevel=lt,g.QRCodeDecoderFormatInformation=hn,g.QRCodeEncoder=jt,g.QRCodeEncoderQRCode=Qr,g.QRCodeMaskUtil=Wt,g.QRCodeMatrixUtil=Xe,g.QRCodeMode=He,g.QRCodeReader=Rr,g.QRCodeVersion=ke,g.QRCodeWriter=Oa,g.RGBLuminanceSource=Rl,g.RSS14Reader=St,g.RSSExpandedReader=ye,g.ReaderException=Ui,g.ReedSolomonDecoder=jn,g.ReedSolomonEncoder=ui,g.ReedSolomonException=It,g.Result=ae,g.ResultMetadataType=je,g.ResultPoint=Be,g.StringUtils=de,g.UnsupportedOperationException=Ze,g.VideoInputDevice=L,g.WhiteRectangleDetector=Jt,g.WriterException=Tt,g.ZXingArrays=G,g.ZXingCharset=Rs,g.ZXingInteger=X,g.ZXingStandardCharsets=ci,g.ZXingStringBuilder=Re,g.ZXingStringEncoding=qe,g.ZXingSystem=te,g.createAbstractExpandedDecoder=ba,Object.defineProperty(g,"__esModule",{value:!0})}))})(ds,ds.exports)),ds.exports}var qt=$g();const ex=qh(qt),tx=FV({__proto__:null,default:ex},[qt]);var kh=(function(){function V(m,g,p){if(this.formatMap=new Map([[Me.QR_CODE,qt.BarcodeFormat.QR_CODE],[Me.AZTEC,qt.BarcodeFormat.AZTEC],[Me.CODABAR,qt.BarcodeFormat.CODABAR],[Me.CODE_39,qt.BarcodeFormat.CODE_39],[Me.CODE_93,qt.BarcodeFormat.CODE_93],[Me.CODE_128,qt.BarcodeFormat.CODE_128],[Me.DATA_MATRIX,qt.BarcodeFormat.DATA_MATRIX],[Me.MAXICODE,qt.BarcodeFormat.MAXICODE],[Me.ITF,qt.BarcodeFormat.ITF],[Me.EAN_13,qt.BarcodeFormat.EAN_13],[Me.EAN_8,qt.BarcodeFormat.EAN_8],[Me.PDF_417,qt.BarcodeFormat.PDF_417],[Me.RSS_14,qt.BarcodeFormat.RSS_14],[Me.RSS_EXPANDED,qt.BarcodeFormat.RSS_EXPANDED],[Me.UPC_A,qt.BarcodeFormat.UPC_A],[Me.UPC_E,qt.BarcodeFormat.UPC_E],[Me.UPC_EAN_EXTENSION,qt.BarcodeFormat.UPC_EAN_EXTENSION]]),this.reverseFormatMap=this.createReverseFormatMap(),!tx)throw"Use html5qrcode.min.js without edit, ZXing not found.";this.verbose=g,this.logger=p;var b=this.createZXingFormats(m),A=new Map;A.set(qt.DecodeHintType.POSSIBLE_FORMATS,b),A.set(qt.DecodeHintType.TRY_HARDER,!1),this.hints=A}return V.prototype.decodeAsync=function(m){var g=this;return new Promise(function(p,b){try{p(g.decode(m))}catch(A){b(A)}})},V.prototype.decode=function(m){var g=new qt.MultiFormatReader(this.verbose,this.hints),p=new qt.HTMLCanvasElementLuminanceSource(m),b=new qt.BinaryBitmap(new qt.HybridBinarizer(p)),A=g.decode(b);return{text:A.text,format:Ad.create(this.toHtml5QrcodeSupportedFormats(A.format)),debugData:this.createDebugData()}},V.prototype.createReverseFormatMap=function(){var m=new Map;return this.formatMap.forEach(function(g,p,b){m.set(g,p)}),m},V.prototype.toHtml5QrcodeSupportedFormats=function(m){if(!this.reverseFormatMap.has(m))throw"reverseFormatMap doesn't have ".concat(m);return this.reverseFormatMap.get(m)},V.prototype.createZXingFormats=function(m){for(var g=[],p=0,b=m;p<b.length;p++){var A=b[p];this.formatMap.has(A)?g.push(this.formatMap.get(A)):this.logger.logError("".concat(A," is not supported by")+"ZXingHtml5QrcodeShim")}return g},V.prototype.createDebugData=function(){return{decoderName:"zxing-js"}},V})(),nx=function(V,m,g,p){function b(A){return A instanceof g?A:new g(function(S){S(A)})}return new(g||(g=Promise))(function(A,S){function O(_){try{y(p.next(_))}catch(I){S(I)}}function N(_){try{y(p.throw(_))}catch(I){S(I)}}function y(_){_.done?A(_.value):b(_.value).then(O,N)}y((p=p.apply(V,m||[])).next())})},rx=function(V,m){var g={label:0,sent:function(){if(A[0]&1)throw A[1];return A[1]},trys:[],ops:[]},p,b,A,S;return S={next:O(0),throw:O(1),return:O(2)},typeof Symbol=="function"&&(S[Symbol.iterator]=function(){return this}),S;function O(y){return function(_){return N([y,_])}}function N(y){if(p)throw new TypeError("Generator is already executing.");for(;S&&(S=0,y[0]&&(g=0)),g;)try{if(p=1,b&&(A=y[0]&2?b.return:y[0]?b.throw||((A=b.return)&&A.call(b),0):b.next)&&!(A=A.call(b,y[1])).done)return A;switch(b=0,A&&(y=[y[0]&2,A.value]),y[0]){case 0:case 1:A=y;break;case 4:return g.label++,{value:y[1],done:!1};case 5:g.label++,b=y[1],y=[0];continue;case 7:y=g.ops.pop(),g.trys.pop();continue;default:if(A=g.trys,!(A=A.length>0&&A[A.length-1])&&(y[0]===6||y[0]===2)){g=0;continue}if(y[0]===3&&(!A||y[1]>A[0]&&y[1]<A[3])){g.label=y[1];break}if(y[0]===6&&g.label<A[1]){g.label=A[1],A=y;break}if(A&&g.label<A[2]){g.label=A[2],g.ops.push(y);break}A[2]&&g.ops.pop(),g.trys.pop();continue}y=m.call(V,g)}catch(_){y=[6,_],b=0}finally{p=A=0}if(y[0]&5)throw y[1];return{value:y[0]?y[1]:void 0,done:!0}}},Uh=(function(){function V(m,g,p){if(this.formatMap=new Map([[Me.QR_CODE,"qr_code"],[Me.AZTEC,"aztec"],[Me.CODABAR,"codabar"],[Me.CODE_39,"code_39"],[Me.CODE_93,"code_93"],[Me.CODE_128,"code_128"],[Me.DATA_MATRIX,"data_matrix"],[Me.ITF,"itf"],[Me.EAN_13,"ean_13"],[Me.EAN_8,"ean_8"],[Me.PDF_417,"pdf417"],[Me.UPC_A,"upc_a"],[Me.UPC_E,"upc_e"]]),this.reverseFormatMap=this.createReverseFormatMap(),!V.isSupported())throw"Use html5qrcode.min.js without edit, Use BarcodeDetectorDelegate only if it isSupported();";this.verbose=g,this.logger=p;var b=this.createBarcodeDetectorFormats(m);if(this.detector=new BarcodeDetector(b),!this.detector)throw"BarcodeDetector detector not supported"}return V.isSupported=function(){if(!("BarcodeDetector"in window))return!1;var m=new BarcodeDetector({formats:["qr_code"]});return typeof m<"u"},V.prototype.decodeAsync=function(m){return nx(this,void 0,void 0,function(){var g,p;return rx(this,function(b){switch(b.label){case 0:return[4,this.detector.detect(m)];case 1:if(g=b.sent(),!g||g.length===0)throw"No barcode or QR code detected.";return p=this.selectLargestBarcode(g),[2,{text:p.rawValue,format:Ad.create(this.toHtml5QrcodeSupportedFormats(p.format)),debugData:this.createDebugData()}]}})})},V.prototype.selectLargestBarcode=function(m){for(var g=null,p=0,b=0,A=m;b<A.length;b++){var S=A[b],O=S.boundingBox.width*S.boundingBox.height;O>p&&(p=O,g=S)}if(!g)throw"No largest barcode found";return g},V.prototype.createBarcodeDetectorFormats=function(m){for(var g=[],p=0,b=m;p<b.length;p++){var A=b[p];this.formatMap.has(A)?g.push(this.formatMap.get(A)):this.logger.warn("".concat(A," is not supported by")+"BarcodeDetectorDelegate")}return{formats:g}},V.prototype.toHtml5QrcodeSupportedFormats=function(m){if(!this.reverseFormatMap.has(m))throw"reverseFormatMap doesn't have ".concat(m);return this.reverseFormatMap.get(m)},V.prototype.createReverseFormatMap=function(){var m=new Map;return this.formatMap.forEach(function(g,p,b){m.set(g,p)}),m},V.prototype.createDebugData=function(){return{decoderName:"BarcodeDetector"}},V})(),Fh=function(V,m,g,p){function b(A){return A instanceof g?A:new g(function(S){S(A)})}return new(g||(g=Promise))(function(A,S){function O(_){try{y(p.next(_))}catch(I){S(I)}}function N(_){try{y(p.throw(_))}catch(I){S(I)}}function y(_){_.done?A(_.value):b(_.value).then(O,N)}y((p=p.apply(V,m||[])).next())})},zh=function(V,m){var g={label:0,sent:function(){if(A[0]&1)throw A[1];return A[1]},trys:[],ops:[]},p,b,A,S;return S={next:O(0),throw:O(1),return:O(2)},typeof Symbol=="function"&&(S[Symbol.iterator]=function(){return this}),S;function O(y){return function(_){return N([y,_])}}function N(y){if(p)throw new TypeError("Generator is already executing.");for(;S&&(S=0,y[0]&&(g=0)),g;)try{if(p=1,b&&(A=y[0]&2?b.return:y[0]?b.throw||((A=b.return)&&A.call(b),0):b.next)&&!(A=A.call(b,y[1])).done)return A;switch(b=0,A&&(y=[y[0]&2,A.value]),y[0]){case 0:case 1:A=y;break;case 4:return g.label++,{value:y[1],done:!1};case 5:g.label++,b=y[1],y=[0];continue;case 7:y=g.ops.pop(),g.trys.pop();continue;default:if(A=g.trys,!(A=A.length>0&&A[A.length-1])&&(y[0]===6||y[0]===2)){g=0;continue}if(y[0]===3&&(!A||y[1]>A[0]&&y[1]<A[3])){g.label=y[1];break}if(y[0]===6&&g.label<A[1]){g.label=A[1],A=y;break}if(A&&g.label<A[2]){g.label=A[2],g.ops.push(y);break}A[2]&&g.ops.pop(),g.trys.pop();continue}y=m.call(V,g)}catch(_){y=[6,_],b=0}finally{p=A=0}if(y[0]&5)throw y[1];return{value:y[0]?y[1]:void 0,done:!0}}},ax=(function(){function V(m,g,p,b){this.EXECUTIONS_TO_REPORT_PERFORMANCE=100,this.executions=0,this.executionResults=[],this.wasPrimaryDecoderUsedInLastDecode=!1,this.verbose=p,g&&Uh.isSupported()?(this.primaryDecoder=new Uh(m,p,b),this.secondaryDecoder=new kh(m,p,b)):this.primaryDecoder=new kh(m,p,b)}return V.prototype.decodeAsync=function(m){return Fh(this,void 0,void 0,function(){var g;return zh(this,function(p){switch(p.label){case 0:g=performance.now(),p.label=1;case 1:return p.trys.push([1,,3,4]),[4,this.getDecoder().decodeAsync(m)];case 2:return[2,p.sent()];case 3:return this.possiblyLogPerformance(g),[7];case 4:return[2]}})})},V.prototype.decodeRobustlyAsync=function(m){return Fh(this,void 0,void 0,function(){var g,p;return zh(this,function(b){switch(b.label){case 0:g=performance.now(),b.label=1;case 1:return b.trys.push([1,3,4,5]),[4,this.primaryDecoder.decodeAsync(m)];case 2:return[2,b.sent()];case 3:if(p=b.sent(),this.secondaryDecoder)return[2,this.secondaryDecoder.decodeAsync(m)];throw p;case 4:return this.possiblyLogPerformance(g),[7];case 5:return[2]}})})},V.prototype.getDecoder=function(){return this.secondaryDecoder?this.wasPrimaryDecoderUsedInLastDecode===!1?(this.wasPrimaryDecoderUsedInLastDecode=!0,this.primaryDecoder):(this.wasPrimaryDecoderUsedInLastDecode=!1,this.secondaryDecoder):this.primaryDecoder},V.prototype.possiblyLogPerformance=function(m){if(this.verbose){var g=performance.now()-m;this.executionResults.push(g),this.executions++,this.possiblyFlushPerformanceReport()}},V.prototype.possiblyFlushPerformanceReport=function(){if(!(this.executions<this.EXECUTIONS_TO_REPORT_PERFORMANCE)){for(var m=0,g=0,p=this.executionResults;g<p.length;g++){var b=p[g];m+=b}var A=m/this.executionResults.length;console.log("".concat(A," ms for ").concat(this.executionResults.length," last runs.")),this.executions=0,this.executionResults=[]}},V})(),d0=(function(){var V=function(m,g){return V=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,b){p.__proto__=b}||function(p,b){for(var A in b)Object.prototype.hasOwnProperty.call(b,A)&&(p[A]=b[A])},V(m,g)};return function(m,g){if(typeof g!="function"&&g!==null)throw new TypeError("Class extends value "+String(g)+" is not a constructor or null");V(m,g);function p(){this.constructor=m}m.prototype=g===null?Object.create(g):(p.prototype=g.prototype,new p)}})(),Zo=function(V,m,g,p){function b(A){return A instanceof g?A:new g(function(S){S(A)})}return new(g||(g=Promise))(function(A,S){function O(_){try{y(p.next(_))}catch(I){S(I)}}function N(_){try{y(p.throw(_))}catch(I){S(I)}}function y(_){_.done?A(_.value):b(_.value).then(O,N)}y((p=p.apply(V,m||[])).next())})},qo=function(V,m){var g={label:0,sent:function(){if(A[0]&1)throw A[1];return A[1]},trys:[],ops:[]},p,b,A,S;return S={next:O(0),throw:O(1),return:O(2)},typeof Symbol=="function"&&(S[Symbol.iterator]=function(){return this}),S;function O(y){return function(_){return N([y,_])}}function N(y){if(p)throw new TypeError("Generator is already executing.");for(;S&&(S=0,y[0]&&(g=0)),g;)try{if(p=1,b&&(A=y[0]&2?b.return:y[0]?b.throw||((A=b.return)&&A.call(b),0):b.next)&&!(A=A.call(b,y[1])).done)return A;switch(b=0,A&&(y=[y[0]&2,A.value]),y[0]){case 0:case 1:A=y;break;case 4:return g.label++,{value:y[1],done:!1};case 5:g.label++,b=y[1],y=[0];continue;case 7:y=g.ops.pop(),g.trys.pop();continue;default:if(A=g.trys,!(A=A.length>0&&A[A.length-1])&&(y[0]===6||y[0]===2)){g=0;continue}if(y[0]===3&&(!A||y[1]>A[0]&&y[1]<A[3])){g.label=y[1];break}if(y[0]===6&&g.label<A[1]){g.label=A[1],A=y;break}if(A&&g.label<A[2]){g.label=A[2],g.ops.push(y);break}A[2]&&g.ops.pop(),g.trys.pop();continue}y=m.call(V,g)}catch(_){y=[6,_],b=0}finally{p=A=0}if(y[0]&5)throw y[1];return{value:y[0]?y[1]:void 0,done:!0}}},wd=(function(){function V(m,g){this.name=m,this.track=g}return V.prototype.isSupported=function(){return this.track.getCapabilities?this.name in this.track.getCapabilities():!1},V.prototype.apply=function(m){var g={};g[this.name]=m;var p={advanced:[g]};return this.track.applyConstraints(p)},V.prototype.value=function(){var m=this.track.getSettings();if(this.name in m){var g=m[this.name];return g}return null},V})(),ix=(function(V){d0(m,V);function m(g,p){return V.call(this,g,p)||this}return m.prototype.min=function(){return this.getCapabilities().min},m.prototype.max=function(){return this.getCapabilities().max},m.prototype.step=function(){return this.getCapabilities().step},m.prototype.apply=function(g){var p={};p[this.name]=g;var b={advanced:[p]};return this.track.applyConstraints(b)},m.prototype.getCapabilities=function(){this.failIfNotSupported();var g=this.track.getCapabilities(),p=g[this.name];return{min:p.min,max:p.max,step:p.step}},m.prototype.failIfNotSupported=function(){if(!this.isSupported())throw new Error("".concat(this.name," capability not supported"))},m})(wd),lx=(function(V){d0(m,V);function m(g){return V.call(this,"zoom",g)||this}return m})(ix),sx=(function(V){d0(m,V);function m(g){return V.call(this,"torch",g)||this}return m})(wd),ox=(function(){function V(m){this.track=m}return V.prototype.zoomFeature=function(){return new lx(this.track)},V.prototype.torchFeature=function(){return new sx(this.track)},V})(),ux=(function(){function V(m,g,p){this.isClosed=!1,this.parentElement=m,this.mediaStream=g,this.callbacks=p,this.surface=this.createVideoElement(this.parentElement.clientWidth),m.append(this.surface)}return V.prototype.createVideoElement=function(m){var g=document.createElement("video");return g.style.width="".concat(m,"px"),g.style.display="block",g.muted=!0,g.setAttribute("muted","true"),g.playsInline=!0,g},V.prototype.setupSurface=function(){var m=this;this.surface.onabort=function(){throw"RenderedCameraImpl video surface onabort() called"},this.surface.onerror=function(){throw"RenderedCameraImpl video surface onerror() called"};var g=function(){var p=m.surface.clientWidth,b=m.surface.clientHeight;m.callbacks.onRenderSurfaceReady(p,b),m.surface.removeEventListener("playing",g)};this.surface.addEventListener("playing",g),this.surface.srcObject=this.mediaStream,this.surface.play()},V.create=function(m,g,p,b){return Zo(this,void 0,void 0,function(){var A,S;return qo(this,function(O){switch(O.label){case 0:return A=new V(m,g,b),p.aspectRatio?(S={aspectRatio:p.aspectRatio},[4,A.getFirstTrackOrFail().applyConstraints(S)]):[3,2];case 1:O.sent(),O.label=2;case 2:return A.setupSurface(),[2,A]}})})},V.prototype.failIfClosed=function(){if(this.isClosed)throw"The RenderedCamera has already been closed."},V.prototype.getFirstTrackOrFail=function(){if(this.failIfClosed(),this.mediaStream.getVideoTracks().length===0)throw"No video tracks found";return this.mediaStream.getVideoTracks()[0]},V.prototype.pause=function(){this.failIfClosed(),this.surface.pause()},V.prototype.resume=function(m){this.failIfClosed();var g=this,p=function(){setTimeout(m,200),g.surface.removeEventListener("playing",p)};this.surface.addEventListener("playing",p),this.surface.play()},V.prototype.isPaused=function(){return this.failIfClosed(),this.surface.paused},V.prototype.getSurface=function(){return this.failIfClosed(),this.surface},V.prototype.getRunningTrackCapabilities=function(){return this.getFirstTrackOrFail().getCapabilities()},V.prototype.getRunningTrackSettings=function(){return this.getFirstTrackOrFail().getSettings()},V.prototype.applyVideoConstraints=function(m){return Zo(this,void 0,void 0,function(){return qo(this,function(g){if("aspectRatio"in m)throw"Changing 'aspectRatio' in run-time is not yet supported.";return[2,this.getFirstTrackOrFail().applyConstraints(m)]})})},V.prototype.close=function(){if(this.isClosed)return Promise.resolve();var m=this;return new Promise(function(g,p){var b=m.mediaStream.getVideoTracks(),A=b.length,S=0;m.mediaStream.getVideoTracks().forEach(function(O){m.mediaStream.removeTrack(O),O.stop(),++S,S>=A&&(m.isClosed=!0,m.parentElement.removeChild(m.surface),g())})})},V.prototype.getCapabilities=function(){return new ox(this.getFirstTrackOrFail())},V})(),cx=(function(){function V(m){this.mediaStream=m}return V.prototype.render=function(m,g,p){return Zo(this,void 0,void 0,function(){return qo(this,function(b){return[2,ux.create(m,this.mediaStream,g,p)]})})},V.create=function(m){return Zo(this,void 0,void 0,function(){var g,p;return qo(this,function(b){switch(b.label){case 0:if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return g={audio:!1,video:m},[4,navigator.mediaDevices.getUserMedia(g)];case 1:return p=b.sent(),[2,new V(p)]}})})},V})(),jh=function(V,m,g,p){function b(A){return A instanceof g?A:new g(function(S){S(A)})}return new(g||(g=Promise))(function(A,S){function O(_){try{y(p.next(_))}catch(I){S(I)}}function N(_){try{y(p.throw(_))}catch(I){S(I)}}function y(_){_.done?A(_.value):b(_.value).then(O,N)}y((p=p.apply(V,m||[])).next())})},Hh=function(V,m){var g={label:0,sent:function(){if(A[0]&1)throw A[1];return A[1]},trys:[],ops:[]},p,b,A,S;return S={next:O(0),throw:O(1),return:O(2)},typeof Symbol=="function"&&(S[Symbol.iterator]=function(){return this}),S;function O(y){return function(_){return N([y,_])}}function N(y){if(p)throw new TypeError("Generator is already executing.");for(;S&&(S=0,y[0]&&(g=0)),g;)try{if(p=1,b&&(A=y[0]&2?b.return:y[0]?b.throw||((A=b.return)&&A.call(b),0):b.next)&&!(A=A.call(b,y[1])).done)return A;switch(b=0,A&&(y=[y[0]&2,A.value]),y[0]){case 0:case 1:A=y;break;case 4:return g.label++,{value:y[1],done:!1};case 5:g.label++,b=y[1],y=[0];continue;case 7:y=g.ops.pop(),g.trys.pop();continue;default:if(A=g.trys,!(A=A.length>0&&A[A.length-1])&&(y[0]===6||y[0]===2)){g=0;continue}if(y[0]===3&&(!A||y[1]>A[0]&&y[1]<A[3])){g.label=y[1];break}if(y[0]===6&&g.label<A[1]){g.label=A[1],A=y;break}if(A&&g.label<A[2]){g.label=A[2],g.ops.push(y);break}A[2]&&g.ops.pop(),g.trys.pop();continue}y=m.call(V,g)}catch(_){y=[6,_],b=0}finally{p=A=0}if(y[0]&5)throw y[1];return{value:y[0]?y[1]:void 0,done:!0}}},fx=(function(){function V(){}return V.failIfNotSupported=function(){return jh(this,void 0,void 0,function(){return Hh(this,function(m){if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return[2,new V]})})},V.prototype.create=function(m){return jh(this,void 0,void 0,function(){return Hh(this,function(g){return[2,cx.create(m)]})})},V})(),hx=function(V,m,g,p){function b(A){return A instanceof g?A:new g(function(S){S(A)})}return new(g||(g=Promise))(function(A,S){function O(_){try{y(p.next(_))}catch(I){S(I)}}function N(_){try{y(p.throw(_))}catch(I){S(I)}}function y(_){_.done?A(_.value):b(_.value).then(O,N)}y((p=p.apply(V,m||[])).next())})},dx=function(V,m){var g={label:0,sent:function(){if(A[0]&1)throw A[1];return A[1]},trys:[],ops:[]},p,b,A,S;return S={next:O(0),throw:O(1),return:O(2)},typeof Symbol=="function"&&(S[Symbol.iterator]=function(){return this}),S;function O(y){return function(_){return N([y,_])}}function N(y){if(p)throw new TypeError("Generator is already executing.");for(;S&&(S=0,y[0]&&(g=0)),g;)try{if(p=1,b&&(A=y[0]&2?b.return:y[0]?b.throw||((A=b.return)&&A.call(b),0):b.next)&&!(A=A.call(b,y[1])).done)return A;switch(b=0,A&&(y=[y[0]&2,A.value]),y[0]){case 0:case 1:A=y;break;case 4:return g.label++,{value:y[1],done:!1};case 5:g.label++,b=y[1],y=[0];continue;case 7:y=g.ops.pop(),g.trys.pop();continue;default:if(A=g.trys,!(A=A.length>0&&A[A.length-1])&&(y[0]===6||y[0]===2)){g=0;continue}if(y[0]===3&&(!A||y[1]>A[0]&&y[1]<A[3])){g.label=y[1];break}if(y[0]===6&&g.label<A[1]){g.label=A[1],A=y;break}if(A&&g.label<A[2]){g.label=A[2],g.ops.push(y);break}A[2]&&g.ops.pop(),g.trys.pop();continue}y=m.call(V,g)}catch(_){y=[6,_],b=0}finally{p=A=0}if(y[0]&5)throw y[1];return{value:y[0]?y[1]:void 0,done:!0}}},Vx=(function(){function V(){}return V.retrieve=function(){if(navigator.mediaDevices)return V.getCamerasFromMediaDevices();var m=MediaStreamTrack;return MediaStreamTrack&&m.getSources?V.getCamerasFromMediaStreamTrack():V.rejectWithError()},V.rejectWithError=function(){var m=Vl.unableToQuerySupportedDevices();return V.isHttpsOrLocalhost()||(m=Vl.insecureContextCameraQueryError()),Promise.reject(m)},V.isHttpsOrLocalhost=function(){if(location.protocol==="https:")return!0;var m=location.host.split(":")[0];return m==="127.0.0.1"||m==="localhost"},V.getCamerasFromMediaDevices=function(){return hx(this,void 0,void 0,function(){var m,g,p,b,A,S,O;return dx(this,function(N){switch(N.label){case 0:return m=function(y){for(var _=y.getVideoTracks(),I=0,J=_;I<J.length;I++){var ne=J[I];ne.enabled=!1,ne.stop(),y.removeTrack(ne)}},[4,navigator.mediaDevices.getUserMedia({audio:!1,video:!0})];case 1:return g=N.sent(),[4,navigator.mediaDevices.enumerateDevices()];case 2:for(p=N.sent(),b=[],A=0,S=p;A<S.length;A++)O=S[A],O.kind==="videoinput"&&b.push({id:O.deviceId,label:O.label});return m(g),[2,b]}})})},V.getCamerasFromMediaStreamTrack=function(){return new Promise(function(m,g){var p=function(A){for(var S=[],O=0,N=A;O<N.length;O++){var y=N[O];y.kind==="video"&&S.push({id:y.id,label:y.label})}m(S)},b=MediaStreamTrack;b.getSources(p)})},V})(),ln;(function(V){V[V.UNKNOWN=0]="UNKNOWN",V[V.NOT_STARTED=1]="NOT_STARTED",V[V.SCANNING=2]="SCANNING",V[V.PAUSED=3]="PAUSED"})(ln||(ln={}));var gx=(function(){function V(){this.state=ln.NOT_STARTED,this.onGoingTransactionNewState=ln.UNKNOWN}return V.prototype.directTransition=function(m){this.failIfTransitionOngoing(),this.validateTransition(m),this.state=m},V.prototype.startTransition=function(m){return this.failIfTransitionOngoing(),this.validateTransition(m),this.onGoingTransactionNewState=m,this},V.prototype.execute=function(){if(this.onGoingTransactionNewState===ln.UNKNOWN)throw"Transaction is already cancelled, cannot execute().";var m=this.onGoingTransactionNewState;this.onGoingTransactionNewState=ln.UNKNOWN,this.directTransition(m)},V.prototype.cancel=function(){if(this.onGoingTransactionNewState===ln.UNKNOWN)throw"Transaction is already cancelled, cannot cancel().";this.onGoingTransactionNewState=ln.UNKNOWN},V.prototype.getState=function(){return this.state},V.prototype.failIfTransitionOngoing=function(){if(this.onGoingTransactionNewState!==ln.UNKNOWN)throw"Cannot transition to a new state, already under transition"},V.prototype.validateTransition=function(m){switch(this.state){case ln.UNKNOWN:throw"Transition from unknown is not allowed";case ln.NOT_STARTED:this.failIfNewStateIs(m,[ln.PAUSED]);break;case ln.SCANNING:break;case ln.PAUSED:break}},V.prototype.failIfNewStateIs=function(m,g){for(var p=0,b=g;p<b.length;p++){var A=b[p];if(m===A)throw"Cannot transition from ".concat(this.state," to ").concat(m)}},V})(),xx=(function(){function V(m){this.stateManager=m}return V.prototype.startTransition=function(m){return this.stateManager.startTransition(m)},V.prototype.directTransition=function(m){this.stateManager.directTransition(m)},V.prototype.getState=function(){return this.stateManager.getState()},V.prototype.canScanFile=function(){return this.stateManager.getState()===ln.NOT_STARTED},V.prototype.isScanning=function(){return this.stateManager.getState()!==ln.NOT_STARTED},V.prototype.isStrictlyScanning=function(){return this.stateManager.getState()===ln.SCANNING},V.prototype.isPaused=function(){return this.stateManager.getState()===ln.PAUSED},V})(),mx=(function(){function V(){}return V.create=function(){return new xx(new gx)},V})(),px=(function(){var V=function(m,g){return V=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,b){p.__proto__=b}||function(p,b){for(var A in b)Object.prototype.hasOwnProperty.call(b,A)&&(p[A]=b[A])},V(m,g)};return function(m,g){if(typeof g!="function"&&g!==null)throw new TypeError("Class extends value "+String(g)+" is not a constructor or null");V(m,g);function p(){this.constructor=m}m.prototype=g===null?Object.create(g):(p.prototype=g.prototype,new p)}})(),fr=(function(V){px(m,V);function m(){return V!==null&&V.apply(this,arguments)||this}return m.DEFAULT_WIDTH=300,m.DEFAULT_WIDTH_OFFSET=2,m.FILE_SCAN_MIN_HEIGHT=300,m.FILE_SCAN_HIDDEN_CANVAS_PADDING=100,m.MIN_QR_BOX_SIZE=50,m.SHADED_LEFT=1,m.SHADED_RIGHT=2,m.SHADED_TOP=3,m.SHADED_BOTTOM=4,m.SHADED_REGION_ELEMENT_ID="qr-shaded-region",m.VERBOSE=!1,m.BORDER_SHADER_DEFAULT_COLOR="#ffffff",m.BORDER_SHADER_MATCH_COLOR="rgb(90, 193, 56)",m})(Qg),Ax=(function(){function V(m,g){this.logger=g,this.fps=fr.SCAN_DEFAULT_FPS,m?(m.fps&&(this.fps=m.fps),this.disableFlip=m.disableFlip===!0,this.qrbox=m.qrbox,this.aspectRatio=m.aspectRatio,this.videoConstraints=m.videoConstraints):this.disableFlip=fr.DEFAULT_DISABLE_FLIP}return V.prototype.isMediaStreamConstraintsValid=function(){return this.videoConstraints?yd.isMediaStreamConstraintsValid(this.videoConstraints,this.logger):(this.logger.logError("Empty videoConstraints",!0),!1)},V.prototype.isShadedBoxEnabled=function(){return!xa(this.qrbox)},V.create=function(m,g){return new V(m,g)},V})(),Ph=(function(){function V(m,g){if(this.element=null,this.canvasElement=null,this.scannerPausedUiElement=null,this.hasBorderShaders=null,this.borderShaders=null,this.qrMatch=null,this.renderedCamera=null,this.qrRegion=null,this.context=null,this.lastScanImageFile=null,this.isScanning=!1,!document.getElementById(m))throw"HTML Element with id=".concat(m," not found");this.elementId=m,this.verbose=!1;var p;typeof g=="boolean"?this.verbose=g===!0:g&&(p=g,this.verbose=p.verbose===!0,p.experimentalFeatures),this.logger=new Kg(this.verbose),this.qrcode=new ax(this.getSupportedFormats(g),this.getUseBarCodeDetectorIfSupported(p),this.verbose,this.logger),this.foreverScanTimeout,this.shouldScan=!0,this.stateManagerProxy=mx.create()}return V.prototype.start=function(m,g,p,b){var A=this;if(!m)throw"cameraIdOrConfig is required";if(!p||typeof p!="function")throw"qrCodeSuccessCallback is required and should be a function.";var S;b?S=b:S=this.verbose?this.logger.log:function(){};var O=Ax.create(g,this.logger);this.clearElement();var N=!1;O.videoConstraints&&(O.isMediaStreamConstraintsValid()?N=!0:this.logger.logError("'videoConstraints' is not valid 'MediaStreamConstraints, it will be ignored.'",!0));var y=N,_=document.getElementById(this.elementId);_.clientWidth?_.clientWidth:fr.DEFAULT_WIDTH,_.style.position="relative",this.shouldScan=!0,this.element=_;var I=this,J=this.stateManagerProxy.startTransition(ln.SCANNING);return new Promise(function(ne,ue){var te=y?O.videoConstraints:I.createVideoConstraints(m);if(!te){J.cancel(),ue("videoConstraints should be defined");return}var z={};(!y||O.aspectRatio)&&(z.aspectRatio=O.aspectRatio);var Z={onRenderSurfaceReady:function(G,X){I.setupUi(G,X,O),I.isScanning=!0,I.foreverScan(O,p,S)}};fx.failIfNotSupported().then(function(G){G.create(te).then(function(X){return X.render(A.element,z,Z).then(function(se){I.renderedCamera=se,J.execute(),ne(null)}).catch(function(se){J.cancel(),ue(se)})}).catch(function(X){J.cancel(),ue(Vl.errorGettingUserMedia(X))})}).catch(function(G){J.cancel(),ue(Vl.cameraStreamingNotSupported())})})},V.prototype.pause=function(m){if(!this.stateManagerProxy.isStrictlyScanning())throw"Cannot pause, scanner is not scanning.";this.stateManagerProxy.directTransition(ln.PAUSED),this.showPausedState(),(xa(m)||m!==!0)&&(m=!1),m&&this.renderedCamera&&this.renderedCamera.pause()},V.prototype.resume=function(){if(!this.stateManagerProxy.isPaused())throw"Cannot result, scanner is not paused.";if(!this.renderedCamera)throw"renderedCamera doesn't exist while trying resume()";var m=this,g=function(){m.stateManagerProxy.directTransition(ln.SCANNING),m.hidePausedState()};if(!this.renderedCamera.isPaused()){g();return}this.renderedCamera.resume(function(){g()})},V.prototype.getState=function(){return this.stateManagerProxy.getState()},V.prototype.stop=function(){var m=this;if(!this.stateManagerProxy.isScanning())throw"Cannot stop, scanner is not running or paused.";var g=this.stateManagerProxy.startTransition(ln.NOT_STARTED);this.shouldScan=!1,this.foreverScanTimeout&&clearTimeout(this.foreverScanTimeout);var p=function(){if(m.element){var A=document.getElementById(fr.SHADED_REGION_ELEMENT_ID);A&&m.element.removeChild(A)}},b=this;return this.renderedCamera.close().then(function(){return b.renderedCamera=null,b.element&&(b.element.removeChild(b.canvasElement),b.canvasElement=null),p(),b.qrRegion&&(b.qrRegion=null),b.context&&(b.context=null),g.execute(),b.hidePausedState(),b.isScanning=!1,Promise.resolve()})},V.prototype.scanFile=function(m,g){return this.scanFileV2(m,g).then(function(p){return p.decodedText})},V.prototype.scanFileV2=function(m,g){var p=this;if(!m||!(m instanceof File))throw"imageFile argument is mandatory and should be instance of File. Use 'event.target.files[0]'.";if(xa(g)&&(g=!0),!this.stateManagerProxy.canScanFile())throw"Cannot start file scan - ongoing camera scan";return new Promise(function(b,A){p.possiblyCloseLastScanImageFile(),p.clearElement(),p.lastScanImageFile=URL.createObjectURL(m);var S=new Image;S.onload=function(){var O=S.width,N=S.height,y=document.getElementById(p.elementId),_=y.clientWidth?y.clientWidth:fr.DEFAULT_WIDTH,I=Math.max(y.clientHeight?y.clientHeight:N,fr.FILE_SCAN_MIN_HEIGHT),J=p.computeCanvasDrawConfig(O,N,_,I);if(g){var ne=p.createCanvasElement(_,I,"qr-canvas-visible");ne.style.display="inline-block",y.appendChild(ne);var ue=ne.getContext("2d");if(!ue)throw"Unable to get 2d context from canvas";ue.canvas.width=_,ue.canvas.height=I,ue.drawImage(S,0,0,O,N,J.x,J.y,J.width,J.height)}var te=fr.FILE_SCAN_HIDDEN_CANVAS_PADDING,z=Math.max(S.width,J.width),Z=Math.max(S.height,J.height),G=z+2*te,X=Z+2*te,se=p.createCanvasElement(G,X);y.appendChild(se);var Ee=se.getContext("2d");if(!Ee)throw"Unable to get 2d context from canvas";Ee.canvas.width=G,Ee.canvas.height=X,Ee.drawImage(S,0,0,O,N,te,te,z,Z);try{p.qrcode.decodeRobustlyAsync(se).then(function(me){b(Bh.createFromQrcodeResult(me))}).catch(A)}catch(me){A("QR code parse error, error = ".concat(me))}},S.onerror=A,S.onabort=A,S.onstalled=A,S.onsuspend=A,S.src=URL.createObjectURL(m)})},V.prototype.clear=function(){this.clearElement()},V.getCameras=function(){return Vx.retrieve()},V.prototype.getRunningTrackCapabilities=function(){return this.getRenderedCameraOrFail().getRunningTrackCapabilities()},V.prototype.getRunningTrackSettings=function(){return this.getRenderedCameraOrFail().getRunningTrackSettings()},V.prototype.getRunningTrackCameraCapabilities=function(){return this.getRenderedCameraOrFail().getCapabilities()},V.prototype.applyVideoConstraints=function(m){if(m){if(!yd.isMediaStreamConstraintsValid(m,this.logger))throw"invalid videoConstaints passed, check logs for more details"}else throw"videoConstaints is required argument.";return this.getRenderedCameraOrFail().applyVideoConstraints(m)},V.prototype.getRenderedCameraOrFail=function(){if(this.renderedCamera==null)throw"Scanning is not in running state, call this API only when QR code scanning using camera is in running state.";return this.renderedCamera},V.prototype.getSupportedFormats=function(m){var g=[Me.QR_CODE,Me.AZTEC,Me.CODABAR,Me.CODE_39,Me.CODE_93,Me.CODE_128,Me.DATA_MATRIX,Me.MAXICODE,Me.ITF,Me.EAN_13,Me.EAN_8,Me.PDF_417,Me.RSS_14,Me.RSS_EXPANDED,Me.UPC_A,Me.UPC_E,Me.UPC_EAN_EXTENSION];if(!m||typeof m=="boolean"||!m.formatsToSupport)return g;if(!Array.isArray(m.formatsToSupport))throw"configOrVerbosityFlag.formatsToSupport should be undefined or an array.";if(m.formatsToSupport.length===0)throw"Atleast 1 formatsToSupport is needed.";for(var p=[],b=0,A=m.formatsToSupport;b<A.length;b++){var S=A[b];qg(S)?p.push(S):this.logger.warn("Invalid format: ".concat(S," passed in config, ignoring."))}if(p.length===0)throw"None of formatsToSupport match supported values.";return p},V.prototype.getUseBarCodeDetectorIfSupported=function(m){if(xa(m))return!0;if(!xa(m.useBarCodeDetectorIfSupported))return m.useBarCodeDetectorIfSupported!==!1;if(xa(m.experimentalFeatures))return!0;var g=m.experimentalFeatures;return xa(g.useBarCodeDetectorIfSupported)?!0:g.useBarCodeDetectorIfSupported!==!1},V.prototype.validateQrboxSize=function(m,g,p){var b=this,A=p.qrbox;this.validateQrboxConfig(A);var S=this.toQrdimensions(m,g,A),O=function(y){if(y<fr.MIN_QR_BOX_SIZE)throw"minimum size of 'config.qrbox' dimension value is"+" ".concat(fr.MIN_QR_BOX_SIZE,"px.")},N=function(y){return y>m&&(b.logger.warn("`qrbox.width` or `qrbox` is larger than the width of the root element. The width will be truncated to the width of root element."),y=m),y};O(S.width),O(S.height),S.width=N(S.width)},V.prototype.validateQrboxConfig=function(m){if(typeof m!="number"&&typeof m!="function"&&(m.width===void 0||m.height===void 0))throw"Invalid instance of QrDimensions passed for 'config.qrbox'. Both 'width' and 'height' should be set."},V.prototype.toQrdimensions=function(m,g,p){if(typeof p=="number")return{width:p,height:p};if(typeof p=="function")try{return p(m,g)}catch(b){throw new Error("qrbox config was passed as a function but it failed with unknown error"+b)}return p},V.prototype.setupUi=function(m,g,p){p.isShadedBoxEnabled()&&this.validateQrboxSize(m,g,p);var b=xa(p.qrbox)?{width:m,height:g}:p.qrbox;this.validateQrboxConfig(b);var A=this.toQrdimensions(m,g,b);A.height>g&&this.logger.warn("[Html5Qrcode] config.qrbox has height that isgreater than the height of the video stream. Shading will be ignored");var S=p.isShadedBoxEnabled()&&A.height<=g,O={x:0,y:0,width:m,height:g},N=S?this.getShadedRegionBounds(m,g,A):O,y=this.createCanvasElement(N.width,N.height),_={willReadFrequently:!0},I=y.getContext("2d",_);I.canvas.width=N.width,I.canvas.height=N.height,this.element.append(y),S&&this.possiblyInsertShadingElement(this.element,m,g,A),this.createScannerPausedUiElement(this.element),this.qrRegion=N,this.context=I,this.canvasElement=y},V.prototype.createScannerPausedUiElement=function(m){var g=document.createElement("div");g.innerText=Vl.scannerPaused(),g.style.display="none",g.style.position="absolute",g.style.top="0px",g.style.zIndex="1",g.style.background="rgba(9, 9, 9, 0.46)",g.style.color="#FFECEC",g.style.textAlign="center",g.style.width="100%",m.appendChild(g),this.scannerPausedUiElement=g},V.prototype.scanContext=function(m,g){var p=this;return this.stateManagerProxy.isPaused()?Promise.resolve(!1):this.qrcode.decodeAsync(this.canvasElement).then(function(b){return m(b.text,Bh.createFromQrcodeResult(b)),p.possiblyUpdateShaders(!0),!0}).catch(function(b){p.possiblyUpdateShaders(!1);var A=Vl.codeParseError(b);return g(A,Wg.createFrom(A)),!1})},V.prototype.foreverScan=function(m,g,p){var b=this;if(this.shouldScan&&this.renderedCamera){var A=this.renderedCamera.getSurface(),S=A.videoWidth/A.clientWidth,O=A.videoHeight/A.clientHeight;if(!this.qrRegion)throw"qrRegion undefined when localMediaStream is ready.";var N=this.qrRegion.width*S,y=this.qrRegion.height*O,_=this.qrRegion.x*S,I=this.qrRegion.y*O;this.context.drawImage(A,_,I,N,y,0,0,this.qrRegion.width,this.qrRegion.height);var J=function(){b.foreverScanTimeout=setTimeout(function(){b.foreverScan(m,g,p)},b.getTimeoutFps(m.fps))};this.scanContext(g,p).then(function(ne){!ne&&m.disableFlip!==!0?(b.context.translate(b.context.canvas.width,0),b.context.scale(-1,1),b.scanContext(g,p).finally(function(){J()})):J()}).catch(function(ne){b.logger.logError("Error happend while scanning context",ne),J()})}},V.prototype.createVideoConstraints=function(m){if(typeof m=="string")return{deviceId:{exact:m}};if(typeof m=="object"){var g="facingMode",p="deviceId",b={user:!0,environment:!0},A="exact",S=function(ue){if(ue in b)return!0;throw"config has invalid 'facingMode' value = "+"'".concat(ue,"'")},O=Object.keys(m);if(O.length!==1)throw"'cameraIdOrConfig' object should have exactly 1 key,"+" if passed as an object, found ".concat(O.length," keys");var N=Object.keys(m)[0];if(N!==g&&N!==p)throw"Only '".concat(g,"' and '").concat(p,"' ")+" are supported for 'cameraIdOrConfig'";if(N===g){var y=m.facingMode;if(typeof y=="string"){if(S(y))return{facingMode:y}}else if(typeof y=="object")if(A in y){if(S(y["".concat(A)]))return{facingMode:{exact:y["".concat(A)]}}}else throw"'facingMode' should be string or object with"+" ".concat(A," as key.");else{var _=typeof y;throw"Invalid type of 'facingMode' = ".concat(_)}}else{var I=m.deviceId;if(typeof I=="string")return{deviceId:I};if(typeof I=="object"){if(A in I)return{deviceId:{exact:I["".concat(A)]}};throw"'deviceId' should be string or object with"+" ".concat(A," as key.")}else{var J=typeof I;throw"Invalid type of 'deviceId' = ".concat(J)}}}var ne=typeof m;throw"Invalid type of 'cameraIdOrConfig' = ".concat(ne)},V.prototype.computeCanvasDrawConfig=function(m,g,p,b){if(m<=p&&g<=b){var A=(p-m)/2,S=(b-g)/2;return{x:A,y:S,width:m,height:g}}else{var O=m,N=g;return m>p&&(g=p/m*g,m=p),g>b&&(m=b/g*m,g=b),this.logger.log("Image downsampled from "+"".concat(O,"X").concat(N)+" to ".concat(m,"X").concat(g,".")),this.computeCanvasDrawConfig(m,g,p,b)}},V.prototype.clearElement=function(){if(this.stateManagerProxy.isScanning())throw"Cannot clear while scan is ongoing, close it first.";var m=document.getElementById(this.elementId);m&&(m.innerHTML="")},V.prototype.possiblyUpdateShaders=function(m){this.qrMatch!==m&&(this.hasBorderShaders&&this.borderShaders&&this.borderShaders.length&&this.borderShaders.forEach(function(g){g.style.backgroundColor=m?fr.BORDER_SHADER_MATCH_COLOR:fr.BORDER_SHADER_DEFAULT_COLOR}),this.qrMatch=m)},V.prototype.possiblyCloseLastScanImageFile=function(){this.lastScanImageFile&&(URL.revokeObjectURL(this.lastScanImageFile),this.lastScanImageFile=null)},V.prototype.createCanvasElement=function(m,g,p){var b=m,A=g,S=document.createElement("canvas");return S.style.width="".concat(b,"px"),S.style.height="".concat(A,"px"),S.style.display="none",S.id=xa(p)?"qr-canvas":p,S},V.prototype.getShadedRegionBounds=function(m,g,p){if(p.width>m||p.height>g)throw"'config.qrbox' dimensions should not be greater than the dimensions of the root HTML element.";return{x:(m-p.width)/2,y:(g-p.height)/2,width:p.width,height:p.height}},V.prototype.possiblyInsertShadingElement=function(m,g,p,b){if(!(g-b.width<1||p-b.height<1)){var A=document.createElement("div");A.style.position="absolute";var S=(g-b.width)/2,O=(p-b.height)/2;if(A.style.borderLeft="".concat(S,"px solid rgba(0, 0, 0, 0.48)"),A.style.borderRight="".concat(S,"px solid rgba(0, 0, 0, 0.48)"),A.style.borderTop="".concat(O,"px solid rgba(0, 0, 0, 0.48)"),A.style.borderBottom="".concat(O,"px solid rgba(0, 0, 0, 0.48)"),A.style.boxSizing="border-box",A.style.top="0px",A.style.bottom="0px",A.style.left="0px",A.style.right="0px",A.id="".concat(fr.SHADED_REGION_ELEMENT_ID),g-b.width<11||p-b.height<11)this.hasBorderShaders=!1;else{var N=5,y=40;this.insertShaderBorders(A,y,N,-N,null,0,!0),this.insertShaderBorders(A,y,N,-N,null,0,!1),this.insertShaderBorders(A,y,N,null,-N,0,!0),this.insertShaderBorders(A,y,N,null,-N,0,!1),this.insertShaderBorders(A,N,y+N,-N,null,-N,!0),this.insertShaderBorders(A,N,y+N,null,-N,-N,!0),this.insertShaderBorders(A,N,y+N,-N,null,-N,!1),this.insertShaderBorders(A,N,y+N,null,-N,-N,!1),this.hasBorderShaders=!0}m.append(A)}},V.prototype.insertShaderBorders=function(m,g,p,b,A,S,O){var N=document.createElement("div");N.style.position="absolute",N.style.backgroundColor=fr.BORDER_SHADER_DEFAULT_COLOR,N.style.width="".concat(g,"px"),N.style.height="".concat(p,"px"),b!==null&&(N.style.top="".concat(b,"px")),A!==null&&(N.style.bottom="".concat(A,"px")),O?N.style.left="".concat(S,"px"):N.style.right="".concat(S,"px"),this.borderShaders||(this.borderShaders=[]),this.borderShaders.push(N),m.appendChild(N)},V.prototype.showPausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="block"},V.prototype.hidePausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="none"},V.prototype.getTimeoutFps=function(m){return 1e3/m},V})(),Gh;(function(V){V[V.STATUS_DEFAULT=0]="STATUS_DEFAULT",V[V.STATUS_SUCCESS=1]="STATUS_SUCCESS",V[V.STATUS_WARNING=2]="STATUS_WARNING",V[V.STATUS_REQUESTING_PERMISSION=3]="STATUS_REQUESTING_PERMISSION"})(Gh||(Gh={}));const yx={error:{bg:"bg-rose-50/90 dark:bg-rose-950/40",border:"border-rose-200/60 dark:border-rose-500/30",text:"text-rose-900 dark:text-rose-100",sub:"text-rose-700/80 dark:text-rose-300/70",dot:"bg-rose-500"},success:{bg:"bg-green-50/90 dark:bg-green-950/40",border:"border-green-200/60 dark:border-green-500/30",text:"text-green-900 dark:text-green-100",sub:"text-green-700/80 dark:text-green-300/70",dot:"bg-green-500"}},jo=({text:V,variant:m})=>{const g=yx[m];return D.jsx("div",{className:"fixed bottom-10 left-1/2 -translate-x-1/2 z-50 animate-in fade-in slide-in-from-bottom-4 duration-300",children:D.jsxs("div",{className:`
          ${g.bg} ${g.border}
          backdrop-blur-md border
          rounded-2xl px-5 py-3.5
          min-w-[280px]
          shadow-lg flex items-start gap-3
        `,children:[D.jsx("div",{className:`w-2 h-2 mt-1.5 rounded-full ${g.dot}`}),D.jsxs("div",{className:"flex flex-col",children:[D.jsx("p",{className:`${g.text} text-sm font-semibold`,children:V}),D.jsx("p",{className:`${g.sub} text-xs font-medium`,children:m==="error"?"Something went wrong":"Success"})]})]})})};function Xh(){const V=ms(),m=ya(),g=new URLSearchParams(m.search),p=g.get("subgroups")||"",b=g.get("count")||"1",A=g.get("wishlist")==="true",[S,O]=k.useState(""),[N,y]=k.useState("auto"),[_,I]=k.useState(""),[J,ne]=k.useState(""),[ue,te]=k.useState(""),[z,Z]=k.useState(1),[G,X]=k.useState(1),[se,Ee]=k.useState("name"),[me,Q]=k.useState(!1),[Se,ce]=k.useState(""),[Ze,qe]=k.useState(!1),[de,Re]=k.useState(!1),[_e,W]=k.useState(0),[$,Ve]=k.useState(""),[we,Oe]=k.useState(""),Ie=k.useRef(!1),L=k.useRef({}),U=k.useRef(null),Y=k.useRef("qr-reader"),ae=k.useRef(null),Ce=k.useRef(null),ie=k.useCallback((We,Ue)=>{de&&console.log(`[Scanner] ${We}`,Ue||"")},[de]),ze=async()=>{const We=U.current;if(We)try{We.isScanning&&await We.stop();const Ue=document.querySelector("video");Ue?.srcObject?.getTracks().forEach(Dt=>{Dt.stop()}),Ue&&(Ue.srcObject=null)}catch(Ue){console.warn("Hard stop failed:",Ue)}finally{U.current=null}},je=k.useCallback(async(We,Ue)=>{const It=Date.now();if(L.current.ean===We&&It-(L.current.ts||0)<1e3){ie("Skipping duplicate send for",We);return}L.current={ean:We,ts:It};const Dt=Ue||b,jn="/api/add_ean_to_list/";try{const Mt=await fetch(jn,{method:"POST",body:JSON.stringify({ean:We,count:Dt,subgroups:p,wish_list:String(A)}),headers:{"Content-type":"application/json; charset=UTF-8"}});if(Mt.ok){const ct=await Mt.json();ct.known_to_db&&ct.known_to_db===!0&&String(ct.detail).toLowerCase()!=="failed to add item"?(console.log("Item recognized by database"),qe(!0),setTimeout(()=>{qe(!1)},2500)):(ce("ean not found"),setTimeout(()=>{ce("")},2500))}else ce("ean not found"),console.error("Server returned an error status:",Mt.status),setTimeout(()=>{ce("")},2500)}catch(Mt){ce("network error"),console.error("Network error or parsing error:",Mt),setTimeout(()=>{ce("")},2500)}},[p,b,A,ie]),Je=k.useCallback(async(We,Ue)=>{try{const It="/api/add_ean_to_list/";if(console.log("Sending item by name to server",{itemName:We,count:Ue,url:It}),await fetch(It,{method:"POST",body:JSON.stringify({item_name:We,count:Ue,subgroups:p,wish_list:String(A)}),headers:{"Content-type":"application/json; charset=UTF-8"}}).catch(Dt=>{console.error("Error sending EAN:",Dt)}),"vibrate"in navigator)try{navigator.vibrate(200)}catch{}}catch(It){console.error("Error sending item:",It),ce("Failed to add item")}},[p,A]),pt=(We,Ue=!1)=>{if(Ue){const It=Math.max(1,G+We);X(It)}else{const It=Math.max(1,z+We);Z(It),ae.current&&clearTimeout(ae.current)}},At=We=>{We.preventDefault(),ae.current&&clearTimeout(ae.current),se==="ean"?J&&/^\d{8,14}$/.test(J)?(ie("Manual EAN submit",{ean:J,quantity:z}),je(J,z)):(ce("Please enter a valid barcode (8-14 digits)"),setTimeout(()=>ce(""),2500)):ue.trim()?(ie("Manual name submit",{name:ue,quantity:z}),Je(ue.trim(),z)):(ce("Please enter an item name"),setTimeout(()=>ce(""),3e3))};return k.useEffect(()=>()=>{ae.current&&clearTimeout(ae.current),Ce.current&&clearTimeout(Ce.current)},[]),k.useEffect(()=>{const We=A?"wish":"item",Ue=b==="1"?`add ${We}`:`delete ${We}`;return O(Ue),N!=="auto"?void 0:((async()=>{try{ie("Initializing HTML5 QR Code scanner");const Dt=new Ph(Y.current);U.current=Dt;const jn={fps:10,qrbox:{width:250,height:250},aspectRatio:1},Mt=Qe=>{W(In=>In+1),Ve(new Date().toLocaleTimeString()),ie("Scan success",Qe),!Ie.current&&(Ie.current=!0,console.log("Processing",Qe),/^\d{8,14}$/.test(Qe)?(I(Qe),Oe(Qe),Q(!1),setTimeout(()=>{Ie.current=!1},1e3)):ie("Invalid barcode format",Qe))},ct=Qe=>{de&&ie("Scan error (normal during scanning)",Qe)};try{await Dt.start({facingMode:"environment"},jn,Mt,ct),Q(!0),ce(""),ie("Scanner started with rear camera")}catch(Qe){ie("Rear camera failed, trying any camera",Qe);try{const In=await Ph.getCameras();if(In&&In.length>0)await Dt.start(In[0].id,jn,Mt,ct),Q(!0),ce(""),ie("Scanner started with fallback camera");else throw new Error("No cameras found")}catch(In){console.error("Camera initialization failed:",In),ce("Camera access failed. Try manual mode.")}}}catch(Dt){console.error("Scanner initialization error:",Dt),ce("Scanner initialization failed. Try manual mode.")}})(),()=>{ie("Cleaning up HTML5 QR Code scanner"),U.current?.isScanning&&U.current.stop().catch(Dt=>console.error("Error stopping scanner:",Dt))})},[N,je,ie,de,G]),D.jsxs("div",{className:"fixed inset-0 bg-linear-to-br from-slate-900 via-slate-800 to-slate-900 overflow-hidden flex flex-col",children:[D.jsx("div",{className:"bg-slate-900/95 backdrop-blur-sm border-b border-slate-700/50",children:D.jsx("div",{className:"max-w-4xl mx-auto px-3 py-2",children:D.jsxs("div",{className:"flex items-center justify-between gap-2",children:[D.jsxs("div",{className:"flex items-center gap-2",children:[D.jsx("button",{onClick:async()=>{if(U.current)try{await ze(),setTimeout(()=>{console.log("waiting for 2000ms")},2e3)}catch(We){console.warn("Failed to stop QR scanner:",We)}V("/")},className:"p-1.5 rounded-lg bg-slate-800/60 hover:bg-slate-700/80 border border-slate-600/40 transition-all",children:D.jsx("svg",{className:"w-5 h-5 text-cyan-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:D.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),D.jsx("h1",{className:"text-sm sm:text-base font-bold text-transparent bg-clip-text bg-gradient-to-r from-cyan-400 to-blue-500",children:S})]}),D.jsxs("div",{className:"flex gap-1 bg-slate-800/60 p-0.5 rounded-lg border border-slate-600/40",children:[D.jsx("button",{onClick:()=>y("auto"),className:`px-3 py-1.5 text-xs rounded-md font-medium transition-all ${N==="auto"?"bg-gradient-to-r from-cyan-500 to-blue-500 text-white shadow-lg shadow-cyan-500/30":"text-slate-400 hover:text-white"}`,children:"Auto"}),D.jsx("button",{onClick:()=>y("manual"),className:`px-3 py-1.5 text-xs rounded-md font-medium transition-all ${N==="manual"?"bg-gradient-to-r from-emerald-500 to-green-500 text-white shadow-lg shadow-emerald-500/30":"text-slate-400 hover:text-white"}`,children:"Manual"})]}),D.jsx("button",{onClick:()=>Re(!de),className:`p-1.5 rounded-lg border transition-all ${de?"bg-amber-500/20 border-amber-500/50 text-amber-400":"bg-slate-800/60 border-slate-600/40 text-slate-400 hover:text-white"}`,title:"Toggle verbose logging",children:D.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:D.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6V4m0 2a2 2 0 100 4m0-4a2 2 0 110 4m-6 8a2 2 0 100-4m0 4a2 2 0 110-4m0 4v2m0-6V4m6 6v10m6-2a2 2 0 100-4m0 4a2 2 0 110-4m0 4v2m0-6V4"})})})]})})}),D.jsx("div",{className:"flex-1 overflow-auto",children:N==="auto"?D.jsx("div",{className:"flex flex-col items-center justify-start p-4 min-h-full",children:D.jsxs("div",{className:"w-full max-w-sm space-y-4",children:[D.jsxs("div",{className:"bg-gradient-to-br from-slate-800/80 to-slate-900/80 backdrop-blur-xl rounded-2xl border border-slate-600/40 p-4 shadow-2xl shadow-cyan-500/10",children:[D.jsx("div",{id:Y.current,className:"rounded-xl overflow-hidden border-2 border-cyan-400/60 shadow-lg shadow-cyan-400/20 bg-black",style:{minHeight:"280px"}}),D.jsx("div",{className:"mt-3 text-center",children:D.jsx("p",{className:"text-sm font-medium",children:Ze?D.jsxs("span",{className:"flex items-center justify-center gap-2 text-emerald-400 animate-pulse",children:[D.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:D.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),"Added successfully!"]}):Se?D.jsx("span",{className:"text-rose-400",children:Se}):_?D.jsxs("span",{className:"text-cyan-400 font-mono",children:["Code: ",_]}):me?D.jsxs("span",{className:"text-slate-300 flex items-center justify-center gap-2",children:[D.jsx("span",{className:"animate-pulse",children:"â—"})," Scanning..."]}):D.jsx("span",{className:"text-slate-400",children:"Point at barcode"})})}),de&&D.jsxs("div",{className:"mt-3 p-2 bg-slate-900/60 rounded-lg border border-amber-500/30",children:[D.jsxs("p",{className:"text-xs text-amber-400 font-mono",children:["Scans: ",_e," | Last: ",$||"N/A"]}),D.jsxs("p",{className:"text-xs text-amber-400 font-mono",children:["Status: ",me?"Active":"Stopped"]})]})]}),we&&D.jsxs("div",{className:"bg-gradient-to-br from-slate-800/80 to-slate-900/80 backdrop-blur-xl rounded-2xl border border-emerald-500/40 p-4 shadow-2xl shadow-emerald-500/20 animate-slideIn",children:[D.jsx("label",{className:"block text-xs text-emerald-400 mb-3 text-center font-semibold",children:"Adjust Quantity"}),D.jsxs("div",{className:"flex items-center justify-center gap-3",children:[D.jsx("button",{type:"button",onClick:()=>pt(-1,!0),className:"w-14 h-14 flex items-center justify-center bg-slate-700/60 hover:bg-slate-600/80 border border-slate-600/40 rounded-xl transition-all active:scale-90 transform duration-150 shadow-lg hover:shadow-slate-500/50",children:D.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:D.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:3,d:"M20 12H4"})})}),D.jsx("div",{className:"flex-1 max-w-[140px]",children:D.jsx("div",{className:"relative",children:D.jsx("input",{type:"number",value:G,onChange:We=>{const Ue=parseInt(We.target.value)||1;X(Math.max(1,Ue))},min:"1",className:"w-full px-4 py-4 bg-gradient-to-br from-slate-900 to-slate-800 border-2 border-emerald-500/50 rounded-xl text-white text-3xl font-bold text-center focus:outline-none focus:ring-2 focus:ring-emerald-400 focus:border-transparent transition-all shadow-inner transform hover:scale-105 duration-200"})})}),D.jsx("button",{type:"button",onClick:()=>pt(1,!0),className:"w-14 h-14 flex items-center justify-center bg-emerald-500/30 hover:bg-emerald-500/50 border-2 border-emerald-500/60 rounded-xl transition-all active:scale-90 transform duration-150 shadow-lg hover:shadow-emerald-500/50",children:D.jsx("svg",{className:"w-6 h-6 text-emerald-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:D.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:3,d:"M12 4v16m8-8H4"})})})]}),D.jsx("button",{type:"button",onClick:()=>{Ce.current&&clearTimeout(Ce.current),je(we,G)},className:"w-full mt-3 py-2.5 text-sm bg-gradient-to-r from-emerald-500 to-green-500 text-white font-bold rounded-lg shadow-lg shadow-emerald-500/30 hover:from-emerald-400 hover:to-green-400 transition-all active:scale-95",children:"Submit Now"})]}),Se!==""&&D.jsx(jo,{text:Se,variant:"error"}),Ze&&D.jsx(jo,{text:"mapped ean succesfully :)",variant:"success"}),D.jsx("div",{className:"p-3 bg-slate-900/40 rounded-xl border border-slate-700/30",children:D.jsx("p",{className:"text-xs text-slate-400 text-center",children:"ðŸ’¡ Position barcode in the center of the frame"})})]})}):D.jsx("div",{className:"flex items-start justify-center p-4 min-h-full",children:D.jsx("div",{className:"w-full max-w-md",children:D.jsxs("div",{className:"bg-gradient-to-br from-slate-800/80 to-slate-900/80 backdrop-blur-xl rounded-2xl border border-slate-600/40 p-6 shadow-2xl",children:[D.jsxs("div",{className:"text-center mb-4",children:[D.jsx("div",{className:"inline-flex items-center justify-center w-14 h-14 bg-gradient-to-br from-emerald-500 to-green-500 rounded-xl mb-3 shadow-lg shadow-emerald-500/40 animate-pulse",children:D.jsx("svg",{className:"w-7 h-7 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:D.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})})}),D.jsx("h2",{className:"text-xl font-bold text-white mb-2",children:"Add Item"}),D.jsxs("div",{className:"flex gap-2 justify-center",children:[D.jsx("button",{type:"button",onClick:()=>Ee("name"),className:`px-4 py-2 text-sm rounded-lg font-medium transition-all duration-200 ${se==="name"?"bg-emerald-500/30 text-emerald-300 border-2 border-emerald-500/60 shadow-lg shadow-emerald-500/30":"text-slate-400 border border-slate-600/40 hover:text-white hover:border-slate-500"}`,children:"By Name"}),D.jsx("button",{type:"button",onClick:()=>Ee("ean"),className:`px-4 py-2 text-sm rounded-lg font-medium transition-all duration-200 ${se==="ean"?"bg-emerald-500/30 text-emerald-300 border-2 border-emerald-500/60 shadow-lg shadow-emerald-500/30":"text-slate-400 border border-slate-600/40 hover:text-white hover:border-slate-500"}`,children:"By Barcode"})]})]}),D.jsxs("form",{onSubmit:At,className:"space-y-5",children:[se==="name"?D.jsxs("div",{children:[D.jsx("label",{className:"block text-sm text-slate-300 mb-2 font-medium",children:"Item Name"}),D.jsx("input",{type:"text",value:ue,onChange:We=>te(We.target.value),placeholder:"e.g., Milk, Bread, Apples...",className:"w-full px-4 py-3 bg-slate-900/60 border border-slate-600/40 rounded-xl text-white text-base focus:outline-none focus:ring-2 focus:ring-emerald-500 focus:border-transparent transition-all shadow-inner",autoFocus:!0})]}):D.jsxs("div",{children:[D.jsx("label",{className:"block text-sm text-slate-300 mb-2 font-medium",children:"Barcode (EAN)"}),D.jsx("input",{type:"text",value:J,onChange:We=>ne(We.target.value.replace(/\D/g,"")),placeholder:"e.g., 4006040055136",className:"w-full px-4 py-3 bg-slate-900/60 border border-slate-600/40 rounded-xl text-white text-base font-mono focus:outline-none focus:ring-2 focus:ring-emerald-500 focus:border-transparent transition-all shadow-inner",maxLength:14,autoFocus:!0}),D.jsxs("p",{className:"mt-1.5 text-xs text-slate-400 text-center",children:[J.length," / 14 digits"]})]}),D.jsxs("div",{children:[D.jsx("label",{className:"block text-sm text-slate-300 mb-3 font-medium",children:"Quantity"}),D.jsxs("div",{className:"flex items-center justify-center gap-4",children:[D.jsx("button",{type:"button",onClick:()=>pt(-1),className:"w-14 h-14 flex items-center justify-center bg-slate-700/60 hover:bg-slate-600/80 border border-slate-600/40 rounded-xl transition-all active:scale-90 transform duration-150 shadow-lg hover:shadow-slate-500/50",children:D.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:D.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:3,d:"M20 12H4"})})}),D.jsx("div",{className:"flex-1 max-w-[140px]",children:D.jsx("div",{className:"relative",children:D.jsx("input",{type:"number",value:z,onChange:We=>{const Ue=parseInt(We.target.value)||1;Z(Math.max(1,Ue))},min:"1",className:"w-full px-4 py-4 bg-gradient-to-br from-slate-900 to-slate-800 border-2 border-emerald-500/50 rounded-xl text-white text-3xl font-bold text-center focus:outline-none focus:ring-2 focus:ring-emerald-400 focus:border-transparent transition-all shadow-inner transform hover:scale-105 duration-200"})})}),D.jsx("button",{type:"button",onClick:()=>pt(1),className:"w-14 h-14 flex items-center justify-center bg-emerald-500/30 hover:bg-emerald-500/50 border-2 border-emerald-500/60 rounded-xl transition-all active:scale-90 transform duration-150 shadow-lg hover:shadow-emerald-500/50",children:D.jsx("svg",{className:"w-6 h-6 text-emerald-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:D.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:3,d:"M12 4v16m8-8H4"})})})]})]}),Se!==""&&D.jsx(jo,{text:Se,variant:"error"}),Ze&&D.jsx(jo,{text:"mapped ean succesfully :)",variant:"success"}),D.jsxs("button",{type:"submit",disabled:se==="ean"&&(!J||J.length<8)||se==="name"&&!ue.trim()||Ze,className:"w-full py-4 text-base bg-gradient-to-r from-emerald-500 to-green-500 text-white font-bold rounded-xl shadow-lg shadow-emerald-500/40 hover:from-emerald-400 hover:to-green-400 disabled:from-slate-600 disabled:to-slate-600 disabled:shadow-none transition-all disabled:cursor-not-allowed active:scale-95 transform duration-150",children:["Add to ",A?"Wish List":"Grocery List"]})]}),de&&D.jsx("div",{className:"mt-4 p-3 bg-slate-900/60 rounded-lg border border-amber-500/30",children:D.jsxs("p",{className:"text-xs text-amber-400 font-mono",children:["Mode: ",se," | Quantity: ",z]})})]})})})}),D.jsx("style",{children:`
        @keyframes slideIn {
          from {
            opacity: 0;
            transform: translateY(-10px);
          }
          to {
            opacity: 1;
            transform: translateY(0);
          }
        }

        @keyframes shake {
          0%, 100% { transform: translateX(0); }
          25% { transform: translateX(-5px); }
          75% { transform: translateX(5px); }
        }

        .animate-slideIn {
          animation: slideIn 0.3s ease-out;
        }

        .animate-shake {
          animation: shake 0.3s ease-in-out;
        }
      `})]})}var Go={exports:{}},wx=Go.exports,Yh;function bx(){return Yh||(Yh=1,(function(V,m){(function(g,p){V.exports=p(Qo())})(wx,function(g){return(function(p){function b(S){if(A[S])return A[S].exports;var O=A[S]={i:S,l:!1,exports:{}};return p[S].call(O.exports,O,O.exports,b),O.l=!0,O.exports}var A={};return b.m=p,b.c=A,b.d=function(S,O,N){b.o(S,O)||Object.defineProperty(S,O,{configurable:!1,enumerable:!0,get:N})},b.n=function(S){var O=S&&S.__esModule?function(){return S.default}:function(){return S};return b.d(O,"a",O),O},b.o=function(S,O){return Object.prototype.hasOwnProperty.call(S,O)},b.p="",b(b.s=3)})([function(p,b){p.exports=g},function(p,b,A){p.exports=A(7)()},function(p,b,A){(function(S,O){p.exports=O()})(0,function(){return(function(S){function O(y){if(N[y])return N[y].exports;var _=N[y]={i:y,l:!1,exports:{}};return S[y].call(_.exports,_,_.exports,O),_.l=!0,_.exports}var N={};return O.m=S,O.c=N,O.d=function(y,_,I){O.o(y,_)||Object.defineProperty(y,_,{configurable:!1,enumerable:!0,get:I})},O.n=function(y){var _=y&&y.__esModule?function(){return y.default}:function(){return y};return O.d(_,"a",_),_},O.o=function(y,_){return Object.prototype.hasOwnProperty.call(y,_)},O.p="",O(O.s=4)})([function(S,O,N){N.d(O,"b",function(){return I}),N.d(O,"c",function(){return J});var y=N(1),_=N(7);N.d(O,"a",function(){return _.a}),N.d(O,"d",function(){return y.b});var I=y.a.FACING_MODES,J=y.a.IMAGE_TYPES},function(S,O,N){var y=N(6);N.d(O,"a",function(){return y.a});var _=N(2);N.d(O,"b",function(){return _.a})},function(S,O,N){function y(X,se){if(!(se>=0&&se<=1))throw new Error(se+" is invalid imageCompression, choose between: [0, 1]");if(!G.f.includes(X))throw new Error(X+" is invalid imageType, choose between: "+G.f.join(", "));return!0}function _(X,se){var Ee={};try{y(X,se),Ee.imageType=X,Ee.imageCompression=se}catch(me){console.error(me),console.error("default value of "+G.c.PNG+" is used"),Ee.imageType=G.c.PNG,Ee.imageCompression=null}return Ee}function I(){var X=window.navigator.platform,se=window.navigator.userAgent;return X||se}function J(){return"ontouchend"in document}function ne(X,se,Ee){var me=X*parseFloat(Ee);return{imageWidth:me,imageHeight:se/(X/me)}}function ue(X,se,Ee){return _(se,Ee).imageType===G.c.JPG?Ee?X.toDataURL(G.b[G.c.JPG],Ee):X.toDataURL(G.b[G.c.JPG]):X.toDataURL(G.b[se])}function te(X,se){return X||se}function z(){var X=I();if(/iPad|iPhone|iPod/.test(X))return!0;var se=J();return!(!/Mac/.test(X)||!se)}function Z(){return{userAgent:window.navigator.userAgent,platform:window.navigator.platform,_getStringWithPlatform:I(),_getHasTouchEvents:J(),getIsIOS:z()}}O.c=ne,O.b=ue,O.e=te,O.d=z,O.a=Z;var G=N(3)},function(S,O,N){function y(Z,G,X){return G in Z?Object.defineProperty(Z,G,{value:X,enumerable:!0,configurable:!0,writable:!0}):Z[G]=X,Z}N.d(O,"e",function(){return I}),N.d(O,"a",function(){return J}),N.d(O,"f",function(){return ne}),N.d(O,"c",function(){return ue}),N.d(O,"b",function(){return te}),N.d(O,"d",function(){return z});var _,I=["user","environment"],J={USER:"user",ENVIRONMENT:"environment"},ne=["jpg","png"],ue={PNG:"png",JPG:"jpg"},te=(_={},y(_,"jpg","image/jpeg"),y(_,"png","image/png"),_),z={audio:!1,video:!0}},function(S,O,N){S.exports=N(5)},function(S,O,N){Object.defineProperty(O,"__esModule",{value:!0});var y=N(0);N.d(O,"FACING_MODES",function(){return y.b}),N.d(O,"IMAGE_TYPES",function(){return y.c}),N.d(O,"_getDebugPlatformInfo",function(){return y.d});var _=N(9);N.d(O,"downloadPhoto",function(){return _.a}),O.default=y.a},function(S,O,N){function y(ue,te){if(!(ue instanceof te))throw new TypeError("Cannot call a class as a function")}N.d(O,"a",function(){return ne});var _=N(2),I=N(3),J=(function(){function ue(te,z){for(var Z=0;Z<z.length;Z++){var G=z[Z];G.enumerable=G.enumerable||!1,G.configurable=!0,"value"in G&&(G.writable=!0),Object.defineProperty(te,G.key,G)}}return function(te,z,Z){return z&&ue(te.prototype,z),Z&&ue(te,Z),te}})(),ne=(function(){function ue(){y(this,ue)}return J(ue,null,[{key:"getDataUri",value:function(te,z){var Z=z.sizeFactor,G=z.imageType,X=z.imageCompression,se=z.isImageMirror,Ee=te.videoWidth,me=te.videoHeight,Q=Object(_.c)(Ee,me,Z),Se=Q.imageWidth,ce=Q.imageHeight,Ze=document.createElement("canvas");Ze.width=Se,Ze.height=ce;var qe=Ze.getContext("2d");return se&&qe.setTransform(-1,0,0,1,Ze.width,0),qe.drawImage(te,0,0,Se,ce),Object(_.b)(Ze,G,X)}},{key:"getWindowURL",value:function(){return window.URL||window.webkitURL||window.mozURL||window.msURL}},{key:"getNavigatorMediaDevices",value:function(){var te=null,z=!(!navigator.mediaDevices||!navigator.mediaDevices.getUserMedia),Z=!(!navigator.mozGetUserMedia&&!navigator.webkitGetUserMedia);if(z)te=navigator.mediaDevices;else if(Z){var G=navigator.mozGetUserMedia||navigator.webkitGetUserMedia,X={getUserMedia:function(se){return new Promise(function(Ee,me){G.call(navigator,se,Ee,me)})}};te=Object.assign(G,X)}return te}},{key:"isSupportedFacingMode",value:function(){return ue.getNavigatorMediaDevices().getSupportedConstraints().facingMode}},{key:"getIdealConstraints",value:function(te,z){if(!Object(_.e)(te,z))return I.d;var Z=ue.getNavigatorMediaDevices().getSupportedConstraints();if(!Z.width||!Z.height)return console.error("Constraint width or height not supported! fallback to default resolution"),I.d;var G=void 0,X=void 0;return te&&(I.e.includes(te)?G=te:X={exact:te}),{audio:!1,video:{facingMode:G,deviceId:X,width:z&&z.width,height:z&&z.height}}}},{key:"getMaxResolutionConstraints",value:function(){var te=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",z=arguments[1];console.warn("getMaxResolutionConstraints() numberOfMaxResolutionTry:",z);var Z=[{width:{min:640}},{width:{min:800}},{width:{min:900}},{width:{min:1024}},{width:{min:1080}},{width:{min:1280}},{width:{min:1920}},{width:{min:2560}},{width:{min:3840}}],G=ue.getIdealConstraints(te,{});if(z===0)return Object(_.d)()?(console.warn("fallback to iOS constraints"),ue.getIdealConstraints(te,{width:{min:640,ideal:3840},height:{min:480,ideal:2160}})):(G.video.advanced=Z,G);if(z<Z.length){var X=Z.slice(0,-z);return G.video.advanced=X,G}return null}},{key:"FACING_MODES",get:function(){return I.a}},{key:"IMAGE_TYPES",get:function(){return I.c}}]),ue})()},function(S,O,N){function y(te,z){if(!(te instanceof z))throw new TypeError("Cannot call a class as a function")}N.d(O,"a",function(){return ue});var _=N(1),I=N(8),J=(function(){function te(z,Z){for(var G=0;G<Z.length;G++){var X=Z[G];X.enumerable=X.enumerable||!1,X.configurable=!0,"value"in X&&(X.writable=!0),Object.defineProperty(z,X.key,X)}}return function(z,Z,G){return Z&&te(z.prototype,Z),G&&te(z,G),z}})(),ne=_.a.IMAGE_TYPES.PNG,ue=(function(){function te(z){y(this,te),this.videoElement=z,this.stream=null,this.numberOfMaxResolutionTry=0,this.settings=null,this.cameras=[],this.windowURL=_.a.getWindowURL(),this.mediaDevices=_.a.getNavigatorMediaDevices()}return J(te,[{key:"_getStreamDevice",value:function(z,Z){var G=this;return new Promise(function(X,se){var Ee=_.a.getIdealConstraints(z,Z);G.mediaDevices.getUserMedia(Ee).then(function(me){G._gotStream(me),X(me)}).catch(function(me){se(me)})})}},{key:"_getStreamDeviceMaxResolution",value:function(z){var Z=this,G=_.a.getMaxResolutionConstraints(z,this.numberOfMaxResolutionTry);if(G==null){var X={};return this._getStreamDevice(z,X)}return new Promise(function(se,Ee){Z.mediaDevices.getUserMedia(G).then(function(me){Z._gotStream(me),se(me)}).catch(function(me){setTimeout(function(){Z.numberOfMaxResolutionTry+=1,Z._getStreamDeviceMaxResolution(z).catch(function(){Ee(me)})},20)})})}},{key:"_setVideoSrc",value:function(z){if("srcObject"in this.videoElement)this.videoElement.srcObject=z;else{var Z=this.windowURL.createObjectURL(z);this.videoElement.src=Z}}},{key:"_setSettings",value:function(z){this.settings=null;var Z=z&&z.getTracks?z.getTracks():[];Z.length>0&&Z[0].getSettings&&(this.settings=Z[0].getSettings())}},{key:"_enumerateCamerasPromise",value:function(){var z=this;return new Promise(function(Z,G){var X=[];z.mediaDevices.enumerateDevices().then(function(se){se.forEach(function(Ee){Ee.kind==="videoinput"&&Ee.deviceId&&X.push(Ee)}),Z(X)}).catch(function(se){G(se)})})}},{key:"_gotStream",value:function(z){this.stream=z,this._setSettings(z),this._setVideoSrc(z)}},{key:"getCameraSettings",value:function(){return this.settings}},{key:"enumerateCameras",value:function(){var z=this;return this.stream?this._enumerateCamerasPromise():this.stopCamera().then(function(){}).catch(function(){}).then(function(){var Z={video:!0};return z.mediaDevices.getUserMedia(Z).then(function(G){setTimeout(function(){G.getTracks().forEach(function(X){X.stop()})},20)}).then(function(){}).catch(function(){}).then(function(){return z._enumerateCamerasPromise()})})}},{key:"startCamera",value:function(z,Z){var G=this;return this.stopCamera().then(function(){}).catch(function(){}).then(function(){return G._getStreamDevice(z,Z)})}},{key:"startCameraMaxResolution",value:function(){var z=this,Z=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return this.numberOfMaxResolutionTry=0,this.stopCamera().then(function(){}).catch(function(){}).then(function(){return z._getStreamDeviceMaxResolution(Z)})}},{key:"getDataUri",value:function(z){var Z={sizeFactor:z.sizeFactor===void 0?I.c:z.sizeFactor,imageType:z.imageType===void 0?ne:z.imageType,imageCompression:z.imageCompression===void 0?I.a:z.imageCompression,isImageMirror:z.isImageMirror===void 0?I.b:z.isImageMirror};return _.a.getDataUri(this.videoElement,Z)}},{key:"stopCamera",value:function(){var z=this;return new Promise(function(Z,G){z.stream&&(z.stream.getTracks().forEach(function(X){X.stop()}),z.videoElement.src="",z.stream=null,z._setSettings(null),Z()),G(Error("no stream to stop!"))})}}]),te})()},function(S,O,N){N.d(O,"c",function(){return y}),N.d(O,"a",function(){return _}),N.d(O,"b",function(){return I});var y=1,_=null,I=!1},function(S,O,N){var y=N(10);N.d(O,"a",function(){return y.a})},function(S,O,N){function y(z){for(var Z=atob(z.split(",")[1]),G=z.split(",")[0].split(":")[1].split(";")[0],X=new ArrayBuffer(Z.length),se=new Uint8Array(X),Ee=0;Ee<Z.length;Ee++)se[Ee]=Z.charCodeAt(Ee);return new Blob([X],{type:G})}function _(z,Z){return z+="",z.length>=Z?z:new Array(Z-z.length+1).join("0")+z}function I(z){var Z=te.c.PNG;return z==="image/jpeg"&&(Z=te.c.JPG),Z}function J(z,Z,G){return z+"-"+_(Z,4)+"."+I(G)}function ne(z,Z,G){window.URL=window.webkitURL||window.URL;var X=document.createElement("a");X.download=J(Z,G,z.type),X.href=window.URL.createObjectURL(z);var se=document.createEvent("MouseEvents");se.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,0,null),X.dispatchEvent(se)}function ue(z){var Z=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"photo",G=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;ne(y(z),Z,G)}O.a=ue;var te=N(0)}])})},function(p,b,A){p.exports=A(4)},function(p,b,A){Object.defineProperty(b,"__esModule",{value:!0});var S=A(5);A.d(b,"Camera",function(){return S.c}),A.d(b,"FACING_MODES",function(){return S.a}),A.d(b,"IMAGE_TYPES",function(){return S.b}),b.default=S.c},function(p,b,A){var S=A(6);A.d(b,"a",function(){return S.a}),A.d(b,"b",function(){return S.b}),b.c=S.c},function(p,b,A){function S(se){function Ee(){X&&clearTimeout(X)}function me(){return se.isImageMirror!==void 0?se.isImageMirror:se.idealFacingMode===I.FACING_MODES.USER}function Q(){var pt={sizeFactor:se.sizeFactor,imageType:se.imageType,imageCompression:se.imageCompression,isImageMirror:me()},At=ie(pt);se.isSilentMode||Object(z.c)(),typeof se.onTakePhoto=="function"&&se.onTakePhoto(At),qe(At),W(!1),Ee(),X=setTimeout(function(){W(!0),typeof se.onTakePhotoAnimationDone=="function"&&se.onTakePhotoAnimationDone(At)},900)}var Se=Object(O.useState)(""),ce=G(Se,2),Ze=ce[0],qe=ce[1],de=Object(O.useState)(!0),Re=G(de,2),_e=Re[0],W=Re[1],$=Object(O.useState)(""),Ve=G($,2),we=Ve[0],Oe=Ve[1],Ie=Object(O.useRef)(null),L=Object(J.a)(Ie,se.idealFacingMode,se.idealResolution,se.isMaxResolution),U=G(L,4),Y=U[0],ae=U[1],Ce=U[2],ie=U[3];Object(O.useEffect)(function(){Y?typeof se.onCameraStart=="function"&&se.onCameraStart(Y):typeof se.onCameraStop=="function"&&se.onCameraStop()},[Y]),Object(O.useEffect)(function(){ae&&(Oe(ae.name+" "+ae.message),typeof se.onCameraError=="function"&&se.onCameraError(ae))},[ae]),Object(O.useEffect)(function(){Ce&&Object(z.d)(Ce.message)},[Ce]);var ze=Object(z.b)(_e,me()),je=Object(z.a)(!_e),Je=se.isFullscreen?"react-html5-camera-photo-fullscreen":"";return N.a.createElement("div",{className:"react-html5-camera-photo "+Je},N.a.createElement(te.a,{cssClass:"display-error",isDisplayError:se.isDisplayStartCameraError,errorMsg:we}),N.a.createElement(ue.a,{isShowWhiteFlash:!_e}),N.a.createElement("img",{style:je,alt:"camera",src:Ze}),N.a.createElement("video",{style:ze,ref:Ie,autoPlay:!0,muted:!0,playsInline:!0}),N.a.createElement(ne.a,{isClicked:!_e,onClick:Q}))}var O=A(0),N=A.n(O),y=A(1),_=A.n(y),I=A(2),J=(A.n(I),A(9)),ne=A(13),ue=A(15),te=A(17),z=A(19),Z=A(21);A.n(Z),A.o(I,"FACING_MODES")&&A.d(b,"a",function(){return I.FACING_MODES}),A.o(I,"IMAGE_TYPES")&&A.d(b,"b",function(){return I.IMAGE_TYPES});var G=(function(){function se(Ee,me){var Q=[],Se=!0,ce=!1,Ze=void 0;try{for(var qe,de=Ee[Symbol.iterator]();!(Se=(qe=de.next()).done)&&(Q.push(qe.value),!me||Q.length!==me);Se=!0);}catch(Re){ce=!0,Ze=Re}finally{try{!Se&&de.return&&de.return()}finally{if(ce)throw Ze}}return Q}return function(Ee,me){if(Array.isArray(Ee))return Ee;if(Symbol.iterator in Object(Ee))return se(Ee,me);throw new TypeError("Invalid attempt to destructure non-iterable instance")}})(),X=null;b.c=S,S.propTypes={onTakePhoto:_.a.func,onTakePhotoAnimationDone:_.a.func,onCameraError:_.a.func,idealFacingMode:_.a.string,idealResolution:_.a.object,imageType:_.a.string,isImageMirror:_.a.bool,isSilentMode:_.a.bool,isDisplayStartCameraError:_.a.bool,imageCompression:_.a.number,isMaxResolution:_.a.bool,isFullscreen:_.a.bool,sizeFactor:_.a.number,onCameraStart:_.a.func,onCameraStop:_.a.func},S.defaultProps={isDisplayStartCameraError:!0}},function(p,b,A){function S(){}function O(){}var N=A(8);O.resetWarningCache=S,p.exports=function(){function y(J,ne,ue,te,z,Z){if(Z!==N){var G=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw G.name="Invariant Violation",G}}function _(){return y}y.isRequired=y;var I={array:y,bool:y,func:y,number:y,object:y,string:y,symbol:y,any:y,arrayOf:_,element:y,elementType:y,instanceOf:_,node:y,objectOf:_,oneOf:_,oneOfType:_,shape:_,exact:_,checkPropTypes:O,resetWarningCache:S};return I.PropTypes=I,I}},function(p,b,A){p.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(p,b,A){function S(z){return function(){var Z=z.apply(this,arguments);return new Promise(function(G,X){function se(Ee,me){try{var Q=Z[Ee](me),Se=Q.value}catch(ce){return void X(ce)}if(!Q.done)return Promise.resolve(Se).then(function(ce){se("next",ce)},function(ce){se("throw",ce)});G(Se)}return se("next")})}}function O(z,Z,G,X){function se(Ve){return ue.getDataUri(Ve)}var Ee=Object(_.useState)(null),me=ne(Ee,2),Q=me[0],Se=me[1],ce=Object(_.useState)(null),Ze=ne(ce,2),qe=Ze[0],de=Ze[1],Re=Object(_.useState)(null),_e=ne(Re,2),W=_e[0],$=_e[1];return Object(_.useEffect)(function(){z&&z.current&&(ue=new J.a(z.current))},[z]),Object(_.useEffect)(function(){var Ve=(function(){var we=S(y.a.mark(function Oe(){var Ie;return y.a.wrap(function(L){for(;;)switch(L.prev=L.next){case 0:if(te=!0,L.prev=1,Ie=null,!X){L.next=9;break}return L.next=6,ue.startCameraMaxResolution(Z);case 6:Ie=L.sent,L.next=12;break;case 9:return L.next=11,ue.startCamera(Z,G);case 11:Ie=L.sent;case 12:if(!z||!z.current){L.next=17;break}Se(Ie),de(null),L.next=19;break;case 17:return L.next=19,ue.stopCamera();case 19:L.next=24;break;case 21:L.prev=21,L.t0=L.catch(1),z&&z.current&&de(L.t0);case 24:case"end":return L.stop()}},Oe,this,[[1,21]])}));return function(){return we.apply(this,arguments)}})();if(Q)return(function(){function we(){return Oe.apply(this,arguments)}var Oe=S(y.a.mark(function Ie(){return y.a.wrap(function(L){for(;;)switch(L.prev=L.next){case 0:if(L.prev=0,!te){L.next=5;break}return te=!1,L.next=5,ue.stopCamera();case 5:z&&z.current&&(Se(null),$(null)),L.next=11;break;case 8:L.prev=8,L.t0=L.catch(0),$(L.t0);case 11:case"end":return L.stop()}},Ie,this,[[0,8]])}));return we})();Ve()},[z,Q,Z,G,X]),[Q,qe,W,se]}b.a=O;var N=A(10),y=A.n(N),_=A(0),I=(A.n(_),A(2)),J=A.n(I),ne=(function(){function z(Z,G){var X=[],se=!0,Ee=!1,me=void 0;try{for(var Q,Se=Z[Symbol.iterator]();!(se=(Q=Se.next()).done)&&(X.push(Q.value),!G||X.length!==G);se=!0);}catch(ce){Ee=!0,me=ce}finally{try{!se&&Se.return&&Se.return()}finally{if(Ee)throw me}}return X}return function(Z,G){if(Array.isArray(Z))return Z;if(Symbol.iterator in Object(Z))return z(Z,G);throw new TypeError("Invalid attempt to destructure non-iterable instance")}})(),ue=null,te=!1},function(p,b,A){p.exports=A(11)},function(p,b,A){var S=(function(){return this})()||Function("return this")(),O=S.regeneratorRuntime&&Object.getOwnPropertyNames(S).indexOf("regeneratorRuntime")>=0,N=O&&S.regeneratorRuntime;if(S.regeneratorRuntime=void 0,p.exports=A(12),O)S.regeneratorRuntime=N;else try{delete S.regeneratorRuntime}catch{S.regeneratorRuntime=void 0}},function(p,b){(function(A){function S(U,Y,ae,Ce){var ie=Y&&Y.prototype instanceof N?Y:N,ze=Object.create(ie.prototype),je=new Z(Ce||[]);return ze._invoke=ne(U,ae,je),ze}function O(U,Y,ae){try{return{type:"normal",arg:U.call(Y,ae)}}catch(Ce){return{type:"throw",arg:Ce}}}function N(){}function y(){}function _(){}function I(U){["next","throw","return"].forEach(function(Y){U[Y]=function(ae){return this._invoke(Y,ae)}})}function J(U){function Y(ie,ze,je,Je){var pt=O(U[ie],U,ze);if(pt.type!=="throw"){var At=pt.arg,We=At.value;return We&&typeof We=="object"&&me.call(We,"__await")?Promise.resolve(We.__await).then(function(Ue){Y("next",Ue,je,Je)},function(Ue){Y("throw",Ue,je,Je)}):Promise.resolve(We).then(function(Ue){At.value=Ue,je(At)},Je)}Je(pt.arg)}function ae(ie,ze){function je(){return new Promise(function(Je,pt){Y(ie,ze,Je,pt)})}return Ce=Ce?Ce.then(je,je):je()}var Ce;this._invoke=ae}function ne(U,Y,ae){var Ce=Re;return function(ie,ze){if(Ce===W)throw new Error("Generator is already running");if(Ce===$){if(ie==="throw")throw ze;return X()}for(ae.method=ie,ae.arg=ze;;){var je=ae.delegate;if(je){var Je=ue(je,ae);if(Je){if(Je===Ve)continue;return Je}}if(ae.method==="next")ae.sent=ae._sent=ae.arg;else if(ae.method==="throw"){if(Ce===Re)throw Ce=$,ae.arg;ae.dispatchException(ae.arg)}else ae.method==="return"&&ae.abrupt("return",ae.arg);Ce=W;var pt=O(U,Y,ae);if(pt.type==="normal"){if(Ce=ae.done?$:_e,pt.arg===Ve)continue;return{value:pt.arg,done:ae.done}}pt.type==="throw"&&(Ce=$,ae.method="throw",ae.arg=pt.arg)}}}function ue(U,Y){var ae=U.iterator[Y.method];if(ae===se){if(Y.delegate=null,Y.method==="throw"){if(U.iterator.return&&(Y.method="return",Y.arg=se,ue(U,Y),Y.method==="throw"))return Ve;Y.method="throw",Y.arg=new TypeError("The iterator does not provide a 'throw' method")}return Ve}var Ce=O(ae,U.iterator,Y.arg);if(Ce.type==="throw")return Y.method="throw",Y.arg=Ce.arg,Y.delegate=null,Ve;var ie=Ce.arg;return ie?ie.done?(Y[U.resultName]=ie.value,Y.next=U.nextLoc,Y.method!=="return"&&(Y.method="next",Y.arg=se),Y.delegate=null,Ve):ie:(Y.method="throw",Y.arg=new TypeError("iterator result is not an object"),Y.delegate=null,Ve)}function te(U){var Y={tryLoc:U[0]};1 in U&&(Y.catchLoc=U[1]),2 in U&&(Y.finallyLoc=U[2],Y.afterLoc=U[3]),this.tryEntries.push(Y)}function z(U){var Y=U.completion||{};Y.type="normal",delete Y.arg,U.completion=Y}function Z(U){this.tryEntries=[{tryLoc:"root"}],U.forEach(te,this),this.reset(!0)}function G(U){if(U){var Y=U[Se];if(Y)return Y.call(U);if(typeof U.next=="function")return U;if(!isNaN(U.length)){var ae=-1,Ce=function ie(){for(;++ae<U.length;)if(me.call(U,ae))return ie.value=U[ae],ie.done=!1,ie;return ie.value=se,ie.done=!0,ie};return Ce.next=Ce}}return{next:X}}function X(){return{value:se,done:!0}}var se,Ee=Object.prototype,me=Ee.hasOwnProperty,Q=typeof Symbol=="function"?Symbol:{},Se=Q.iterator||"@@iterator",ce=Q.asyncIterator||"@@asyncIterator",Ze=Q.toStringTag||"@@toStringTag",qe=typeof p=="object",de=A.regeneratorRuntime;if(de)return void(qe&&(p.exports=de));de=A.regeneratorRuntime=qe?p.exports:{},de.wrap=S;var Re="suspendedStart",_e="suspendedYield",W="executing",$="completed",Ve={},we={};we[Se]=function(){return this};var Oe=Object.getPrototypeOf,Ie=Oe&&Oe(Oe(G([])));Ie&&Ie!==Ee&&me.call(Ie,Se)&&(we=Ie);var L=_.prototype=N.prototype=Object.create(we);y.prototype=L.constructor=_,_.constructor=y,_[Ze]=y.displayName="GeneratorFunction",de.isGeneratorFunction=function(U){var Y=typeof U=="function"&&U.constructor;return!!Y&&(Y===y||(Y.displayName||Y.name)==="GeneratorFunction")},de.mark=function(U){return Object.setPrototypeOf?Object.setPrototypeOf(U,_):(U.__proto__=_,Ze in U||(U[Ze]="GeneratorFunction")),U.prototype=Object.create(L),U},de.awrap=function(U){return{__await:U}},I(J.prototype),J.prototype[ce]=function(){return this},de.AsyncIterator=J,de.async=function(U,Y,ae,Ce){var ie=new J(S(U,Y,ae,Ce));return de.isGeneratorFunction(Y)?ie:ie.next().then(function(ze){return ze.done?ze.value:ie.next()})},I(L),L[Ze]="Generator",L[Se]=function(){return this},L.toString=function(){return"[object Generator]"},de.keys=function(U){var Y=[];for(var ae in U)Y.push(ae);return Y.reverse(),function Ce(){for(;Y.length;){var ie=Y.pop();if(ie in U)return Ce.value=ie,Ce.done=!1,Ce}return Ce.done=!0,Ce}},de.values=G,Z.prototype={constructor:Z,reset:function(U){if(this.prev=0,this.next=0,this.sent=this._sent=se,this.done=!1,this.delegate=null,this.method="next",this.arg=se,this.tryEntries.forEach(z),!U)for(var Y in this)Y.charAt(0)==="t"&&me.call(this,Y)&&!isNaN(+Y.slice(1))&&(this[Y]=se)},stop:function(){this.done=!0;var U=this.tryEntries[0],Y=U.completion;if(Y.type==="throw")throw Y.arg;return this.rval},dispatchException:function(U){function Y(pt,At){return ze.type="throw",ze.arg=U,ae.next=pt,At&&(ae.method="next",ae.arg=se),!!At}if(this.done)throw U;for(var ae=this,Ce=this.tryEntries.length-1;Ce>=0;--Ce){var ie=this.tryEntries[Ce],ze=ie.completion;if(ie.tryLoc==="root")return Y("end");if(ie.tryLoc<=this.prev){var je=me.call(ie,"catchLoc"),Je=me.call(ie,"finallyLoc");if(je&&Je){if(this.prev<ie.catchLoc)return Y(ie.catchLoc,!0);if(this.prev<ie.finallyLoc)return Y(ie.finallyLoc)}else if(je){if(this.prev<ie.catchLoc)return Y(ie.catchLoc,!0)}else{if(!Je)throw new Error("try statement without catch or finally");if(this.prev<ie.finallyLoc)return Y(ie.finallyLoc)}}}},abrupt:function(U,Y){for(var ae=this.tryEntries.length-1;ae>=0;--ae){var Ce=this.tryEntries[ae];if(Ce.tryLoc<=this.prev&&me.call(Ce,"finallyLoc")&&this.prev<Ce.finallyLoc){var ie=Ce;break}}ie&&(U==="break"||U==="continue")&&ie.tryLoc<=Y&&Y<=ie.finallyLoc&&(ie=null);var ze=ie?ie.completion:{};return ze.type=U,ze.arg=Y,ie?(this.method="next",this.next=ie.finallyLoc,Ve):this.complete(ze)},complete:function(U,Y){if(U.type==="throw")throw U.arg;return U.type==="break"||U.type==="continue"?this.next=U.arg:U.type==="return"?(this.rval=this.arg=U.arg,this.method="return",this.next="end"):U.type==="normal"&&Y&&(this.next=Y),Ve},finish:function(U){for(var Y=this.tryEntries.length-1;Y>=0;--Y){var ae=this.tryEntries[Y];if(ae.finallyLoc===U)return this.complete(ae.completion,ae.afterLoc),z(ae),Ve}},catch:function(U){for(var Y=this.tryEntries.length-1;Y>=0;--Y){var ae=this.tryEntries[Y];if(ae.tryLoc===U){var Ce=ae.completion;if(Ce.type==="throw"){var ie=Ce.arg;z(ae)}return ie}}throw new Error("illegal catch attempt")},delegateYield:function(U,Y,ae){return this.delegate={iterator:G(U),resultName:Y,nextLoc:ae},this.method==="next"&&(this.arg=se),Ve}}})((function(){return this})()||Function("return this")())},function(p,b,A){var S=A(0),O=A.n(S),N=A(1),y=A.n(N),_=A(14),I=(A.n(_),function(J){var ne=J.onClick,ue=J.isClicked,te=ue?"is-clicked":"";return O.a.createElement("div",{id:"container-circles"},O.a.createElement("div",{id:"outer-circle",onClick:function(z){ue||ne()}},O.a.createElement("div",{id:"inner-circle",className:te})))});I.propTypes={onClick:y.a.func.isRequired,isClicked:y.a.bool.isRequired},b.a=I},function(p,b){},function(p,b,A){var S=A(0),O=A.n(S),N=A(1),y=A.n(N),_=A(16),I=(A.n(_),function(J){var ne=J.isShowWhiteFlash,ue=ne?"do-transition":"",te=ue+" normal";return O.a.createElement("div",{id:"white-flash",className:te})});I.propTypes={isShowWhiteFlash:y.a.bool.isRequired},b.a=I},function(p,b){},function(p,b,A){function S(ne,ue){return ne&&ue&&ue.length>0}var O=A(0),N=A.n(O),y=A(1),_=A.n(y),I=A(18),J=(A.n(I),function(ne){var ue=ne.isDisplayError,te=ne.errorMsg,z=ne.cssClass;return S(ue,te)?(console.log("cssClass",z),N.a.createElement("div",{className:z,id:"display-error"},N.a.createElement("h1",null,"Camera error: ",te))):null});J.propTypes={isDisplayError:_.a.bool,errorMsg:_.a.string,cssClass:_.a.string},b.a=J},function(p,b){},function(p,b,A){function S(ne){return ne?{display:"inline-block"}:{display:"none"}}function O(ne){return ne?{transform:"rotateY(180deg)"}:{transform:"none"}}function N(ne,ue){return Object.assign({},O(ue),S(ne))}function y(){new Audio("data:audio/mp3;base64,"+J.a.base64).play()}function _(ne){console.info("react-html5-camera-photo info:",ne)}b.a=S,b.b=N,b.c=y,b.d=_;var I=A(20),J=A.n(I)},function(p,b){p.exports={base64:"SUQzBAAAAAAASVRQRTEAAAAcAAADU291bmRKYXkuY29tIFNvdW5kIEVmZmVjdHMAVFNTRQAAAA8AAANMYXZmNTcuNzIuMTAxAAAAAAAAAAAAAAD/+1QAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABJbmZvAAAADwAAAB0AACxAAA0NDRUVFR4eHh4nJycvLy8vODg4QUFBQUlJSVJSUlJbW1tjY2NsbGxsdXV1fX19fYaGho+Pj4+Xl5egoKCgqampsbGxurq6usPDw8vLy8vU1NTd3d3d5eXl7u7u7vf39////wAAAABMYXZjNTcuOTMAAAAAAAAAAAAAAAAkAkAAAAAAAAAsQC+b5ZH/+5RkAA/wAABpAAAACAAADSAAAAEAAAGkAAAAIAAANIAAAAR4RBEitS0FLUmhcO1TSK1JoJrUtC4dpmkUlLQTQUtC4dpqkUkVoJoJpxcO01KKSK1JoJoRcO01i0kUlLGJkCdw7Skpaho4aHGJkCZkO0pIrDBxw0OGHoEzD3aUkVhg4wMHDD0E4tjjUkUgw8YPDhloJxbSaSRSGhxg8YpaCcW00kRSRWpNBOxZ/1VVFlv/9LLLqu//VVVUW//WWWWXd/6VVVVd/+qsssGH/ZZZVVUDt+1VVlli1dIxZZVUDI0RhaqqyzX9GLLLKq/+QtVVGgCAACMZAAY0NkBDHeIlc0SIVc0Kpu8Sudc0SucfQq+iRCd4hOlc0SubvEJ3NHiE76FErnCr13iE74d4hO8Q0SuaJUSuaJXKvEJ330Su8Q0KuaFUJ3iVzcWaJQ7wWYBHSMAgAD4xjjeYxjZ35znnO/zkJOfqQhKnO6B88jTnnOd0IRjhwUZTnO85///znkD/+5Rkrg7gAABpAAAACAAADSAAAAEQ2Y50IITAARuAEEgQjXnhDgIHCKc53IHxdyEbnOehCEkJ+pCelSMp4gHBRQ4HG5CSE8hJCN/U7oIBwONJAAAAABzNHNlZ0RgQYz9Z7iGTHEB/80BaFYCuiQxoNtAsgAYQaVXEGCOw1eAQwscAnqCA4wbgC2AfcLWgsjQU2SxNkDIOQcAICYDsC/QfJunpFwYwiBPhc4QIMLhqQFyQQMafSYToaBt4ucd4uQQUAgwyMNQQuQItic+ghuLAQdlkELTqJsxICMaQ4UERZT0KbbSURTRUOZYcwcwY5MiwoENUDJjGFslwwOn609SlqYXIK0HgXO8XPcbKThcIPIuUVoQiSyXYhB9OtX////+MF0v////zWIAICAEKgAB/mXJmPHgWEBgPOgZOlaYsIFBP+AQ4QLHrqkMPcPAKKBZ7ZFyAhl8AcIGyALmsoLqwDiCwCxhv4aX8i47Q9MOXKIXAEgKFDAxNenFnkHFkEQb/+5RE9QADBV+6LQRgAltMZtWglABa0gEKuaiAC3vAoeM1MAAWYQILzHIICTw5nW7RcBUEpjnkHEoDmA3lH0Xw/cQVFJCxdNqCh2E2Xy+dJs3JsiossdgrUcoTkRIc5t++OWO8ToPJNi5D0XIXSYEJxaidDVAy5PlocIZPW62fVpyLigBQBAHrIuVrJOFrg5pLCcSAkokPocwjSNHPHN0//////////+QhCj7qaGYVYmpqaAAAGq7AwgBlh8VBaQtGWez8jOC40Cs8QWdoEoqxgWS1OGgVhKDhH+mSYIkesyxKFQLAOJPHUkiRlkHQGoXY9YwWxnKGEht1WcAxxbxjowl8ZZOpjMoTFYLhMp1UWNzTcRKlEThVyzRJ9C5JpucTzZNnKasIvafZ4+7b8Nv83+Mazrf1JvUKBJrxNz2pLmfWWKB/Cz8x/7RM5/1Ce/+L76+P5VVv//Of/6N7Pce0F4fxJEPU6bWE3FR6oN5kpCbjkeTdixgeMWuvWJWbPnn/+5RkagAFn1nIzmXgAoEqWPDHsABTQW8/uPeACTkOaPcYsABbsyzEjbu+fchSvlqOGJ9HCWDt1LSxKyl8Ukl5ZzCMTzuj69ziub5eq/GI1/jU05e/Vyef+sLP2UOTjPezyH/2pWN3Kd+UX7tbbLmTSNimTrrEzKqWI82ZXEVz/f+APYQWsTYAFgsDYkDgbEotLbToGU/zJZiBhooccZojHRxKjGTDmIYgELVTQ6I2QqDhXYc7gxAUg/WKLpvmqB/Aa3CjVqNWDqJq6FkPVCvUdaazrdNQLVgv4+X93OD48uq7h+33naGTRWem5b5x8/PzbP34OY+8UeZuq839/vV6xL5/9b/XgaviJ9X39eff////zE3/////R5XdMx9Zlv5kMT+fb+7lKgBsvQwB1JIZFR4wVnWT2FlJ/9ydOZTEtzzjSMAwIrF0HW4nk9iLot6Z7fXzZ9ce865weBD+l9AJVqCZJWiEQsTcMVtf+2qtxuAtqJsBk0mAUCkVg8GmyjH/+5RkCQADSzRfbjFgBDyCa4/GlACMzGFh/PMACSAXa/+SUACjoDx0SmqACERx/bjtG4yJBsfEURAKyS7HTNFQ7ithQtedceTij5ucmkWN8luex6UdfP/y85Ma9PZExfX7fX5N6mDZIDUU5B4GFjoqoho+gmvcXDwfOFEQBAJAImIAIgAEBgoCAACgBWBb6r87R1ptBJTt9CIxPHoSUlxjgK9m/SEj3c159dg8LocfP5dBMH0/+r8bNvCqREJgBAo3AsBPzmJsdpUPjpXS9g9FMzKZrbNwgKTOuEDqnHmTRomLkbR2pd3RDi2Tznwzv//7otGijIoTEh2G3Q46FAgGDpWjmXd5f7f/7jYhgVdpAWecCrcCQt2IrHuQFiFFHxnaDIwAAJAFyyJGMwQlgONtlkI6kliXEWGr3/aI4kBnKOqNM539ilaUrLMZH/lUzP+ubGjlo8qZtgiBDTywUCohJd1f/r7rKml6giMBAAJEqYxixGCLCoy4k/LilUWoA4T/+5RkDIIDKhvW+ekyIkcDiu8kYoQMtHVX56UMiSmMKrj0jJnnxKuJignB5BdoZW+9uSWOWnCfrsssUm7dsQBie/NwY8W5Mcwd2coQYLGa4lTralcVA1UmoIyYTV/+2yAhmrb2/n/usGNZ7WlQTff6IlqcUUhEAJEqA8DKDVVREeIr8esjOrIUkuirufCdazjA811RD9N4LbvbaQCrw4dHvhMDz5A2w6KgoASjBS/Z+oFXtQIWF1JaIlkIxIAVMLauzmL6Rl2Q88yap03k8jXbwTjyBATEib0nyZFm3bJLlisBM01260qLqxtjRyN3m+oeF0gaslaUUUQ+FPb3T5AmE9qgnWRkokRC7/ODQPHdJPvq//9E2/SxEVK8v8htbsiCAAAgWWvTAjwQFpoiNLhYgE54RXwYLM+nGalvD2YxIJBjCwcqYng0c1/O3ts1SX8vgE9ZFUddfs8VPyCUwUA1wwzDBe2/+arbfpkEAAkBTABB0BwGgTAGdBCwAkBHJh7/+5RkDAADMxjUaYxJwkuiap8xIygM4G9Tp5kQmQkTrXzAmmOsHqFdAdFFCiEr5yxbLwZtWEEdVovOs23MAvAStVLKV8IXKgKrT8ncmLedi7bB/cA3VbAaKlqOq5/HaA4InbPz5nmuucADoe6xcBNt7tSPMuqIZAAAJBShDfodhw8JW8ZZJHhUwH3Fw7/DalLuM1CoAAQXCh4QvMhMrHIu0JKhUHpigUiESAQcKQCBYuIlFAIIUGgiPNQr+3/qOciRRBARJTh8shKgNIuRVKUxSdti8UYsSmgfCmU53r4EGDk9h+UaQORLKigsxpCqsGqz2zQThjt29fjfjzCmksKQOfPf4ErnOwvcZIT9DQVP/9TFYZiYuyTT96/zSiWVZKgcauvX/Fd2hVVUNhuyQBJGdRxhU4uKqjyBE8rLjlmFbTMFLMEjhIDHv6NmRNmf/x/F/5cxOiRvEoLByWYmOhp3cSRgUq/7/qoYV0MBAAAAIAdHYSUB4FLQkP5cCxrCATz/+5RkDAADcxrQ+e8ackTCep8wwjpL4TlL56RsgQ2T6HjEiTjmdytbVp+p2hSvFX/J3siqX5Wp2r5mJhZB/SmifjK/QQ4ShGCxzKeZDGcp/kktH8kDWWOSZDARPRv7gK6He3vFplnf/ISQ4UblSirr/7W5uvEVbi7d/41VMOCGZhBRugHYuN2QEgAmo6plMR15BTDpS6GyW+h+zjhlE8LMf//ITt//LrTQsNbb/J9Zyp169ismbG93VWFmoE0ymLyzqiiAgAXG5uD/P1BnCX472hAoSyXQ5JvjJEp2tNIkZx/G6bBA1KGgQYzpIzGm5IWHFI3Mrnvebeakn//f8j/pWaH1rsSqWc2dp0jnbn3/7JmdV7+rm4jPHhXFE1r0tJiYoAAAAigB0SlA5VjmyuiQgE4EkySaHa9QarZQzE+i/c44HSRySJ4CDjRhoytL7p/+PEeSed2CYQgcEgTaIoDtrrpKeaNEABAKbd2LYYyuPAvgvmUzBhOEiQkCUASwM4n/+5RkDwACrRjR+eZCQEOC2f4x5jYL0TlD56RriN8N7HyXiJ54Gw8X6M1cW+MDfWrsKucJQ0gMq/komUNiAq4FSIwOpfEowi0zG6KleQCSwEHCweBskbbnvsRfcri9EggAAUkBeGC1nNGwSq4XGArmaGnlPGbIccshyzql3zEm2iXAZItfIUAwLCoVDYKxffIQWDp2wsVDAJDsKevOnvQcxkqRgBAKSS4GO+X2ZRCBlqF/QtpvneXKjA4qgriVakmnNLSUvMmiVGtept5SCQ5tDuocjzRsk/bPpezir/nVJu2kc4xlwvbaEtJd6zQ6R3eZfPv/ZJ9m7oiBSzn3SsPUuzAigOuJgJs0MnJOxdG1Hos5k5GjucbkewcqlX//d9egcowOwg72yIVFgeHHACCQIp/9PT01NnhGAQAAAknKA6Tbgw7HGWOAnUc4qlQxWxVTQozhF1NqtN4r5ZNzwrSNPp7VsAAhMNBEATOaL/+InKoczbIhOQm8yucxCbkEwBj/+5RkJQACy03O+eEWUj8Cqd0kI2JK7FM957BJCP8LZrDEjRj7MQQulP8iNv1ZQ4OWjvqHfxoAAAVtoBJyKgSboha50SOlHFNhEvo0yk1IDQILHJd8pzLwyCCFsP8b6IUbJYLXxxLBnDxp1STleWZlv/9Kz3aKJGABkluAYT6bKlJ0SsMEFQhDZNG46mJhXjMyWnaEijV2W3UQQjhJ2y0PbgCxKEv/f+ooiGu9UlKa1tKv4sNhxYveU5D+e9J/2/3u9i4YA5osaQqZV7oIAAVOEC1I9By09EwqKkMtLA2RufTbvi1rZ3AWUsGCwYCCGdpMJPBVQLQqxvFCAWEaRqjziYSr/tU5CgK2lSZ5l0MQIByXbAOUTklQFwOgfB8rh4B4jOlhhg7ZuucQTkGoy6+ZAqKKQ6gWMbPkZmZ9al/+kwJlkVSkI3uaVC2PdDdkO2QyMxaaVttL+yKt1NKxBTFCCAVrowyW2stA1KFv0hbLb65ETygHpTFEK1a04Ng4gIb/+5RkOwAC0k7O+YMUUj6BiiwFgg3KmJ8zphhtQRKNZGBmJRA3zVydPlFXGVS////puxqodg5reZNm7/MndWf/JPWm/zFfXM98bBIBmkEAqijiJIAzdzxAOh6LS9CEgB3NmijZQuE95VFuWutlsK2FVMstBJuVY76LLWembjBBYkSAGFCwCSE1Ppa8UNIPf/rQVegNg4JAcJFg6bBbQAIAMCuSFKdNYIqoIFhkZHZCSAvBs6hSPpInc9z4qA4OHAHPHf+l0aFJ/6EAAV2ArBonPBCu1MQoShTe7XNf9XsZ9qpd+AAP+gZLrd1p3akdlU8FYXUqpYXEkAAVGvN3ewT7cvODAwWv/t31+k+EtuUdesnV7G0KUzixLoR06olmbZdiqiqzv7N7ttT6aftruhpizihYWJqUcutcZKiaIBXJKbYkBix6RiszxMK5sJ3Ztcpka/ndJlS85HzhllK4TzomBkODyvw6MKWqB1yAbBMTKNvY95k+RrRGFkLBABAgI4n/+5RkT4QSok5JyeYT4kUDee0Z40mKUJ8YyLypwOeOZChhDhBy6cO3WizCTU0ThVTKhLA6LJCj9VhvNbUxMr572iZ6pVQhrx7L5n3lEWWQSMJMsqkMdU/2ogTDpQ1LUgDmIw0+xSPp8q74NAETGx7fpCHkBgwgHtJJbfdIBQ2Ei9iiS4Fg8HgwECBAIpSoj4KVspVh+KNAkISWq9gdCp655vAt6qxRINC8/20T9M/zI5/3sr5eevDsXTYoZDpVDe4LaAc3X7C+k/mRXV/V5vK5X/MCgvHUGw6tbfym3UZ9VRnJVEgkcSR3dZmtOt37p7dv6f/T6V/5QuVKCHLFJbd+mxP/FHcjQI+/uXECJ7zhGKxohM9ZXlY1KlYdgNDNEOUMYLMaFMiPhVqvdmtZbF0KohuyOtfX+j/+n/xVc7/7fut6xwOQ9a6vx5ougb49A6BJJiQoymSK5RLTnwaC0KFVw9GzUl1d/2ZWq5kZlbpVkQ4EZ1WpHor+uT365V/7vT//+5Rkao9yt1FEAeY+EEBoWIAk4pQJATkOBZhRAQuSIZBzCXDoq+3/8Y3/2M/FBCAObWqHRAAtBiifAQCA1BRpVb52s2S5LI2Dq/8pdzkc9Eo10eK9QbhdwiNCt85vHP1ouZJ3FHtp77tE/0fZHon7N6oJwACADvQx9SohjjDiuogvjxhWFb55pURta2RhcxRyGZ73J0P0VvoiQ4ZlVaNv1djz1ZmtRGX9aKt2/33+1vszag1xXTcAbOWQBd6nCJkAAAwE50ngeCHKFx4NgkajxyDQGDg8gbAB82lgNsldzF0/I1VXDWjZv6losVd/pjqv+mkYxQAgLAqKmFTMqgPTSAlvGL6vsVEwoP4QoNGxYoxifXxK5OK3E9Raod2Xk6CZV263XWvqrscMz9Fa3b0ATfVXh3tQen8E8aMctpDNFg+tKkvaxhtKRI5UCFQOo+ei5Y3ApV5GBuyyL3V5hL1tIrGwRIlHhIqrvQBtZxSWLjrVaqwMSGQ1hqCNaJDGiFH/+5RkhwBSYU3DQUYS4DThKHsAIgQHeGkNgIhqgQQJ4NQAjCJAlFF/+Pt02b8lSSXzdgtLH4ihpv64/LHJp/ekvx66X+Hd5lMVFew/KbF2/CeuO7/xf903H92Cr0eRG0lKHlls5APGEG0b1MrTN/Pxtf92++3b1/ZC7yOuo1L/fUJr99PmOau1+DczWWohH8L0eh/nWTbo8/OvyZ/ccZuEf/+Rn/l/L/M//+ZEqKpH+ZFToqJ+iqi+i/yoi+ip9yhgYMh27OZUWpgoIEd1ITFaxUllRQWcDAaskNCYwCgJAlEQaBsJgsBQSlREGgbCYLBUBAUSiINB2dKnUZK3kSJ1948Y9LNCn/I9c763Wf1AVct8rUxBTUUzLjk5LjVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVX/+5REtg5yOQ+/ACAYIkLiWBAEIy5G6UjKQIBcAPWAH5ARjShVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVACCU025+ZGfywyOy3//ksyP+XMmstIyNWCggQNHI1ls////WWRyMmVgYME6GTLJZ///2WWxyNWWSoZGrWyzL/9WVqCBOhkyhgYMI6GrBQUqFpoVFP9bDILCzOLiv/rFRYk//qF+LCrDKm/4o2sVFtbP6hdmLCsyoXUxBTUUzLjk5LjVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVX/+5Rkjg/ygl8ruCAaQiiABWAAAAAAAAGkAAAAIAAANIAAAARVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVUxBTUUzLjk5LjVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVX/+5RkUY/wAABpAAAACAAADSAAAAEAAAGkAAAAIAAANIAAAARVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVUxBTUUzLjk5LjVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVX/+5RkUY/wAABpAAAACAAADSAAAAEAAAGkAAAAIAAANIAAAARVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVUxBTUUzLjk5LjVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVX/+5RkUY/wAABpAAAACAAADSAAAAEAAAGkAAAAIAAANIAAAARVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVUxBTUUzLjk5LjVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVX/+5RkUY/wAABpAAAACAAADSAAAAEAAAGkAAAAIAAANIAAAARVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVUxBTUUzLjk5LjVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVX/+5RkUY/wAABpAAAACAAADSAAAAEAAAGkAAAAIAAANIAAAARVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVUxBTUUzLjk5LjVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVX/+5RkUY/wAABpAAAACAAADSAAAAEAAAGkAAAAIAAANIAAAARVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVUxBTUUzLjk5LjVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVX/+5RkUY/wAABpAAAACAAADSAAAAEAAAGkAAAAIAAANIAAAARVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVUxBTUUzLjk5LjVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVX/+5RkUY/wAABpAAAACAAADSAAAAEAAAGkAAAAIAAANIAAAARVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVUxBTUUzLjk5LjVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVX/+5RkUY/wAABpAAAACAAADSAAAAEAAAGkAAAAIAAANIAAAARVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVUxBTUUzLjk5LjVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVX/+5RkUY/wAABpAAAACAAADSAAAAEAAAGkAAAAIAAANIAAAARVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVUxBTUUzLjk5LjVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVX/+5RkUY/wAABpAAAACAAADSAAAAEAAAGkAAAAIAAANIAAAARVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVUxBTUUzLjk5LjVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVX/+5RkUY/wAABpAAAACAAADSAAAAEAAAGkAAAAIAAANIAAAARVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVUxBTUUzLjk5LjVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVX/+5RkUY/wAABpAAAACAAADSAAAAEAAAGkAAAAIAAANIAAAARVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVU="}},function(p,b){}])})})(Go)),Go.exports}var Ex=bx();const Cx=qh(Ex),vx=()=>{const V=b=>{const[A,S]=b.split(","),O=A.match(/:(.*?);/)?.[1];if(!O)throw new Error("Invalid data URI");const N=atob(S),y=new Uint8Array(N.length);for(let _=0;_<N.length;_++)y[_]=N.charCodeAt(_);return new Blob([y],{type:O})};async function m(b){try{const A=new FormData;A.append("image",b,"inference.jpg"),console.log("form data out of the ml scanner: "+A);const S=await fetch("/api/send_inference_image",{method:"POST",body:A});if(!S.ok){console.error("Upload failed:",S.statusText);return}const O=await S.json();return console.log("Got class:",O),O}catch(A){console.error("Error sending image:",A)}}const g=(b,A,S)=>new Promise(O=>{const N=new Image;N.onload=()=>{const y=document.createElement("canvas"),_=y.getContext("2d");y.width=A,y.height=S,_.drawImage(N,0,0,A,S);const I=y.toDataURL("image/jpeg",.8);O(I)},N.src=b}),p=async b=>{try{const A=await g(b,224,224),S=V(A);await m(S)}catch(A){console.error("Error during inference:",A)}};return D.jsx("div",{children:D.jsx(Cx,{onTakePhoto:b=>p(b),idealFacingMode:"environment",isMaxResolution:!1,isImageMirror:!1})})},Sx=()=>{const V=ms(),m=ya(),p=new URLSearchParams(m.search).get("wishlist"),[b,A]=k.useState(""),[S,O]=k.useState(""),[N,y]=k.useState(""),[_,I]=k.useState(""),[J,ne]=k.useState(null),[ue,te]=k.useState(null),[z,Z]=k.useState(null),[G,X]=k.useState(null),[se,Ee]=k.useState(""),[me,Q]=k.useState(!1),Se=Re=>{A(Re.target.value),ne(Re.target.value)},ce=Re=>{O(Re.target.value),te(Re.target.value)},Ze=Re=>{y(Re.target.value),Z(Re.target.value)},qe=Re=>{I(Re.target.value),console.log("inputValue4: "+_),X(Re.target.value)},de=()=>{let Re=z||"1",_e="",W=G||"";J?_e=J:(console.warn("no item name supplied"),Ee("you havent supplied the necessary item name"),Q(!0),setTimeout(()=>{Q(!1)},2500)),ue||(console.warn("no ean supplied"),te("none")),G||(console.warn("no subgroups supplied"),X("none"),W="none"),z||(console.warn("no count supplied"),Z("1"),Re="1",setTimeout(()=>{},50)),console.log("ean: "+ue+" item name: "+J+" subgroups: "+G+" count: "+Re),console.log("'"+W+"'"),_e&&Re&&W&&Re&&parseInt(Re)>0&&(console.log(`now sending to this endpoint with this url: /api/add_ean_to_list_manual/?item_name=${encodeURIComponent(_e)}&subgroups=${W}&count=${encodeURIComponent(Re)}&is_wish_list=${p}`),fetch(`/api/add_ean_to_list_manual/?item_name=${encodeURIComponent(_e)}&subgroups=${W}&count=${encodeURIComponent(Re)}&is_wish_list=${p}`),setTimeout(()=>{V("/")},300))};return D.jsx("div",{className:"",children:D.jsxs("div",{className:"mb-4",children:[me?D.jsx(h0,{text:se}):D.jsx(D.Fragment,{}),D.jsx("input",{type:"text",value:b,onChange:Se,placeholder:"item name",className:"my-3  bg-gray-800 w-full px-3 py-2 border border-gray-300 rounded-md placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),D.jsx("input",{type:"text",value:S,onChange:ce,placeholder:"ean",className:"my-3  bg-gray-800 w-full px-3 py-2 border border-gray-300 rounded-md placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),D.jsx("input",{type:"text",value:N,onChange:Ze,placeholder:"count (default = 1)",className:"my-3  bg-gray-800 w-full px-3 py-2 border border-gray-300 rounded-md placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),D.jsx("input",{type:"text",value:_,onChange:qe,placeholder:"subgroups",className:"my-3  bg-gray-800 w-full px-3 py-2 border border-gray-300 rounded-md placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),D.jsx("button",{onClick:de,children:"submit"})]})})},Zh=({text:V,onClick:m,disabled:g=!1,loading:p=!1})=>D.jsx("button",{className:"object-contain",onClick:()=>m(null),disabled:g||p,children:V}),Tx=500,Nx=1e4,n0={retries:3,baseDelay:1e3,timeout:1e4};async function l0(V,m={},g=n0.retries){let p=null;for(let b=0;b<g;b++)try{const A=new AbortController,S=setTimeout(()=>A.abort(),n0.timeout),O=await fetch(V,{...m,signal:A.signal});if(clearTimeout(S),!O.ok)throw new Error(`HTTP ${O.status}: ${O.statusText}`);return await O.json()}catch(A){p=A instanceof Error?A:new Error(String(A)),b<g-1&&await new Promise(S=>setTimeout(S,n0.baseDelay*(b+1)))}throw p??new Error("API call failed")}async function Rx(V){try{return await l0(V),!0}catch(m){return console.error("API call failed (non-blocking):",m),!1}}function Ox(){const V=ms(),[m,g]=k.useState(window.innerWidth),p=m<=Tx;k.useEffect(()=>{const de=()=>g(window.innerWidth);return window.addEventListener("resize",de),()=>window.removeEventListener("resize",de)},[]);const[b,A]=k.useState(null),[S,O]=k.useState([]),[N,y]=k.useState(!1),[_,I]=k.useState(!1),[J,ne]=k.useState(!1),[ue,te]=k.useState(null),z=k.useRef(null),Z=k.useRef([]),G=k.useRef(null),X=k.useCallback((de,Re=1)=>{const _e=new URLSearchParams({wishlist:"true",count:String(Re)});de?.subgroups?_e.set("subgroups",de.subgroups):_e.set("text",""),V(`/scanner?${_e}`)},[V]),se=k.useCallback(async()=>{const de=await navigator.mediaDevices.getUserMedia({audio:{channelCount:1,sampleRate:16e3}}),Re=MediaRecorder.isTypeSupported("audio/webm;codecs=opus")?"audio/webm;codecs=opus":"audio/webm",_e=new MediaRecorder(de,{mimeType:Re});Z.current=[],_e.ondataavailable=W=>{W.data.size>0&&Z.current.push(W.data)},_e.onstop=()=>{de.getTracks().forEach(W=>W.stop())},z.current=_e,_e.start(1e3),ne(!0)},[]),Ee=k.useCallback(()=>new Promise(de=>{const Re=z.current;if(!Re){de(new Blob);return}Re.onstop=()=>{const _e=new Blob(Z.current,{type:"audio/webm"});ne(!1),de(_e)},Re.stop()}),[]),me=k.useCallback(async()=>{A(null);try{if(!J)await se();else{y(!0);const de=await Ee();if(de.size===0){A("No audio recorded");return}const Re=new FormData;Re.append("file",new File([de],"recording.webm",{type:de.type}));const _e=new URLSearchParams({only_wish_list:"false"});_e.set("ListTypesInput","wish_list");const W=await l0(`/api/transcribe?${_e}`,{method:"POST",body:Re});te(W.transcribed_text),await ce(),G.current&&clearTimeout(G.current),G.current=setTimeout(()=>te(null),Nx)}}catch(de){A(de instanceof Error?de.message:"Recording failed"),ne(!1),z.current?.state==="recording"&&z.current.stop()}finally{y(!1)}},[J,se,Ee]),Q=k.useCallback(async de=>{if(!de.text)return;O(_e=>_e.map(W=>W.text===de.text?{...W,count:W.count+1}:W));let Re=!0;fetch("/api/add_ean_to_list/",{method:"POST",body:JSON.stringify({item_name:de.text,count:1,subgroups:de.subgroups||"",wish_list:"true"}),headers:{"Content-type":"application/json; charset=UTF-8"}}).catch(_e=>{console.error("Error sending item:",_e),Re=!1}),Re||(O(_e=>_e.map(W=>W.text===de.text?{...W,count:W.count-1}:W)),A("Failed to update item count"))},[]),Se=k.useCallback(async de=>{if(!de.text)return;const Re=de.count<=1;O(W=>Re?W.filter($=>$.text!==de.text):W.map($=>$.text===de.text?{...$,count:$.count-1}:$)),await Rx(`/api/add_ean_to_list/?item_name=${encodeURIComponent(de.text)}&count=-1&wish_list=true`)||A("Failed to update item count")},[]),ce=k.useCallback(async()=>{y(!0),A(null);try{const Re=(await l0("/api/fetch_items?only_wish_list=true")).items.map(_e=>({ean:_e.ean,text:_e.text,subgroups:_e.subgroups,style:"",classname:_e.classname,count:_e.count,perish_dates:_e.perish_dates,imageUrl:_e.imageUrl,onClickIncrease:Q,onClickDecrease:Se}));O(Re)}catch(de){const Re=de instanceof Error?de.message:"Failed to fetch wish list";A(Re),console.error("WishList fetch failed:",de)}finally{y(!1)}},[Q,Se]),Ze=k.useMemo(()=>S.map((de,Re)=>D.jsx(xd,{ean:de.ean,text:de.text,subgroups:de.subgroups,count:de.count,classname:de.classname,perish_dates:["none"],imageUrl:de.imageUrl,onClickIncrease:Q,onClickDecrease:Se,style:""},`${de.text}-${Re}`)),[S,Q,Se]);if(k.useEffect(()=>{ce()},[ce]),k.useEffect(()=>()=>{z.current?.state==="recording"&&z.current.stop(),G.current&&clearTimeout(G.current)},[]),N&&S.length===0)return D.jsx("div",{className:"flex justify-center items-center min-h-screen",children:D.jsx("div",{className:"text-cyan-400 text-lg",children:"Loading..."})});const qe=S.length===0&&!b;return D.jsxs(D.Fragment,{children:[D.jsx(md,{isOpen:_,onClose:()=>I(!1)}),D.jsx("div",{className:"flex flex-col min-h-screen",children:b?D.jsx(h0,{text:b}):D.jsxs(D.Fragment,{children:[D.jsxs("header",{className:"flex items-center h-14 sm:h-16 px-3 sm:px-6 gap-3 sm:gap-4",children:[D.jsx("button",{onClick:()=>I(!_),className:"flex items-center justify-center w-10 h-10 rounded-lg hover:bg-slate-700/50 transition-colors flex-shrink-0",children:D.jsx(Ng,{className:"h-6 w-6 text-white"})}),D.jsxs("div",{className:"flex gap-2",children:[D.jsx(Zh,{text:"+",onClick:()=>X(null,1),className:""}),D.jsx(Zh,{text:"-",onClick:()=>X(null,-1),className:""})]}),D.jsx("button",{onClick:me,disabled:N,className:`px-3 sm:px-4 py-2 rounded-lg text-white font-medium text-sm transition-colors flex-shrink-0 ${J?"bg-red-500 hover:bg-red-600 animate-pulse":"bg-blue-500 hover:bg-blue-600"} disabled:opacity-50 disabled:cursor-not-allowed`,children:N?"...":J?"Stop":"Record"}),ue&&!p&&D.jsx("div",{className:"max-w-xs p-2 bg-green-100 border border-green-300 rounded text-xs",children:D.jsx("p",{className:"text-green-700 truncate",children:ue})}),N&&D.jsx("span",{className:"text-sm text-gray-400 ml-2",children:"Updating..."})]}),ue&&p&&D.jsxs("div",{className:"mx-3 mt-2 p-2 bg-green-100 border border-green-300 rounded text-xs",children:[D.jsx("p",{className:"font-semibold text-green-800",children:"Transcribed:"}),D.jsx("p",{className:"text-green-700",children:ue})]}),D.jsx("main",{className:"flex-1 p-3 sm:p-4 md:p-6",children:D.jsx("div",{className:"max-w-4xl mx-auto",children:qe?D.jsx(pd,{text:`No items on your wish list.
Add something you'd like to buy!`}):Ze})})]})})]})}function _x(){return D.jsxs(F2,{children:[D.jsx(Ni,{path:"/",element:D.jsx(Zg,{})}),D.jsx(Ni,{path:"/scanner",element:D.jsx(Xh,{})}),D.jsx(Ni,{path:"/scanner/legacy",element:D.jsx(Xh,{})}),D.jsx(Ni,{path:"/scanner/ml",element:D.jsx(vx,{})}),D.jsx(Ni,{path:"/scanner/manual",element:D.jsx(Sx,{})}),D.jsx(Ni,{path:"/wish_list",element:D.jsx(Ox,{})})]})}vg.createRoot(document.getElementById("root")).render(D.jsx(k.StrictMode,{children:D.jsx(ug,{children:D.jsx(_x,{})})}));
